{"version":3,"sources":["scripts/less-2c8757a6d5.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","less","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"addDataAttr","browser","options","currentScript","undefined","isFileProtocol","test","location","protocol","async","fileAsync","poll","env","hostname","port","dumpLineNumbers","exec","hash","useFileCache","onReady","./browser","./utils",2,"watch","registerStylesheetsImmediately","pageLoadFinished","refresh","./add-default-options","./index","promise/polyfill.js",3,"utils","createCSS","document","styles","sheet","href","id","title","extractId","oldStyleNode","getElementById","keepOldStyleNode","styleNode","createElement","setAttribute","media","styleSheet","appendChild","createTextNode","childNodes","firstChild","nodeValue","head","getElementsByTagName","nextEl","nextSibling","parentNode","insertBefore","removeChild","cssText","scripts",4,"logger","cache","localStorage","_","setCSS","path","lastModified","info","setItem","error","getCSS","webInfo","css","getItem","timestamp","Date","valueOf",5,"errorHTML","rootHref","timer","content","template","elem","errors","filename","filenameNoPath","match","className","type","message","errorline","classname","extract","push","replace","parseInt","line","column","join","stack","logLevel","split","slice","innerHTML","style","setInterval","body","replaceChild","clearInterval","errorReporting","errorConsole","removeErrorHTML","node","removeErrorConsole","removeError","add","remove",6,"getXMLHttpRequest","XMLHttpRequest","ActiveXObject","AbstractFileManager","fileCache","FileManager","prototype","alwaysMakePathsAbsolute","basePath","laterPath","extractUrlParts","doXHR","url","callback","errback","handleResponse","xhr","status","responseText","getResponseHeader","overrideMimeType","debug","open","setRequestHeader","send","onreadystatechange","readyState","supports","currentDirectory","environment","clearFileCache","loadFile","isPathAbsolute","hrefParts","lessText","contents","mime","data","../less/environment/abstract-file-manager.js",7,"postProcessCSS","postProcessor","clone","obj","cloned","prop","hasOwnProperty","bind","func","thisArg","curryArgs","Array","arguments","args","concat","apply","loadStyles","modifyVars","typePattern","instanceOptions","render","result","loadStyleSheet","reload","remaining","loadInitialFileCallback","loadedFile","newFileInfo","fileManager","getPath","rootFilename","relativeUrls","entryPath","rootpath","local","rootFileInfo","loadStyleSheets","sheets","initRunningMode","watchTimer","watchMode","addFileManager","functions","functionRegistry","addMultiple","unwatch","links","rel","registerStylesheets","Promise","resolve","reject","record","startTime","endTime","totalMilliseconds","refreshStyles","../less","./cache","./error-reporting","./file-manager","./log-listener",8,"logLevel_debug","logLevel_info","logLevel_warn","logLevel_error","loggers","msg","console","log","warn","addListener",9,"tag","opt","dataset","JSON","parse",10,"contexts","copyFromOriginal","original","destination","propertiesToCopy","parseCopyProperties","Parse","paths","evalCopyProperties","Eval","frames","importantScope","inParenthesis","parensStack","outOfParenthesis","pop","isMathOn","strictMath","isPathRelative","normalizePath","segment","segments","reverse",11,"aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen",12,"colors","unitConversions","./colors","./unit-conversions",13,"m","cm","mm","in","px","pt","pc","duration","ms","angle","rad","Math","PI","deg","grad","turn",14,"abstractFileManager","j","lastIndexOf","tryAppendExtension","ext","tryAppendLessExtension","supportsSync","pathDiff","baseUrl","max","urlDirectories","baseUrlDirectories","urlParts","baseUrlParts","diff","hostPart","directories","urlPartsRegex","returner","splice","fileUrl",15,"externalEnvironment","fileManagers","optionalFunctions","requiredFunctions","propName","environmentFunc","getFileManager","isSync","pluginManager","getFileManagers","clearFileManagers","../logger",16,"colorBlend","mode","color1","color2","cb","cs","ar","cr","ab","alpha","as","rgb","Color","colorBlendModeFunctions","multiply","screen","overlay","softlight","d","sqrt","hardlight","difference","abs","exclusion","average","negation","../tree/color","./function-registry",17,"clamp","val","min","hsla","color","colorFunctions","h","number","Dimension","parseFloat","unit","is","value","scaled","size","Quoted","Anonymous","b","rgba","map","c","hsl","hue","m1","m2","hsv","v","hsva","floor","vs","perm","toHSL","saturation","lightness","hsvhue","toHSV","hsvsaturation","hsvvalue","luma","luminance","saturate","amount","method","desaturate","lighten","darken","fadein","fadeout","fade","spin","mix","weight","dir","p","w","w1","w2","greyscale","contrast","dark","light","threshold","argb","toARGB","fromKeyword","tint","shade","../tree/anonymous","../tree/dimension","../tree/quoted",18,"URL","fallback","functionThis","index","currentFileInfo","eval","context","mimetypeNode","filePathNode","mimetype","filePath","fragmentStart","indexOf","fragment","useBase64","mimeLookup","charset","charsetLookup","fileSync","loadFileSync","buf","encodeBase64","encodeURIComponent","uri","DATA_URI_MAX","ieCompat","../tree/url",19,"Keyword","defaultFunc","value_","error_","True","False","reset","../tree/keyword",20,"Expression","functionCaller","name","toLowerCase","get","isValid","Boolean","isArray","filter","item","subNodes","../tree/expression",21,"makeRegistry","base","_data","Object","keys","forEach","inherit",22,"./color","./color-blending","./data-uri","./default","./function-caller","./math","./number","./string","./svg","./types",23,"MathHelper","_math","fn","unify",24,"mathHelper","mathFunctions","ceil","sin","cos","atan","asin","acos","round","fraction","num","toFixed","./math-helper.js",25,"minMax","isMin","current","currentUnified","referenceUnified","unitStatic","unitClone","order","values","toString","toCSS","compress","convert","convertTo","pi","mod","pow","x","y","percentage",26,"JavaScript","str","evaluated","escape","encodeURI","string","pattern","replacement","flags","RegExp","quote","escaped","%","token","../tree/javascript",27,"direction","throwArgumentDescriptor","stops","gradientDirectionSvg","position","positionValue","gradientType","rectangleDimension","renderEnv","directionValue","toRGB",28,"DetachedRuleset","Operation","isa","Type","isunit","getItemsFromNode","items","isruleset","iscolor","isnumber","isstring","iskeyword","isurl","ispixel","ispercentage","isem","get-unit","../tree/detached-ruleset","../tree/operation",29,"Parser","FunctionImporter","ImportManager","contentsIgnoredChars","queue","files","importOptions","importManager","fileParsedFunc","root","fullPath","importedEqualsRoot","optional","rules","plugin","loadFileCallback","resolvedFilename","newEnv","processImports","reference","inline","promise","err","then","./contexts","./parser/parser","./plugins/function-importer",30,"SourceMapOutput","SourceMapBuilder","ParseTree","Environment","version","tree","visitors","LessError","transformTree","PluginManager","./data","./environment/abstract-file-manager","./environment/environment","./functions","./import-manager","./less-error","./logger","./parse","./parse-tree","./plugin-manager","./render","./source-map-builder","./source-map-output","./transform-tree","./tree","./visitors",31,"currentFilename","input","loc","getLocation","col","callLine","lines","callExtract","create","F","constructor",32,"_fireEvent","listener","_listeners","removeListener","logFunction",33,"imports","evaldRoot","sourceMapBuilder","toCSSOptions","strictUnits","numPrecision","sourceMap","postProcessors","getPostProcessors","process","getExternalSourceMap","file",34,"PromiseConstructor","output","addPlugins","plugins",35,"fail","emitChunk","force","len","chunkerCurrentIndex","emitFrom","chunks","lastOpening","lastOpeningParen","lastMultiComment","lastMultiCommentEndBrace","currentChunkStartIndex","cc","cc2","matched","level","parenLevel","charCodeAt","String","fromCharCode",36,"chunker","furthest","furthestPossibleErrorMessage","currentPos","saveStack","parserInput","save","restore","possibleErrorMessage","state","forget","isWhitespace","offset","pos","CHARCODE_SPACE","CHARCODE_CR","CHARCODE_TAB","CHARCODE_LF","$re","tok","skipWhitespace","$char","charAt","$str","tokLength","$quoted","startChar","currentPosition","nextChar","substr","CHARCODE_PLUS","CHARCODE_COMMA","CHARCODE_FORWARD_SLASH","CHARCODE_9","autoCommentAbsorb","commentStore","finished","comment","oldi","oldj","curr","endIndex","mem","inp","isLineComment","nextNewLine","text","nextStarSlash","peek","peekChar","currentChar","getInput","peekNotNumeric","start","chunkInput","failFunction","end","isFinished","furthestReachedEnd","furthestChar","./chunker",37,"getParserInput","fileInfo","expect","arg","parsers","expectChar","getDebugInfo","lineNumber","fileName","additionalData","globalVars","ignored","preText","serializeVars","preProcessors","getPreProcessors","banner","primary","firstRoot","endInfo","finish","ImportVisitor","run","mixin","extendRule","definition","rule","ruleset","rulesetCall","directive","foundSemiColon","shift","entities","quoted","isEscaped","keyword","k","nameLC","assignment","expression","literal","dimension","unicodeDescriptor","key","entity","variable","Variable","variableCurly","curly","colorCandidateString","ud","javascript","js","jsQuote","RulesetCall","extend","isRule","elements","option","extendList","element","elemIndex","important","isCall","isSemiColonSeparated","expressionContainsNamed","nameLoop","expand","variadic","expressions","argsSemiColon","argsComma","detachedRuleset","throwAwayComments","cond","params","argInfo","conditions","block","combinator","attribute","selector","slashedCombinator","lessSelector","isLess","allExtends","when","condition","op","blockRuleset","Ruleset","selectors","debugInfo","strictImports","tryAnonymous","merge","isVariable","startOfRule","ruleProperty","tryValueFirst","anonymousValue","import","features","mediaFeatures","optionName","importOption","mediaFeature","nodes","property","nonVendorSpecificName","hasIdentifier","hasExpression","hasUnknown","hasBlock","isRooted","trim","sub","addition","parens","multiplication","operation","isSpaced","operand","parensInOp","negate","delim","re","chunk","simpleProperty","vars","../less-error","../tree","../utils","../visitors","./parser-input",38,"installedPlugins","addPlugin","install","addVisitor","visitor","addPreProcessor","preProcessor","priority","indexToInsertAt","addPostProcessor","manager","getVisitors",39,"loader","registry","loaded","Function",40,"parseTree",41,"rootNode","sourceMapOutput","contentsIgnoredCharsMap","contentsMap","sourceMapFilename","sourceMapURL","outputFilename","sourceMapOutputFilename","sourceMapBasepath","sourceMapRootpath","outputSourceFiles","sourceMapGenerator","sourceMapFileInline","sourceMapInputFilename","normalizeFilename","getCSSAppendage","setExternalSourceMap","isInline","getSourceMapURL","getOutputFilename","getInputFilename",42,"_css","_rootNode","_contentsMap","_contentsIgnoredCharsMap","_sourceMapFilename","_outputFilename","_sourceMapBasepath","_sourceMapRootpath","_outputSourceFiles","_sourceMapGeneratorConstructor","getSourceMapGenerator","_lineNumber","_column","substring","mapLines","sourceLines","columns","sourceColumns","inputSource","_sourceMapGenerator","addMapping","generated","source","isEmpty","sourceRoot","setSourceContent","genCSS","sourceMapContent","stringify","toJSON",43,"variables","evalEnv","Value","Rule","preEvalVisitors","JoinSelectorVisitor","ExtendVisitor","ToCSSVisitor","pluginVisitors","pluginVisitor","isPreEvalVisitor","isPreVisitor",44,"Node","Alpha","accept","visit","./node",45,"rulesetLike","referenced","isReferenced","compare","other","isRulesetLike","markReferenced","getIsReferenced",46,"Assignment",47,"Attribute",48,"FunctionCaller","Call","visitArray","funcCaller","../functions/function-caller",49,"toHex","originalForm","doNotCompress","fround","splitcolor","operate","_operate","../data/colors",50,"Combinator","emptyOrWhitespace","_noSpaceCombinators",""," ","|","spaceOrEmpty",51,"Comment","isSilent","isReference","isCompressed","./debug-info",52,"Condition","lvalue","rvalue",53,"ctx","lineSeparator","asComment","asMediaQuery","filenameWithProtocol",54,"evalFirst","callEval","../contexts",55,"Unit","toColor","isSingular","strValue","isLength","numerator","denominator","backupUnit","usedUnits","sort","cancel","numericCompare","conversions","groupName","group","targetUnit","applyUnit","derivedConversions","atomicUnit","../data/unit-conversions","./unit",56,"Selector","Directive","createEmptySelectors","allowImports","isCharset","outputRuleset","mediaPathBackup","mediaBlocksBackup","mediaPath","mediaBlocks","find","rulesets","ruleCnt","tabLevel","tabSetStr","tabRuleStr","./ruleset","./selector",57,"Paren","Element","firstSelector","./combinator","./paren",58,"returnValue","doubleParen","./comment",59,"Extend","object_id","next_id","parent_ids","allowBefore","allowAfter","findSelfSelectors","selectorElements","selfElements","selfSelectors",60,"Media","Import","pathValue","isVariableImport","containsVariables","evalForImport","evalPath","skip","importedFilename","newImport","evalImports","./anonymous","./media","./quoted","./url",61,"Definition","UnicodeDescriptor","Negative","./alpha","./assignment","./attribute","./call","./condition","./detached-ruleset","./dimension","./directive","./element","./expression","./extend","./import","./javascript","./keyword","./mixin-call","./mixin-definition","./negative","./operation","./rule","./ruleset-call","./unicode-descriptor","./value","./variable",62,"JsEvalNode","evaluateJavaScript","./js-eval-node",63,"that","evalContext","javascriptEnabled","jsify","toJS",64,65,"strictMathBypass","unshift","evalTop","evalNested","multiMedia","permute","arr","rest","bubbleSelectors",66,"MixinDefinition","MixinCall","calcDefGroup","mixinPath","namespace","conditionResult","matchCondition","defTrue","defFalse","defNone","defFalseEitherCase","mixins","argValue","isRecursive","isOneFound","candidate","defaultResult","count","originalRuleset","noArgumentsFilter","candidates","matchArgs","format","evalCall","../functions/default",67,"arity","_lookups","optionalParameters","required","reduce","evalParams","mixinEnv","evaldArguments","varargs","isNamedFound","argIndex","frame","argsLength","prependRule","resetCache","makeImportant","_arguments","mixinFrames","allArgsCnt","requiredArgsCnt",68,69,"strs","precision","Number",70,"operands",71,72,"iterativeReplace","regexp","replacementFnc","evaluatedValue","javascriptReplacement","exp","interpolationReplacement",73,"evalName","lastRule","evaldValue","importantResult","mark",74,75,"globalFunctionRegistry","isRuleset","selCnt","thisSelectors","hasOnePassingSelector","evaldCondition","subRule","found","ctxFrames","ctxSelectors","rsRules","rsRuleCnt","mediaBlockCount","isJustParentSelector","importRules","lastSelector","_rulesets","_variables","filtRules","cnt","foundMixins","isRulesetLikeNode","charsetRuleNodes","ruleNodes","sep","charsetNodeIndex","importNodeIndex","pathSubCnt","pathCnt","currentLastRule","joinSelectors","joinSelector","createParenthesis","elementsToPak","originalElement","replacementParen","insideParent","createSelector","containedElement","replaceParentSelector","inSelector","findNestedSelector","maybeSelector","currentElements","newSelectors","selectorsMultiplied","sel","el","hadParentSelector","nestedSelector","mergeElementsOnToSelectors","replaced","nestedPaths","replacedNewSelectors","replacementSelector","addAllReplacementsIntoPath","newSelectorPath","addReplacementIntoPath","createDerived","beginningPath","addPath","replacedElement","originalSelector","newJoinedSelector","parentEl","addPaths","newPaths","../functions/function-registry",76,"newSelector","mediaEmpty","sels","olen","CacheElements","_elements","getIsOutput",77,78,"returnStr","unitString","toUpperCase","mapUnit","counter",79,"isEvald","urlArgs","delimiter",80,81,"evaluating","fun",82,"inputStream",83,"Visitor","ExtendFinderVisitor","_visitor","allExtendsStack","visitRule","ruleNode","visitArgs","visitDeeper","visitMixinDefinition","mixinDefinitionNode","visitRuleset","rulesetNode","allSelectorsExtendList","extendOnEveryPath","selectorPath","selExtendList","allSelectorsExtend","foundExtends","firstExtendOnThisSelectorPath","visitRulesetOut","visitMedia","mediaNode","visitMediaOut","visitDirective","directiveNode","visitDirectiveOut","ProcessExtendsVisitor","extendFinder","extendIndicies","doExtendChaining","newRoot","checkExtendsForNonMatched","indicies","hasFoundMatches","extendsList","extendsListTarget","iterationCount","extendIndex","targetExtendIndex","matches","targetExtend","newExtend","extendsToAdd","extendVisitor","findMatch","selfSelector","extendSelector","extendChainCount","selectorOne","selectorTwo","visitSelector","selectorNode","pathIndex","selectorsToAdd","haystackSelectorPath","haystackSelectorIndex","hackstackSelector","hackstackElementIndex","haystackElement","targetCombinator","potentialMatch","needleElements","potentialMatches","initialCombinator","isElementValuesEqual","endPathIndex","endPathElementIndex","elementValue1","elementValue2","matchIndex","firstElement","newElements","currentSelectorPathIndex","currentSelectorPathElementIndex","newAllExtends","lastIndex","./visitor",84,"ImportSequencer","onSequencerEmpty","variableImports","_onSequencerEmpty","_currentDepth","addImport","importSequencer","importItem","isReady","tryRun","addVariableImport","variableImport",85,"importer","_importer","_finish","importCount","onceFileDetectionMap","recursionDetector","_sequencer","isReplacing","visitImport","importNode","inlineCSS","importParent","processImportNode","evaldImportNode","multiple","importMultiple","onImported","sequencedOnImported","importedAtRoot","importVisitor","isPlugin","isOptional","duplicateImport","oldContext","visitRuleOut","visitMixinDefinitionOut","./import-sequencer",86,"./extend-visitor","./import-visitor","./join-selector-visitor","./to-css-visitor",87,88,"_context","mixinNode","visitExtend","extendNode","visitComment","commentNode","hasVisibleChild","bodyRules","_mergeRules","checkPropertiesInRoot","nodeRules","nodeRuleCnt","_removeDuplicateRules","ruleList","ruleCache","ruleCSS","parts","groups","toExpression","toValue","spacedGroups","lastSpacedGroup","visitAnonymous","anonymousNode",89,"_noop","indexNodeTypes","parent","ticker","child","typeIndex","_visitArgs","_hasIndexed","implementation","_implementation","_visitFnCache","nodeTypeIndex","fnName","visitFnCache","impl","aryIndx","outAryIndex","funcOut","newNode","nonReplacing","out","evald","flatten","nestedCnt","nestedItem",90,"drainQueue","draining","currentQueue","noop","nextTick","setTimeout","argv","versions","on","once","off","removeAllListeners","emit","binding","cwd","chdir","umask",91,"handle","deferred","deferreds","asap","onFulfilled","onRejected","ret","newValue","TypeError","doResolve","finale","Handler","done","reason","ex",92,"ValuePromise","TRUE","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","all","res","race","./core.js",93,"flush","next","task","domain","enter","isNodeJS","exit","flushing","tail","requestFlush","setImmediate","MessageChannel","channel","port1","onmessage","port2","postMessage","_process",94,95,"./lib/core.js","./lib/es6-extensions.js","./polyfill-done.js"],"mappings":"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","file":"scripts/less-2c8757a6d5.js","sourcesContent":["/*!\n * Less - Leaner CSS v2.5.3\n * http://lesscss.org\n *\n * Copyright (c) 2009-2015, Alexis Sellier <self@cloudhead.net>\n * Licensed under the  License.\n *\n */\n\n /** * @license \n */\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.less = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar addDataAttr = require(\"./utils\").addDataAttr,\n    browser = require(\"./browser\");\n\nmodule.exports = function(window, options) {\n\n    // use options from the current script tag data attribues\n    addDataAttr(options, browser.currentScript(window));\n\n    if (options.isFileProtocol === undefined) {\n        options.isFileProtocol = /^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(window.location.protocol);\n    }\n\n    // Load styles asynchronously (default: false)\n    //\n    // This is set to `false` by default, so that the body\n    // doesn't start loading before the stylesheets are parsed.\n    // Setting this to `true` can result in flickering.\n    //\n    options.async = options.async || false;\n    options.fileAsync = options.fileAsync || false;\n\n    // Interval between watch polls\n    options.poll = options.poll || (options.isFileProtocol ? 1000 : 1500);\n\n    options.env = options.env || (window.location.hostname == '127.0.0.1' ||\n        window.location.hostname == '0.0.0.0'   ||\n        window.location.hostname == 'localhost' ||\n        (window.location.port &&\n            window.location.port.length > 0)      ||\n        options.isFileProtocol                   ? 'development'\n        : 'production');\n\n    var dumpLineNumbers = /!dumpLineNumbers:(comments|mediaquery|all)/.exec(window.location.hash);\n    if (dumpLineNumbers) {\n        options.dumpLineNumbers = dumpLineNumbers[1];\n    }\n\n    if (options.useFileCache === undefined) {\n        options.useFileCache = true;\n    }\n\n    if (options.onReady === undefined) {\n        options.onReady = true;\n    }\n\n};\n\n},{\"./browser\":3,\"./utils\":9}],2:[function(require,module,exports){\n/**\n * Kicks off less and compiles any stylesheets\n * used in the browser distributed version of less\n * to kick-start less using the browser api\n */\n/*global window */\n\n// shim Promise if required\nrequire('promise/polyfill.js');\n\nvar options = window.less || {};\nrequire(\"./add-default-options\")(window, options);\n\nvar less = module.exports = require(\"./index\")(window, options);\n\nwindow.less = less;\n\nif (options.onReady) {\n    if (/!watch/.test(window.location.hash)) {\n        less.watch();\n    }\n\n    less.registerStylesheetsImmediately();\n    less.pageLoadFinished = less.refresh(less.env === 'development');\n}\n\n},{\"./add-default-options\":1,\"./index\":7,\"promise/polyfill.js\":95}],3:[function(require,module,exports){\nvar utils = require(\"./utils\");\nmodule.exports = {\n    createCSS: function (document, styles, sheet) {\n        // Strip the query-string\n        var href = sheet.href || '';\n\n        // If there is no title set, use the filename, minus the extension\n        var id = 'less:' + (sheet.title || utils.extractId(href));\n\n        // If this has already been inserted into the DOM, we may need to replace it\n        var oldStyleNode = document.getElementById(id);\n        var keepOldStyleNode = false;\n\n        // Create a new stylesheet node for insertion or (if necessary) replacement\n        var styleNode = document.createElement('style');\n        styleNode.setAttribute('type', 'text/css');\n        if (sheet.media) {\n            styleNode.setAttribute('media', sheet.media);\n        }\n        styleNode.id = id;\n\n        if (!styleNode.styleSheet) {\n            styleNode.appendChild(document.createTextNode(styles));\n\n            // If new contents match contents of oldStyleNode, don't replace oldStyleNode\n            keepOldStyleNode = (oldStyleNode !== null && oldStyleNode.childNodes.length > 0 && styleNode.childNodes.length > 0 &&\n                oldStyleNode.firstChild.nodeValue === styleNode.firstChild.nodeValue);\n        }\n\n        var head = document.getElementsByTagName('head')[0];\n\n        // If there is no oldStyleNode, just append; otherwise, only append if we need\n        // to replace oldStyleNode with an updated stylesheet\n        if (oldStyleNode === null || keepOldStyleNode === false) {\n            var nextEl = sheet && sheet.nextSibling || null;\n            if (nextEl) {\n                nextEl.parentNode.insertBefore(styleNode, nextEl);\n            } else {\n                head.appendChild(styleNode);\n            }\n        }\n        if (oldStyleNode && keepOldStyleNode === false) {\n            oldStyleNode.parentNode.removeChild(oldStyleNode);\n        }\n\n        // For IE.\n        // This needs to happen *after* the style element is added to the DOM, otherwise IE 7 and 8 may crash.\n        // See http://social.msdn.microsoft.com/Forums/en-US/7e081b65-878a-4c22-8e68-c10d39c2ed32/internet-explorer-crashes-appending-style-element-to-head\n        if (styleNode.styleSheet) {\n            try {\n                styleNode.styleSheet.cssText = styles;\n            } catch (e) {\n                throw new Error(\"Couldn't reassign styleSheet.cssText.\");\n            }\n        }\n    },\n    currentScript: function(window) {\n        var document = window.document;\n        return document.currentScript || (function() {\n            var scripts = document.getElementsByTagName(\"script\");\n            return scripts[scripts.length - 1];\n        })();\n    }\n};\n\n},{\"./utils\":9}],4:[function(require,module,exports){\n// Cache system is a bit outdated and could do with work\n\nmodule.exports = function(window, options, logger) {\n    var cache = null;\n    if (options.env !== 'development') {\n        try {\n            cache = (typeof window.localStorage === 'undefined') ? null : window.localStorage;\n        } catch (_) {}\n    }\n    return {\n        setCSS: function(path, lastModified, styles) {\n            if (cache) {\n                logger.info('saving ' + path + ' to cache.');\n                try {\n                    cache.setItem(path, styles);\n                    cache.setItem(path + ':timestamp', lastModified);\n                } catch(e) {\n                    //TODO - could do with adding more robust error handling\n                    logger.error('failed to save \"' + path + '\" to local storage for caching.');\n                }\n            }\n        },\n        getCSS: function(path, webInfo) {\n            var css       = cache && cache.getItem(path),\n                timestamp = cache && cache.getItem(path + ':timestamp');\n\n            if (timestamp && webInfo.lastModified &&\n                (new Date(webInfo.lastModified).valueOf() ===\n                    new Date(timestamp).valueOf())) {\n                // Use local copy\n                return css;\n            }\n        }\n    };\n};\n\n},{}],5:[function(require,module,exports){\nvar utils = require(\"./utils\"),\n    browser = require(\"./browser\");\n\nmodule.exports = function(window, less, options) {\n\n    function errorHTML(e, rootHref) {\n        var id = 'less-error-message:' + utils.extractId(rootHref || \"\");\n        var template = '<li><label>{line}</label><pre class=\"{class}\">{content}</pre></li>';\n        var elem = window.document.createElement('div'), timer, content, errors = [];\n        var filename = e.filename || rootHref;\n        var filenameNoPath = filename.match(/([^\\/]+(\\?.*)?)$/)[1];\n\n        elem.id        = id;\n        elem.className = \"less-error-message\";\n\n        content = '<h3>'  + (e.type || \"Syntax\") + \"Error: \" + (e.message || 'There is an error in your .less file') +\n            '</h3>' + '<p>in <a href=\"' + filename   + '\">' + filenameNoPath + \"</a> \";\n\n        var errorline = function (e, i, classname) {\n            if (e.extract[i] !== undefined) {\n                errors.push(template.replace(/\\{line\\}/, (parseInt(e.line, 10) || 0) + (i - 1))\n                    .replace(/\\{class\\}/, classname)\n                    .replace(/\\{content\\}/, e.extract[i]));\n            }\n        };\n\n        if (e.extract) {\n            errorline(e, 0, '');\n            errorline(e, 1, 'line');\n            errorline(e, 2, '');\n            content += 'on line ' + e.line + ', column ' + (e.column + 1) + ':</p>' +\n                '<ul>' + errors.join('') + '</ul>';\n        }\n        if (e.stack && (e.extract || options.logLevel >= 4)) {\n            content += '<br/>Stack Trace</br />' + e.stack.split('\\n').slice(1).join('<br/>');\n        }\n        elem.innerHTML = content;\n\n        // CSS for error messages\n        browser.createCSS(window.document, [\n            '.less-error-message ul, .less-error-message li {',\n            'list-style-type: none;',\n            'margin-right: 15px;',\n            'padding: 4px 0;',\n            'margin: 0;',\n            '}',\n            '.less-error-message label {',\n            'font-size: 12px;',\n            'margin-right: 15px;',\n            'padding: 4px 0;',\n            'color: #cc7777;',\n            '}',\n            '.less-error-message pre {',\n            'color: #dd6666;',\n            'padding: 4px 0;',\n            'margin: 0;',\n            'display: inline-block;',\n            '}',\n            '.less-error-message pre.line {',\n            'color: #ff0000;',\n            '}',\n            '.less-error-message h3 {',\n            'font-size: 20px;',\n            'font-weight: bold;',\n            'padding: 15px 0 5px 0;',\n            'margin: 0;',\n            '}',\n            '.less-error-message a {',\n            'color: #10a',\n            '}',\n            '.less-error-message .error {',\n            'color: red;',\n            'font-weight: bold;',\n            'padding-bottom: 2px;',\n            'border-bottom: 1px dashed red;',\n            '}'\n        ].join('\\n'), { title: 'error-message' });\n\n        elem.style.cssText = [\n            \"font-family: Arial, sans-serif\",\n            \"border: 1px solid #e00\",\n            \"background-color: #eee\",\n            \"border-radius: 5px\",\n            \"-webkit-border-radius: 5px\",\n            \"-moz-border-radius: 5px\",\n            \"color: #e00\",\n            \"padding: 15px\",\n            \"margin-bottom: 15px\"\n        ].join(';');\n\n        if (options.env === 'development') {\n            timer = setInterval(function () {\n                var document = window.document,\n                    body = document.body;\n                if (body) {\n                    if (document.getElementById(id)) {\n                        body.replaceChild(elem, document.getElementById(id));\n                    } else {\n                        body.insertBefore(elem, body.firstChild);\n                    }\n                    clearInterval(timer);\n                }\n            }, 10);\n        }\n    }\n\n    function error(e, rootHref) {\n        if (!options.errorReporting || options.errorReporting === \"html\") {\n            errorHTML(e, rootHref);\n        } else if (options.errorReporting === \"console\") {\n            errorConsole(e, rootHref);\n        } else if (typeof options.errorReporting === 'function') {\n            options.errorReporting(\"add\", e, rootHref);\n        }\n    }\n\n    function removeErrorHTML(path) {\n        var node = window.document.getElementById('less-error-message:' + utils.extractId(path));\n        if (node) {\n            node.parentNode.removeChild(node);\n        }\n    }\n\n    function removeErrorConsole(path) {\n        //no action\n    }\n\n    function removeError(path) {\n        if (!options.errorReporting || options.errorReporting === \"html\") {\n            removeErrorHTML(path);\n        } else if (options.errorReporting === \"console\") {\n            removeErrorConsole(path);\n        } else if (typeof options.errorReporting === 'function') {\n            options.errorReporting(\"remove\", path);\n        }\n    }\n\n    function errorConsole(e, rootHref) {\n        var template = '{line} {content}';\n        var filename = e.filename || rootHref;\n        var errors = [];\n        var content = (e.type || \"Syntax\") + \"Error: \" + (e.message || 'There is an error in your .less file') +\n            \" in \" + filename + \" \";\n\n        var errorline = function (e, i, classname) {\n            if (e.extract[i] !== undefined) {\n                errors.push(template.replace(/\\{line\\}/, (parseInt(e.line, 10) || 0) + (i - 1))\n                    .replace(/\\{class\\}/, classname)\n                    .replace(/\\{content\\}/, e.extract[i]));\n            }\n        };\n\n        if (e.extract) {\n            errorline(e, 0, '');\n            errorline(e, 1, 'line');\n            errorline(e, 2, '');\n            content += 'on line ' + e.line + ', column ' + (e.column + 1) + ':\\n' +\n                errors.join('\\n');\n        }\n        if (e.stack && (e.extract || options.logLevel >= 4)) {\n            content += '\\nStack Trace\\n' + e.stack;\n        }\n        less.logger.error(content);\n    }\n\n    return {\n        add: error,\n        remove: removeError\n    };\n};\n\n},{\"./browser\":3,\"./utils\":9}],6:[function(require,module,exports){\n/*global window, XMLHttpRequest */\n\nmodule.exports = function(options, logger) {\n\n    var AbstractFileManager = require(\"../less/environment/abstract-file-manager.js\");\n\n    var fileCache = {};\n\n    //TODOS - move log somewhere. pathDiff and doing something similar in node. use pathDiff in the other browser file for the initial load\n\n    function getXMLHttpRequest() {\n        if (window.XMLHttpRequest && (window.location.protocol !== \"file:\" || !(\"ActiveXObject\" in window))) {\n            return new XMLHttpRequest();\n        } else {\n            try {\n                /*global ActiveXObject */\n                return new ActiveXObject(\"Microsoft.XMLHTTP\");\n            } catch (e) {\n                logger.error(\"browser doesn't support AJAX.\");\n                return null;\n            }\n        }\n    }\n\n    var FileManager = function() {\n    };\n\n    FileManager.prototype = new AbstractFileManager();\n\n    FileManager.prototype.alwaysMakePathsAbsolute = function alwaysMakePathsAbsolute() {\n        return true;\n    };\n    FileManager.prototype.join = function join(basePath, laterPath) {\n        if (!basePath) {\n            return laterPath;\n        }\n        return this.extractUrlParts(laterPath, basePath).path;\n    };\n    FileManager.prototype.doXHR = function doXHR(url, type, callback, errback) {\n\n        var xhr = getXMLHttpRequest();\n        var async = options.isFileProtocol ? options.fileAsync : options.async;\n\n        if (typeof xhr.overrideMimeType === 'function') {\n            xhr.overrideMimeType('text/css');\n        }\n        logger.debug(\"XHR: Getting '\" + url + \"'\");\n        xhr.open('GET', url, async);\n        xhr.setRequestHeader('Accept', type || 'text/x-less, text/css; q=0.9, */*; q=0.5');\n        xhr.send(null);\n\n        function handleResponse(xhr, callback, errback) {\n            if (xhr.status >= 200 && xhr.status < 300) {\n                callback(xhr.responseText,\n                    xhr.getResponseHeader(\"Last-Modified\"));\n            } else if (typeof errback === 'function') {\n                errback(xhr.status, url);\n            }\n        }\n\n        if (options.isFileProtocol && !options.fileAsync) {\n            if (xhr.status === 0 || (xhr.status >= 200 && xhr.status < 300)) {\n                callback(xhr.responseText);\n            } else {\n                errback(xhr.status, url);\n            }\n        } else if (async) {\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState == 4) {\n                    handleResponse(xhr, callback, errback);\n                }\n            };\n        } else {\n            handleResponse(xhr, callback, errback);\n        }\n    };\n    FileManager.prototype.supports = function(filename, currentDirectory, options, environment) {\n        return true;\n    };\n\n    FileManager.prototype.clearFileCache = function() {\n        fileCache = {};\n    };\n\n    FileManager.prototype.loadFile = function loadFile(filename, currentDirectory, options, environment, callback) {\n        if (currentDirectory && !this.isPathAbsolute(filename)) {\n            filename = currentDirectory + filename;\n        }\n\n        options = options || {};\n\n        // sheet may be set to the stylesheet for the initial load or a collection of properties including\n        // some context variables for imports\n        var hrefParts = this.extractUrlParts(filename, window.location.href);\n        var href      = hrefParts.url;\n\n        if (options.useFileCache && fileCache[href]) {\n            try {\n                var lessText = fileCache[href];\n                callback(null, { contents: lessText, filename: href, webInfo: { lastModified: new Date() }});\n            } catch (e) {\n                callback({filename: href, message: \"Error loading file \" + href + \" error was \" + e.message});\n            }\n            return;\n        }\n\n        this.doXHR(href, options.mime, function doXHRCallback(data, lastModified) {\n            // per file cache\n            fileCache[href] = data;\n\n            // Use remote copy (re-parse)\n            callback(null, { contents: data, filename: href, webInfo: { lastModified: lastModified }});\n        }, function doXHRError(status, url) {\n            callback({ type: 'File', message: \"'\" + url + \"' wasn't found (\" + status + \")\", href: href });\n        });\n    };\n\n    return FileManager;\n};\n\n},{\"../less/environment/abstract-file-manager.js\":14}],7:[function(require,module,exports){\n//\n// index.js\n// Should expose the additional browser functions on to the less object\n//\nvar addDataAttr = require(\"./utils\").addDataAttr,\n    browser = require(\"./browser\");\n\nmodule.exports = function(window, options) {\n    var document = window.document;\n    var less = require('../less')();\n    //module.exports = less;\n    less.options = options;\n    var environment = less.environment,\n        FileManager = require(\"./file-manager\")(options, less.logger),\n        fileManager = new FileManager();\n    environment.addFileManager(fileManager);\n    less.FileManager = FileManager;\n\n    require(\"./log-listener\")(less, options);\n    var errors = require(\"./error-reporting\")(window, less, options);\n    var cache = less.cache = options.cache || require(\"./cache\")(window, options, less.logger);\n\n    //Setup user functions\n    if (options.functions) {\n        less.functions.functionRegistry.addMultiple(options.functions);\n    }\n\n    var typePattern = /^text\\/(x-)?less$/;\n\n    function postProcessCSS(styles) { // deprecated, use a plugin for postprocesstasks\n        if (options.postProcessor && typeof options.postProcessor === 'function') {\n            styles = options.postProcessor.call(styles, styles) || styles;\n        }\n        return styles;\n    }\n\n    function clone(obj) {\n        var cloned = {};\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                cloned[prop] = obj[prop];\n            }\n        }\n        return cloned;\n    }\n\n    // only really needed for phantom\n    function bind(func, thisArg) {\n        var curryArgs = Array.prototype.slice.call(arguments, 2);\n        return function() {\n            var args = curryArgs.concat(Array.prototype.slice.call(arguments, 0));\n            return func.apply(thisArg, args);\n        };\n    }\n\n    function loadStyles(modifyVars) {\n        var styles = document.getElementsByTagName('style'),\n            style;\n\n        for (var i = 0; i < styles.length; i++) {\n            style = styles[i];\n            if (style.type.match(typePattern)) {\n                var instanceOptions = clone(options);\n                instanceOptions.modifyVars = modifyVars;\n                var lessText = style.innerHTML || '';\n                instanceOptions.filename = document.location.href.replace(/#.*$/, '');\n\n                /*jshint loopfunc:true */\n                // use closure to store current style\n                less.render(lessText, instanceOptions,\n                        bind(function(style, e, result) {\n                            if (e) {\n                                errors.add(e, \"inline\");\n                            } else {\n                                style.type = 'text/css';\n                                if (style.styleSheet) {\n                                    style.styleSheet.cssText = result.css;\n                                } else {\n                                    style.innerHTML = result.css;\n                                }\n                            }\n                        }, null, style));\n            }\n        }\n    }\n\n    function loadStyleSheet(sheet, callback, reload, remaining, modifyVars) {\n\n        var instanceOptions = clone(options);\n        addDataAttr(instanceOptions, sheet);\n        instanceOptions.mime = sheet.type;\n\n        if (modifyVars) {\n            instanceOptions.modifyVars = modifyVars;\n        }\n\n        function loadInitialFileCallback(loadedFile) {\n\n            var data = loadedFile.contents,\n                path = loadedFile.filename,\n                webInfo = loadedFile.webInfo;\n\n            var newFileInfo = {\n                currentDirectory: fileManager.getPath(path),\n                filename: path,\n                rootFilename: path,\n                relativeUrls: instanceOptions.relativeUrls};\n\n            newFileInfo.entryPath = newFileInfo.currentDirectory;\n            newFileInfo.rootpath = instanceOptions.rootpath || newFileInfo.currentDirectory;\n\n            if (webInfo) {\n                webInfo.remaining = remaining;\n\n                if (!instanceOptions.modifyVars) {\n                    var css = cache.getCSS(path, webInfo);\n                    if (!reload && css) {\n                        webInfo.local = true;\n                        callback(null, css, data, sheet, webInfo, path);\n                        return;\n                    }\n                }\n            }\n\n            //TODO add tests around how this behaves when reloading\n            errors.remove(path);\n\n            instanceOptions.rootFileInfo = newFileInfo;\n            less.render(data, instanceOptions, function(e, result) {\n                if (e) {\n                    e.href = path;\n                    callback(e);\n                } else {\n                    result.css = postProcessCSS(result.css);\n                    if (!instanceOptions.modifyVars) {\n                        cache.setCSS(sheet.href, webInfo.lastModified, result.css);\n                    }\n                    callback(null, result.css, data, sheet, webInfo, path);\n                }\n            });\n        }\n\n        fileManager.loadFile(sheet.href, null, instanceOptions, environment, function(e, loadedFile) {\n            if (e) {\n                callback(e);\n                return;\n            }\n            loadInitialFileCallback(loadedFile);\n        });\n    }\n\n    function loadStyleSheets(callback, reload, modifyVars) {\n        for (var i = 0; i < less.sheets.length; i++) {\n            loadStyleSheet(less.sheets[i], callback, reload, less.sheets.length - (i + 1), modifyVars);\n        }\n    }\n\n    function initRunningMode() {\n        if (less.env === 'development') {\n            less.watchTimer = setInterval(function () {\n                if (less.watchMode) {\n                    fileManager.clearFileCache();\n                    loadStyleSheets(function (e, css, _, sheet, webInfo) {\n                        if (e) {\n                            errors.add(e, e.href || sheet.href);\n                        } else if (css) {\n                            browser.createCSS(window.document, css, sheet);\n                        }\n                    });\n                }\n            }, options.poll);\n        }\n    }\n\n    //\n    // Watch mode\n    //\n    less.watch   = function () {\n        if (!less.watchMode ) {\n            less.env = 'development';\n            initRunningMode();\n        }\n        this.watchMode = true;\n        return true;\n    };\n\n    less.unwatch = function () {clearInterval(less.watchTimer); this.watchMode = false; return false; };\n\n    //\n    // Synchronously get all <link> tags with the 'rel' attribute set to\n    // \"stylesheet/less\".\n    //\n    less.registerStylesheetsImmediately = function() {\n        var links = document.getElementsByTagName('link');\n        less.sheets = [];\n\n        for (var i = 0; i < links.length; i++) {\n            if (links[i].rel === 'stylesheet/less' || (links[i].rel.match(/stylesheet/) &&\n                (links[i].type.match(typePattern)))) {\n                less.sheets.push(links[i]);\n            }\n        }\n    };\n\n    //\n    // Asynchronously get all <link> tags with the 'rel' attribute set to\n    // \"stylesheet/less\", returning a Promise.\n    //\n    less.registerStylesheets = function() {\n        return new Promise(function(resolve, reject) {\n            less.registerStylesheetsImmediately();\n            resolve();\n        });\n    };\n\n    //\n    // With this function, it's possible to alter variables and re-render\n    // CSS without reloading less-files\n    //\n    less.modifyVars = function(record) {\n        return less.refresh(true, record, false);\n    };\n\n    less.refresh = function (reload, modifyVars, clearFileCache) {\n        if ((reload || clearFileCache) && clearFileCache !== false) {\n            fileManager.clearFileCache();\n        }\n        return new Promise(function (resolve, reject) {\n            var startTime, endTime, totalMilliseconds;\n            startTime = endTime = new Date();\n\n            loadStyleSheets(function (e, css, _, sheet, webInfo) {\n                if (e) {\n                    errors.add(e, e.href || sheet.href);\n                    reject(e);\n                    return;\n                }\n                if (webInfo.local) {\n                    less.logger.info(\"loading \" + sheet.href + \" from cache.\");\n                } else {\n                    less.logger.info(\"rendered \" + sheet.href + \" successfully.\");\n                }\n                browser.createCSS(window.document, css, sheet);\n                less.logger.info(\"css for \" + sheet.href + \" generated in \" + (new Date() - endTime) + 'ms');\n                if (webInfo.remaining === 0) {\n                    totalMilliseconds = new Date() - startTime;\n                    less.logger.info(\"less has finished. css generated in \" + totalMilliseconds + 'ms');\n                    resolve({\n                        startTime: startTime,\n                        endTime: endTime,\n                        totalMilliseconds: totalMilliseconds,\n                        sheets: less.sheets.length\n                    });\n                }\n                endTime = new Date();\n            }, reload, modifyVars);\n\n            loadStyles(modifyVars);\n        });\n    };\n\n    less.refreshStyles = loadStyles;\n    return less;\n};\n\n},{\"../less\":30,\"./browser\":3,\"./cache\":4,\"./error-reporting\":5,\"./file-manager\":6,\"./log-listener\":8,\"./utils\":9}],8:[function(require,module,exports){\nmodule.exports = function(less, options) {\n\n    var logLevel_debug = 4,\n        logLevel_info = 3,\n        logLevel_warn = 2,\n        logLevel_error = 1;\n\n    // The amount of logging in the javascript console.\n    // 3 - Debug, information and errors\n    // 2 - Information and errors\n    // 1 - Errors\n    // 0 - None\n    // Defaults to 2\n    options.logLevel = typeof options.logLevel !== 'undefined' ? options.logLevel : (options.env === 'development' ?  logLevel_info : logLevel_error);\n\n    if (!options.loggers) {\n        options.loggers = [{\n            debug: function(msg) {\n                if (options.logLevel >= logLevel_debug) {\n                    console.log(msg);\n                }\n            },\n            info: function(msg) {\n                if (options.logLevel >= logLevel_info) {\n                    console.log(msg);\n                }\n            },\n            warn: function(msg) {\n                if (options.logLevel >= logLevel_warn) {\n                    console.warn(msg);\n                }\n            },\n            error: function(msg) {\n                if (options.logLevel >= logLevel_error) {\n                    console.error(msg);\n                }\n            }\n        }];\n    }\n    for (var i = 0; i < options.loggers.length; i++) {\n        less.logger.addListener(options.loggers[i]);\n    }\n};\n\n},{}],9:[function(require,module,exports){\nmodule.exports = {\n    extractId: function(href) {\n        return href.replace(/^[a-z-]+:\\/+?[^\\/]+/, '')  // Remove protocol & domain\n            .replace(/[\\?\\&]livereload=\\w+/, '')        // Remove LiveReload cachebuster\n            .replace(/^\\//, '')                         // Remove root /\n            .replace(/\\.[a-zA-Z]+$/, '')                // Remove simple extension\n            .replace(/[^\\.\\w-]+/g, '-')                 // Replace illegal characters\n            .replace(/\\./g, ':');                       // Replace dots with colons(for valid id)\n    },\n    addDataAttr: function(options, tag) {\n        for (var opt in tag.dataset) {\n            if (tag.dataset.hasOwnProperty(opt)) {\n                if (opt === \"env\" || opt === \"dumpLineNumbers\" || opt === \"rootpath\" || opt === \"errorReporting\") {\n                    options[opt] = tag.dataset[opt];\n                } else {\n                    try {\n                        options[opt] = JSON.parse(tag.dataset[opt]);\n                    }\n                    catch(_) {}\n                }\n            }\n        }\n    }\n};\n\n},{}],10:[function(require,module,exports){\nvar contexts = {};\nmodule.exports = contexts;\n\nvar copyFromOriginal = function copyFromOriginal(original, destination, propertiesToCopy) {\n    if (!original) { return; }\n\n    for (var i = 0; i < propertiesToCopy.length; i++) {\n        if (original.hasOwnProperty(propertiesToCopy[i])) {\n            destination[propertiesToCopy[i]] = original[propertiesToCopy[i]];\n        }\n    }\n};\n\n/*\n parse is used whilst parsing\n */\nvar parseCopyProperties = [\n    // options\n    'paths',            // option - unmodified - paths to search for imports on\n    'relativeUrls',     // option - whether to adjust URL's to be relative\n    'rootpath',         // option - rootpath to append to URL's\n    'strictImports',    // option -\n    'insecure',         // option - whether to allow imports from insecure ssl hosts\n    'dumpLineNumbers',  // option - whether to dump line numbers\n    'compress',         // option - whether to compress\n    'syncImport',       // option - whether to import synchronously\n    'chunkInput',       // option - whether to chunk input. more performant but causes parse issues.\n    'mime',             // browser only - mime type for sheet import\n    'useFileCache',     // browser only - whether to use the per file session cache\n    // context\n    'processImports',   // option & context - whether to process imports. if false then imports will not be imported.\n                        // Used by the import manager to stop multiple import visitors being created.\n    'reference',        // Used to indicate that the contents are imported by reference\n    'pluginManager'     // Used as the plugin manager for the session\n];\n\ncontexts.Parse = function(options) {\n    copyFromOriginal(options, this, parseCopyProperties);\n\n    if (typeof this.paths === \"string\") { this.paths = [this.paths]; }\n};\n\nvar evalCopyProperties = [\n    'paths',          // additional include paths\n    'compress',       // whether to compress\n    'ieCompat',       // whether to enforce IE compatibility (IE8 data-uri)\n    'strictMath',     // whether math has to be within parenthesis\n    'strictUnits',    // whether units need to evaluate correctly\n    'sourceMap',      // whether to output a source map\n    'importMultiple', // whether we are currently importing multiple copies\n    'urlArgs',        // whether to add args into url tokens\n    'javascriptEnabled',// option - whether JavaScript is enabled. if undefined, defaults to true\n    'pluginManager',  // Used as the plugin manager for the session\n    'importantScope'  // used to bubble up !important statements\n    ];\n\ncontexts.Eval = function(options, frames) {\n    copyFromOriginal(options, this, evalCopyProperties);\n\n    if (typeof this.paths === \"string\") { this.paths = [this.paths]; }\n\n    this.frames = frames || [];\n    this.importantScope = this.importantScope || [];\n};\n\ncontexts.Eval.prototype.inParenthesis = function () {\n    if (!this.parensStack) {\n        this.parensStack = [];\n    }\n    this.parensStack.push(true);\n};\n\ncontexts.Eval.prototype.outOfParenthesis = function () {\n    this.parensStack.pop();\n};\n\ncontexts.Eval.prototype.isMathOn = function () {\n    return this.strictMath ? (this.parensStack && this.parensStack.length) : true;\n};\n\ncontexts.Eval.prototype.isPathRelative = function (path) {\n    return !/^(?:[a-z-]+:|\\/|#)/i.test(path);\n};\n\ncontexts.Eval.prototype.normalizePath = function( path ) {\n    var\n      segments = path.split(\"/\").reverse(),\n      segment;\n\n    path = [];\n    while (segments.length !== 0 ) {\n        segment = segments.pop();\n        switch( segment ) {\n            case \".\":\n                break;\n            case \"..\":\n                if ((path.length === 0) || (path[path.length - 1] === \"..\")) {\n                    path.push( segment );\n                } else {\n                    path.pop();\n                }\n                break;\n            default:\n                path.push( segment );\n                break;\n        }\n    }\n\n    return path.join(\"/\");\n};\n\n//todo - do the same for the toCSS ?\n\n},{}],11:[function(require,module,exports){\nmodule.exports = {\n    'aliceblue':'#f0f8ff',\n    'antiquewhite':'#faebd7',\n    'aqua':'#00ffff',\n    'aquamarine':'#7fffd4',\n    'azure':'#f0ffff',\n    'beige':'#f5f5dc',\n    'bisque':'#ffe4c4',\n    'black':'#000000',\n    'blanchedalmond':'#ffebcd',\n    'blue':'#0000ff',\n    'blueviolet':'#8a2be2',\n    'brown':'#a52a2a',\n    'burlywood':'#deb887',\n    'cadetblue':'#5f9ea0',\n    'chartreuse':'#7fff00',\n    'chocolate':'#d2691e',\n    'coral':'#ff7f50',\n    'cornflowerblue':'#6495ed',\n    'cornsilk':'#fff8dc',\n    'crimson':'#dc143c',\n    'cyan':'#00ffff',\n    'darkblue':'#00008b',\n    'darkcyan':'#008b8b',\n    'darkgoldenrod':'#b8860b',\n    'darkgray':'#a9a9a9',\n    'darkgrey':'#a9a9a9',\n    'darkgreen':'#006400',\n    'darkkhaki':'#bdb76b',\n    'darkmagenta':'#8b008b',\n    'darkolivegreen':'#556b2f',\n    'darkorange':'#ff8c00',\n    'darkorchid':'#9932cc',\n    'darkred':'#8b0000',\n    'darksalmon':'#e9967a',\n    'darkseagreen':'#8fbc8f',\n    'darkslateblue':'#483d8b',\n    'darkslategray':'#2f4f4f',\n    'darkslategrey':'#2f4f4f',\n    'darkturquoise':'#00ced1',\n    'darkviolet':'#9400d3',\n    'deeppink':'#ff1493',\n    'deepskyblue':'#00bfff',\n    'dimgray':'#696969',\n    'dimgrey':'#696969',\n    'dodgerblue':'#1e90ff',\n    'firebrick':'#b22222',\n    'floralwhite':'#fffaf0',\n    'forestgreen':'#228b22',\n    'fuchsia':'#ff00ff',\n    'gainsboro':'#dcdcdc',\n    'ghostwhite':'#f8f8ff',\n    'gold':'#ffd700',\n    'goldenrod':'#daa520',\n    'gray':'#808080',\n    'grey':'#808080',\n    'green':'#008000',\n    'greenyellow':'#adff2f',\n    'honeydew':'#f0fff0',\n    'hotpink':'#ff69b4',\n    'indianred':'#cd5c5c',\n    'indigo':'#4b0082',\n    'ivory':'#fffff0',\n    'khaki':'#f0e68c',\n    'lavender':'#e6e6fa',\n    'lavenderblush':'#fff0f5',\n    'lawngreen':'#7cfc00',\n    'lemonchiffon':'#fffacd',\n    'lightblue':'#add8e6',\n    'lightcoral':'#f08080',\n    'lightcyan':'#e0ffff',\n    'lightgoldenrodyellow':'#fafad2',\n    'lightgray':'#d3d3d3',\n    'lightgrey':'#d3d3d3',\n    'lightgreen':'#90ee90',\n    'lightpink':'#ffb6c1',\n    'lightsalmon':'#ffa07a',\n    'lightseagreen':'#20b2aa',\n    'lightskyblue':'#87cefa',\n    'lightslategray':'#778899',\n    'lightslategrey':'#778899',\n    'lightsteelblue':'#b0c4de',\n    'lightyellow':'#ffffe0',\n    'lime':'#00ff00',\n    'limegreen':'#32cd32',\n    'linen':'#faf0e6',\n    'magenta':'#ff00ff',\n    'maroon':'#800000',\n    'mediumaquamarine':'#66cdaa',\n    'mediumblue':'#0000cd',\n    'mediumorchid':'#ba55d3',\n    'mediumpurple':'#9370d8',\n    'mediumseagreen':'#3cb371',\n    'mediumslateblue':'#7b68ee',\n    'mediumspringgreen':'#00fa9a',\n    'mediumturquoise':'#48d1cc',\n    'mediumvioletred':'#c71585',\n    'midnightblue':'#191970',\n    'mintcream':'#f5fffa',\n    'mistyrose':'#ffe4e1',\n    'moccasin':'#ffe4b5',\n    'navajowhite':'#ffdead',\n    'navy':'#000080',\n    'oldlace':'#fdf5e6',\n    'olive':'#808000',\n    'olivedrab':'#6b8e23',\n    'orange':'#ffa500',\n    'orangered':'#ff4500',\n    'orchid':'#da70d6',\n    'palegoldenrod':'#eee8aa',\n    'palegreen':'#98fb98',\n    'paleturquoise':'#afeeee',\n    'palevioletred':'#d87093',\n    'papayawhip':'#ffefd5',\n    'peachpuff':'#ffdab9',\n    'peru':'#cd853f',\n    'pink':'#ffc0cb',\n    'plum':'#dda0dd',\n    'powderblue':'#b0e0e6',\n    'purple':'#800080',\n    'rebeccapurple':'#663399',\n    'red':'#ff0000',\n    'rosybrown':'#bc8f8f',\n    'royalblue':'#4169e1',\n    'saddlebrown':'#8b4513',\n    'salmon':'#fa8072',\n    'sandybrown':'#f4a460',\n    'seagreen':'#2e8b57',\n    'seashell':'#fff5ee',\n    'sienna':'#a0522d',\n    'silver':'#c0c0c0',\n    'skyblue':'#87ceeb',\n    'slateblue':'#6a5acd',\n    'slategray':'#708090',\n    'slategrey':'#708090',\n    'snow':'#fffafa',\n    'springgreen':'#00ff7f',\n    'steelblue':'#4682b4',\n    'tan':'#d2b48c',\n    'teal':'#008080',\n    'thistle':'#d8bfd8',\n    'tomato':'#ff6347',\n    'turquoise':'#40e0d0',\n    'violet':'#ee82ee',\n    'wheat':'#f5deb3',\n    'white':'#ffffff',\n    'whitesmoke':'#f5f5f5',\n    'yellow':'#ffff00',\n    'yellowgreen':'#9acd32'\n};\n},{}],12:[function(require,module,exports){\nmodule.exports = {\n    colors: require(\"./colors\"),\n    unitConversions: require(\"./unit-conversions\")\n};\n\n},{\"./colors\":11,\"./unit-conversions\":13}],13:[function(require,module,exports){\nmodule.exports = {\n    length: {\n        'm': 1,\n        'cm': 0.01,\n        'mm': 0.001,\n        'in': 0.0254,\n        'px': 0.0254 / 96,\n        'pt': 0.0254 / 72,\n        'pc': 0.0254 / 72 * 12\n    },\n    duration: {\n        's': 1,\n        'ms': 0.001\n    },\n    angle: {\n        'rad': 1 / (2 * Math.PI),\n        'deg': 1 / 360,\n        'grad': 1 / 400,\n        'turn': 1\n    }\n};\n},{}],14:[function(require,module,exports){\nvar abstractFileManager = function() {\n};\n\nabstractFileManager.prototype.getPath = function (filename) {\n    var j = filename.lastIndexOf('?');\n    if (j > 0) {\n        filename = filename.slice(0, j);\n    }\n    j = filename.lastIndexOf('/');\n    if (j < 0) {\n        j = filename.lastIndexOf('\\\\');\n    }\n    if (j < 0) {\n        return \"\";\n    }\n    return filename.slice(0, j + 1);\n};\n\nabstractFileManager.prototype.tryAppendExtension = function(path, ext) {\n    return /(\\.[a-z]*$)|([\\?;].*)$/.test(path) ? path : path + ext;\n};\n\nabstractFileManager.prototype.tryAppendLessExtension = function(path) {\n    return this.tryAppendExtension(path, '.less');\n};\n\nabstractFileManager.prototype.supportsSync = function() {\n    return false;\n};\n\nabstractFileManager.prototype.alwaysMakePathsAbsolute = function() {\n    return false;\n};\n\nabstractFileManager.prototype.isPathAbsolute = function(filename) {\n    return (/^(?:[a-z-]+:|\\/|\\\\|#)/i).test(filename);\n};\n\nabstractFileManager.prototype.join = function(basePath, laterPath) {\n    if (!basePath) {\n        return laterPath;\n    }\n    return basePath + laterPath;\n};\nabstractFileManager.prototype.pathDiff = function pathDiff(url, baseUrl) {\n    // diff between two paths to create a relative path\n\n    var urlParts = this.extractUrlParts(url),\n        baseUrlParts = this.extractUrlParts(baseUrl),\n        i, max, urlDirectories, baseUrlDirectories, diff = \"\";\n    if (urlParts.hostPart !== baseUrlParts.hostPart) {\n        return \"\";\n    }\n    max = Math.max(baseUrlParts.directories.length, urlParts.directories.length);\n    for (i = 0; i < max; i++) {\n        if (baseUrlParts.directories[i] !== urlParts.directories[i]) { break; }\n    }\n    baseUrlDirectories = baseUrlParts.directories.slice(i);\n    urlDirectories = urlParts.directories.slice(i);\n    for (i = 0; i < baseUrlDirectories.length - 1; i++) {\n        diff += \"../\";\n    }\n    for (i = 0; i < urlDirectories.length - 1; i++) {\n        diff += urlDirectories[i] + \"/\";\n    }\n    return diff;\n};\n// helper function, not part of API\nabstractFileManager.prototype.extractUrlParts = function extractUrlParts(url, baseUrl) {\n    // urlParts[1] = protocol&hostname || /\n    // urlParts[2] = / if path relative to host base\n    // urlParts[3] = directories\n    // urlParts[4] = filename\n    // urlParts[5] = parameters\n\n    var urlPartsRegex = /^((?:[a-z-]+:)?\\/+?(?:[^\\/\\?#]*\\/)|([\\/\\\\]))?((?:[^\\/\\\\\\?#]*[\\/\\\\])*)([^\\/\\\\\\?#]*)([#\\?].*)?$/i,\n        urlParts = url.match(urlPartsRegex),\n        returner = {}, directories = [], i, baseUrlParts;\n\n    if (!urlParts) {\n        throw new Error(\"Could not parse sheet href - '\" + url + \"'\");\n    }\n\n    // Stylesheets in IE don't always return the full path\n    if (baseUrl && (!urlParts[1] || urlParts[2])) {\n        baseUrlParts = baseUrl.match(urlPartsRegex);\n        if (!baseUrlParts) {\n            throw new Error(\"Could not parse page url - '\" + baseUrl + \"'\");\n        }\n        urlParts[1] = urlParts[1] || baseUrlParts[1] || \"\";\n        if (!urlParts[2]) {\n            urlParts[3] = baseUrlParts[3] + urlParts[3];\n        }\n    }\n\n    if (urlParts[3]) {\n        directories = urlParts[3].replace(/\\\\/g, \"/\").split(\"/\");\n\n        // extract out . before .. so .. doesn't absorb a non-directory\n        for (i = 0; i < directories.length; i++) {\n            if (directories[i] === \".\") {\n                directories.splice(i, 1);\n                i -= 1;\n            }\n        }\n\n        for (i = 0; i < directories.length; i++) {\n            if (directories[i] === \"..\" && i > 0) {\n                directories.splice(i - 1, 2);\n                i -= 2;\n            }\n        }\n    }\n\n    returner.hostPart = urlParts[1];\n    returner.directories = directories;\n    returner.path = (urlParts[1] || \"\") + directories.join(\"/\");\n    returner.fileUrl = returner.path + (urlParts[4] || \"\");\n    returner.url = returner.fileUrl + (urlParts[5] || \"\");\n    return returner;\n};\n\nmodule.exports = abstractFileManager;\n\n},{}],15:[function(require,module,exports){\nvar logger = require(\"../logger\");\nvar environment = function(externalEnvironment, fileManagers) {\n    this.fileManagers = fileManagers || [];\n    externalEnvironment = externalEnvironment || {};\n\n    var optionalFunctions = [\"encodeBase64\", \"mimeLookup\", \"charsetLookup\", \"getSourceMapGenerator\"],\n        requiredFunctions = [],\n        functions = requiredFunctions.concat(optionalFunctions);\n\n    for (var i = 0; i < functions.length; i++) {\n        var propName = functions[i],\n            environmentFunc = externalEnvironment[propName];\n        if (environmentFunc) {\n            this[propName] = environmentFunc.bind(externalEnvironment);\n        } else if (i < requiredFunctions.length) {\n            this.warn(\"missing required function in environment - \" + propName);\n        }\n    }\n};\n\nenvironment.prototype.getFileManager = function (filename, currentDirectory, options, environment, isSync) {\n\n    if (!filename) {\n        logger.warn(\"getFileManager called with no filename.. Please report this issue. continuing.\");\n    }\n    if (currentDirectory == null) {\n        logger.warn(\"getFileManager called with null directory.. Please report this issue. continuing.\");\n    }\n\n    var fileManagers = this.fileManagers;\n    if (options.pluginManager) {\n        fileManagers = [].concat(fileManagers).concat(options.pluginManager.getFileManagers());\n    }\n    for (var i = fileManagers.length - 1; i >= 0 ; i--) {\n        var fileManager = fileManagers[i];\n        if (fileManager[isSync ? \"supportsSync\" : \"supports\"](filename, currentDirectory, options, environment)) {\n            return fileManager;\n        }\n    }\n    return null;\n};\n\nenvironment.prototype.addFileManager = function (fileManager) {\n    this.fileManagers.push(fileManager);\n};\n\nenvironment.prototype.clearFileManagers = function () {\n    this.fileManagers = [];\n};\n\nmodule.exports = environment;\n\n},{\"../logger\":32}],16:[function(require,module,exports){\nvar Color = require(\"../tree/color\"),\n    functionRegistry = require(\"./function-registry\");\n\n// Color Blending\n// ref: http://www.w3.org/TR/compositing-1\n\nfunction colorBlend(mode, color1, color2) {\n    var ab = color1.alpha, cb, // backdrop\n        as = color2.alpha, cs, // source\n        ar, cr, r = [];        // result\n\n    ar = as + ab * (1 - as);\n    for (var i = 0; i < 3; i++) {\n        cb = color1.rgb[i] / 255;\n        cs = color2.rgb[i] / 255;\n        cr = mode(cb, cs);\n        if (ar) {\n            cr = (as * cs + ab * (cb -\n                  as * (cb + cs - cr))) / ar;\n        }\n        r[i] = cr * 255;\n    }\n\n    return new Color(r, ar);\n}\n\nvar colorBlendModeFunctions = {\n    multiply: function(cb, cs) {\n        return cb * cs;\n    },\n    screen: function(cb, cs) {\n        return cb + cs - cb * cs;\n    },\n    overlay: function(cb, cs) {\n        cb *= 2;\n        return (cb <= 1) ?\n            colorBlendModeFunctions.multiply(cb, cs) :\n            colorBlendModeFunctions.screen(cb - 1, cs);\n    },\n    softlight: function(cb, cs) {\n        var d = 1, e = cb;\n        if (cs > 0.5) {\n            e = 1;\n            d = (cb > 0.25) ? Math.sqrt(cb)\n                : ((16 * cb - 12) * cb + 4) * cb;\n        }\n        return cb - (1 - 2 * cs) * e * (d - cb);\n    },\n    hardlight: function(cb, cs) {\n        return colorBlendModeFunctions.overlay(cs, cb);\n    },\n    difference: function(cb, cs) {\n        return Math.abs(cb - cs);\n    },\n    exclusion: function(cb, cs) {\n        return cb + cs - 2 * cb * cs;\n    },\n\n    // non-w3c functions:\n    average: function(cb, cs) {\n        return (cb + cs) / 2;\n    },\n    negation: function(cb, cs) {\n        return 1 - Math.abs(cb + cs - 1);\n    }\n};\n\nfor (var f in colorBlendModeFunctions) {\n    if (colorBlendModeFunctions.hasOwnProperty(f)) {\n        colorBlend[f] = colorBlend.bind(null, colorBlendModeFunctions[f]);\n    }\n}\n\nfunctionRegistry.addMultiple(colorBlend);\n\n},{\"../tree/color\":49,\"./function-registry\":21}],17:[function(require,module,exports){\nvar Dimension = require(\"../tree/dimension\"),\n    Color = require(\"../tree/color\"),\n    Quoted = require(\"../tree/quoted\"),\n    Anonymous = require(\"../tree/anonymous\"),\n    functionRegistry = require(\"./function-registry\"),\n    colorFunctions;\n\nfunction clamp(val) {\n    return Math.min(1, Math.max(0, val));\n}\nfunction hsla(color) {\n    return colorFunctions.hsla(color.h, color.s, color.l, color.a);\n}\nfunction number(n) {\n    if (n instanceof Dimension) {\n        return parseFloat(n.unit.is('%') ? n.value / 100 : n.value);\n    } else if (typeof n === 'number') {\n        return n;\n    } else {\n        throw {\n            type: \"Argument\",\n            message: \"color functions take numbers as parameters\"\n        };\n    }\n}\nfunction scaled(n, size) {\n    if (n instanceof Dimension && n.unit.is('%')) {\n        return parseFloat(n.value * size / 100);\n    } else {\n        return number(n);\n    }\n}\ncolorFunctions = {\n    rgb: function (r, g, b) {\n        return colorFunctions.rgba(r, g, b, 1.0);\n    },\n    rgba: function (r, g, b, a) {\n        var rgb = [r, g, b].map(function (c) { return scaled(c, 255); });\n        a = number(a);\n        return new Color(rgb, a);\n    },\n    hsl: function (h, s, l) {\n        return colorFunctions.hsla(h, s, l, 1.0);\n    },\n    hsla: function (h, s, l, a) {\n        function hue(h) {\n            h = h < 0 ? h + 1 : (h > 1 ? h - 1 : h);\n            if (h * 6 < 1) {\n                return m1 + (m2 - m1) * h * 6;\n            }\n            else if (h * 2 < 1) {\n                return m2;\n            }\n            else if (h * 3 < 2) {\n                return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n            }\n            else {\n                return m1;\n            }\n        }\n\n        h = (number(h) % 360) / 360;\n        s = clamp(number(s)); l = clamp(number(l)); a = clamp(number(a));\n\n        var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n        var m1 = l * 2 - m2;\n\n        return colorFunctions.rgba(hue(h + 1 / 3) * 255,\n            hue(h)       * 255,\n            hue(h - 1 / 3) * 255,\n            a);\n    },\n\n    hsv: function(h, s, v) {\n        return colorFunctions.hsva(h, s, v, 1.0);\n    },\n\n    hsva: function(h, s, v, a) {\n        h = ((number(h) % 360) / 360) * 360;\n        s = number(s); v = number(v); a = number(a);\n\n        var i, f;\n        i = Math.floor((h / 60) % 6);\n        f = (h / 60) - i;\n\n        var vs = [v,\n            v * (1 - s),\n            v * (1 - f * s),\n            v * (1 - (1 - f) * s)];\n        var perm = [[0, 3, 1],\n            [2, 0, 1],\n            [1, 0, 3],\n            [1, 2, 0],\n            [3, 1, 0],\n            [0, 1, 2]];\n\n        return colorFunctions.rgba(vs[perm[i][0]] * 255,\n            vs[perm[i][1]] * 255,\n            vs[perm[i][2]] * 255,\n            a);\n    },\n\n    hue: function (color) {\n        return new Dimension(color.toHSL().h);\n    },\n    saturation: function (color) {\n        return new Dimension(color.toHSL().s * 100, '%');\n    },\n    lightness: function (color) {\n        return new Dimension(color.toHSL().l * 100, '%');\n    },\n    hsvhue: function(color) {\n        return new Dimension(color.toHSV().h);\n    },\n    hsvsaturation: function (color) {\n        return new Dimension(color.toHSV().s * 100, '%');\n    },\n    hsvvalue: function (color) {\n        return new Dimension(color.toHSV().v * 100, '%');\n    },\n    red: function (color) {\n        return new Dimension(color.rgb[0]);\n    },\n    green: function (color) {\n        return new Dimension(color.rgb[1]);\n    },\n    blue: function (color) {\n        return new Dimension(color.rgb[2]);\n    },\n    alpha: function (color) {\n        return new Dimension(color.toHSL().a);\n    },\n    luma: function (color) {\n        return new Dimension(color.luma() * color.alpha * 100, '%');\n    },\n    luminance: function (color) {\n        var luminance =\n            (0.2126 * color.rgb[0] / 255) +\n                (0.7152 * color.rgb[1] / 255) +\n                (0.0722 * color.rgb[2] / 255);\n\n        return new Dimension(luminance * color.alpha * 100, '%');\n    },\n    saturate: function (color, amount, method) {\n        // filter: saturate(3.2);\n        // should be kept as is, so check for color\n        if (!color.rgb) {\n            return null;\n        }\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.s +=  hsl.s * amount.value / 100;\n        }\n        else {\n            hsl.s += amount.value / 100;\n        }\n        hsl.s = clamp(hsl.s);\n        return hsla(hsl);\n    },\n    desaturate: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.s -=  hsl.s * amount.value / 100;\n        }\n        else {\n            hsl.s -= amount.value / 100;\n        }\n        hsl.s = clamp(hsl.s);\n        return hsla(hsl);\n    },\n    lighten: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.l +=  hsl.l * amount.value / 100;\n        }\n        else {\n            hsl.l += amount.value / 100;\n        }\n        hsl.l = clamp(hsl.l);\n        return hsla(hsl);\n    },\n    darken: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.l -=  hsl.l * amount.value / 100;\n        }\n        else {\n            hsl.l -= amount.value / 100;\n        }\n        hsl.l = clamp(hsl.l);\n        return hsla(hsl);\n    },\n    fadein: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.a +=  hsl.a * amount.value / 100;\n        }\n        else {\n            hsl.a += amount.value / 100;\n        }\n        hsl.a = clamp(hsl.a);\n        return hsla(hsl);\n    },\n    fadeout: function (color, amount, method) {\n        var hsl = color.toHSL();\n\n        if (typeof method !== \"undefined\" && method.value === \"relative\") {\n            hsl.a -=  hsl.a * amount.value / 100;\n        }\n        else {\n            hsl.a -= amount.value / 100;\n        }\n        hsl.a = clamp(hsl.a);\n        return hsla(hsl);\n    },\n    fade: function (color, amount) {\n        var hsl = color.toHSL();\n\n        hsl.a = amount.value / 100;\n        hsl.a = clamp(hsl.a);\n        return hsla(hsl);\n    },\n    spin: function (color, amount) {\n        var hsl = color.toHSL();\n        var hue = (hsl.h + amount.value) % 360;\n\n        hsl.h = hue < 0 ? 360 + hue : hue;\n\n        return hsla(hsl);\n    },\n    //\n    // Copyright (c) 2006-2009 Hampton Catlin, Nathan Weizenbaum, and Chris Eppstein\n    // http://sass-lang.com\n    //\n    mix: function (color1, color2, weight) {\n        if (!color1.toHSL || !color2.toHSL) {\n            console.log(color2.type);\n            console.dir(color2);\n        }\n        if (!weight) {\n            weight = new Dimension(50);\n        }\n        var p = weight.value / 100.0;\n        var w = p * 2 - 1;\n        var a = color1.toHSL().a - color2.toHSL().a;\n\n        var w1 = (((w * a == -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n        var w2 = 1 - w1;\n\n        var rgb = [color1.rgb[0] * w1 + color2.rgb[0] * w2,\n            color1.rgb[1] * w1 + color2.rgb[1] * w2,\n            color1.rgb[2] * w1 + color2.rgb[2] * w2];\n\n        var alpha = color1.alpha * p + color2.alpha * (1 - p);\n\n        return new Color(rgb, alpha);\n    },\n    greyscale: function (color) {\n        return colorFunctions.desaturate(color, new Dimension(100));\n    },\n    contrast: function (color, dark, light, threshold) {\n        // filter: contrast(3.2);\n        // should be kept as is, so check for color\n        if (!color.rgb) {\n            return null;\n        }\n        if (typeof light === 'undefined') {\n            light = colorFunctions.rgba(255, 255, 255, 1.0);\n        }\n        if (typeof dark === 'undefined') {\n            dark = colorFunctions.rgba(0, 0, 0, 1.0);\n        }\n        //Figure out which is actually light and dark!\n        if (dark.luma() > light.luma()) {\n            var t = light;\n            light = dark;\n            dark = t;\n        }\n        if (typeof threshold === 'undefined') {\n            threshold = 0.43;\n        } else {\n            threshold = number(threshold);\n        }\n        if (color.luma() < threshold) {\n            return light;\n        } else {\n            return dark;\n        }\n    },\n    argb: function (color) {\n        return new Anonymous(color.toARGB());\n    },\n    color: function(c) {\n        if ((c instanceof Quoted) &&\n            (/^#([a-f0-9]{6}|[a-f0-9]{3})$/i.test(c.value))) {\n            return new Color(c.value.slice(1));\n        }\n        if ((c instanceof Color) || (c = Color.fromKeyword(c.value))) {\n            c.value = undefined;\n            return c;\n        }\n        throw {\n            type:    \"Argument\",\n            message: \"argument must be a color keyword or 3/6 digit hex e.g. #FFF\"\n        };\n    },\n    tint: function(color, amount) {\n        return colorFunctions.mix(colorFunctions.rgb(255, 255, 255), color, amount);\n    },\n    shade: function(color, amount) {\n        return colorFunctions.mix(colorFunctions.rgb(0, 0, 0), color, amount);\n    }\n};\nfunctionRegistry.addMultiple(colorFunctions);\n\n},{\"../tree/anonymous\":45,\"../tree/color\":49,\"../tree/dimension\":55,\"../tree/quoted\":72,\"./function-registry\":21}],18:[function(require,module,exports){\nmodule.exports = function(environment) {\n    var Quoted = require(\"../tree/quoted\"),\n        URL = require(\"../tree/url\"),\n        functionRegistry = require(\"./function-registry\"),\n        fallback = function(functionThis, node) {\n            return new URL(node, functionThis.index, functionThis.currentFileInfo).eval(functionThis.context);\n        },\n        logger = require('../logger');\n\n    functionRegistry.add(\"data-uri\", function(mimetypeNode, filePathNode) {\n\n        if (!filePathNode) {\n            filePathNode = mimetypeNode;\n            mimetypeNode = null;\n        }\n\n        var mimetype = mimetypeNode && mimetypeNode.value;\n        var filePath = filePathNode.value;\n        var currentFileInfo = this.currentFileInfo;\n        var currentDirectory = currentFileInfo.relativeUrls ?\n            currentFileInfo.currentDirectory : currentFileInfo.entryPath;\n\n        var fragmentStart = filePath.indexOf('#');\n        var fragment = '';\n        if (fragmentStart !== -1) {\n            fragment = filePath.slice(fragmentStart);\n            filePath = filePath.slice(0, fragmentStart);\n        }\n\n        var fileManager = environment.getFileManager(filePath, currentDirectory, this.context, environment, true);\n\n        if (!fileManager) {\n            return fallback(this, filePathNode);\n        }\n\n        var useBase64 = false;\n\n        // detect the mimetype if not given\n        if (!mimetypeNode) {\n\n            mimetype = environment.mimeLookup(filePath);\n\n            if (mimetype === \"image/svg+xml\") {\n                useBase64 = false;\n            } else {\n                // use base 64 unless it's an ASCII or UTF-8 format\n                var charset = environment.charsetLookup(mimetype);\n                useBase64 = ['US-ASCII', 'UTF-8'].indexOf(charset) < 0;\n            }\n            if (useBase64) { mimetype += ';base64'; }\n        }\n        else {\n            useBase64 = /;base64$/.test(mimetype);\n        }\n\n        var fileSync = fileManager.loadFileSync(filePath, currentDirectory, this.context, environment);\n        if (!fileSync.contents) {\n            logger.warn(\"Skipped data-uri embedding of \" + filePath + \" because file not found\");\n            return fallback(this, filePathNode || mimetypeNode);\n        }\n        var buf = fileSync.contents;\n        if (useBase64 && !environment.encodeBase64) {\n            return fallback(this, filePathNode);\n        }\n\n        buf = useBase64 ? environment.encodeBase64(buf) : encodeURIComponent(buf);\n\n        var uri = \"data:\" + mimetype + ',' + buf + fragment;\n\n        // IE8 cannot handle a data-uri larger than 32,768 characters. If this is exceeded\n        // and the --ieCompat flag is enabled, return a normal url() instead.\n        var DATA_URI_MAX = 32768;\n        if (uri.length >= DATA_URI_MAX) {\n\n            if (this.context.ieCompat !== false) {\n                logger.warn(\"Skipped data-uri embedding of \" + filePath + \" because its size (\" + uri.length +\n                    \" characters) exceeds IE8-safe \" + DATA_URI_MAX + \" characters!\");\n\n                return fallback(this, filePathNode || mimetypeNode);\n            }\n        }\n\n        return new URL(new Quoted('\"' + uri + '\"', uri, false, this.index, this.currentFileInfo), this.index, this.currentFileInfo);\n    });\n};\n\n},{\"../logger\":32,\"../tree/quoted\":72,\"../tree/url\":79,\"./function-registry\":21}],19:[function(require,module,exports){\nvar Keyword = require(\"../tree/keyword\"),\n    functionRegistry = require(\"./function-registry\");\n\nvar defaultFunc = {\n    eval: function () {\n        var v = this.value_, e = this.error_;\n        if (e) {\n            throw e;\n        }\n        if (v != null) {\n            return v ? Keyword.True : Keyword.False;\n        }\n    },\n    value: function (v) {\n        this.value_ = v;\n    },\n    error: function (e) {\n        this.error_ = e;\n    },\n    reset: function () {\n        this.value_ = this.error_ = null;\n    }\n};\n\nfunctionRegistry.add(\"default\", defaultFunc.eval.bind(defaultFunc));\n\nmodule.exports = defaultFunc;\n\n},{\"../tree/keyword\":64,\"./function-registry\":21}],20:[function(require,module,exports){\nvar Expression = require(\"../tree/expression\");\n\nvar functionCaller = function(name, context, index, currentFileInfo) {\n    this.name = name.toLowerCase();\n    this.index = index;\n    this.context = context;\n    this.currentFileInfo = currentFileInfo;\n\n    this.func = context.frames[0].functionRegistry.get(this.name);\n};\nfunctionCaller.prototype.isValid = function() {\n    return Boolean(this.func);\n};\nfunctionCaller.prototype.call = function(args) {\n\n    // This code is terrible and should be replaced as per this issue...\n    // https://github.com/less/less.js/issues/2477\n    if (Array.isArray(args)) {\n        args = args.filter(function (item) {\n            if (item.type === \"Comment\") {\n                return false;\n            }\n            return true;\n        })\n        .map(function(item) {\n            if (item.type === \"Expression\") {\n                var subNodes = item.value.filter(function (item) {\n                    if (item.type === \"Comment\") {\n                        return false;\n                    }\n                    return true;\n                });\n                if (subNodes.length === 1) {\n                    return subNodes[0];\n                } else {\n                    return new Expression(subNodes);\n                }\n            }\n            return item;\n        });\n    }\n\n    return this.func.apply(this, args);\n};\n\nmodule.exports = functionCaller;\n\n},{\"../tree/expression\":58}],21:[function(require,module,exports){\nfunction makeRegistry( base ) {\n    return {\n        _data: {},\n        add: function(name, func) {\n            // precautionary case conversion, as later querying of\n            // the registry by function-caller uses lower case as well.\n            name = name.toLowerCase();\n\n            if (this._data.hasOwnProperty(name)) {\n                //TODO warn\n            }\n            this._data[name] = func;\n        },\n        addMultiple: function(functions) {\n            Object.keys(functions).forEach(\n                function(name) {\n                    this.add(name, functions[name]);\n                }.bind(this));\n        },\n        get: function(name) {\n            return this._data[name] || ( base && base.get( name ));\n        },\n        inherit : function() {\n            return makeRegistry( this );\n        }\n    };\n}\n\nmodule.exports = makeRegistry( null );\n},{}],22:[function(require,module,exports){\nmodule.exports = function(environment) {\n    var functions = {\n        functionRegistry: require(\"./function-registry\"),\n        functionCaller: require(\"./function-caller\")\n    };\n\n    //register functions\n    require(\"./default\");\n    require(\"./color\");\n    require(\"./color-blending\");\n    require(\"./data-uri\")(environment);\n    require(\"./math\");\n    require(\"./number\");\n    require(\"./string\");\n    require(\"./svg\")(environment);\n    require(\"./types\");\n\n    return functions;\n};\n\n},{\"./color\":17,\"./color-blending\":16,\"./data-uri\":18,\"./default\":19,\"./function-caller\":20,\"./function-registry\":21,\"./math\":24,\"./number\":25,\"./string\":26,\"./svg\":27,\"./types\":28}],23:[function(require,module,exports){\nvar Dimension = require(\"../tree/dimension\");\n\nvar MathHelper = function() {\n};\nMathHelper._math = function (fn, unit, n) {\n    if (!(n instanceof Dimension)) {\n        throw { type: \"Argument\", message: \"argument must be a number\" };\n    }\n    if (unit == null) {\n        unit = n.unit;\n    } else {\n        n = n.unify();\n    }\n    return new Dimension(fn(parseFloat(n.value)), unit);\n};\nmodule.exports = MathHelper;\n},{\"../tree/dimension\":55}],24:[function(require,module,exports){\nvar functionRegistry = require(\"./function-registry\"),\n    mathHelper = require(\"./math-helper.js\");\n\nvar mathFunctions = {\n    // name,  unit\n    ceil:  null,\n    floor: null,\n    sqrt:  null,\n    abs:   null,\n    tan:   \"\",\n    sin:   \"\",\n    cos:   \"\",\n    atan:  \"rad\",\n    asin:  \"rad\",\n    acos:  \"rad\"\n};\n\nfor (var f in mathFunctions) {\n    if (mathFunctions.hasOwnProperty(f)) {\n        mathFunctions[f] = mathHelper._math.bind(null, Math[f], mathFunctions[f]);\n    }\n}\n\nmathFunctions.round = function (n, f) {\n    var fraction = typeof f === \"undefined\" ? 0 : f.value;\n    return mathHelper._math(function(num) { return num.toFixed(fraction); }, null, n);\n};\n\nfunctionRegistry.addMultiple(mathFunctions);\n\n},{\"./function-registry\":21,\"./math-helper.js\":23}],25:[function(require,module,exports){\nvar Dimension = require(\"../tree/dimension\"),\n    Anonymous = require(\"../tree/anonymous\"),\n    functionRegistry = require(\"./function-registry\"),\n    mathHelper = require(\"./math-helper.js\");\n\nvar minMax = function (isMin, args) {\n    args = Array.prototype.slice.call(args);\n    switch(args.length) {\n        case 0: throw { type: \"Argument\", message: \"one or more arguments required\" };\n    }\n    var i, j, current, currentUnified, referenceUnified, unit, unitStatic, unitClone,\n        order  = [], // elems only contains original argument values.\n        values = {}; // key is the unit.toString() for unified Dimension values,\n    // value is the index into the order array.\n    for (i = 0; i < args.length; i++) {\n        current = args[i];\n        if (!(current instanceof Dimension)) {\n            if (Array.isArray(args[i].value)) {\n                Array.prototype.push.apply(args, Array.prototype.slice.call(args[i].value));\n            }\n            continue;\n        }\n        currentUnified = current.unit.toString() === \"\" && unitClone !== undefined ? new Dimension(current.value, unitClone).unify() : current.unify();\n        unit = currentUnified.unit.toString() === \"\" && unitStatic !== undefined ? unitStatic : currentUnified.unit.toString();\n        unitStatic = unit !== \"\" && unitStatic === undefined || unit !== \"\" && order[0].unify().unit.toString() === \"\" ? unit : unitStatic;\n        unitClone = unit !== \"\" && unitClone === undefined ? current.unit.toString() : unitClone;\n        j = values[\"\"] !== undefined && unit !== \"\" && unit === unitStatic ? values[\"\"] : values[unit];\n        if (j === undefined) {\n            if (unitStatic !== undefined && unit !== unitStatic) {\n                throw{ type: \"Argument\", message: \"incompatible types\" };\n            }\n            values[unit] = order.length;\n            order.push(current);\n            continue;\n        }\n        referenceUnified = order[j].unit.toString() === \"\" && unitClone !== undefined ? new Dimension(order[j].value, unitClone).unify() : order[j].unify();\n        if ( isMin && currentUnified.value < referenceUnified.value ||\n            !isMin && currentUnified.value > referenceUnified.value) {\n            order[j] = current;\n        }\n    }\n    if (order.length == 1) {\n        return order[0];\n    }\n    args = order.map(function (a) { return a.toCSS(this.context); }).join(this.context.compress ? \",\" : \", \");\n    return new Anonymous((isMin ? \"min\" : \"max\") + \"(\" + args + \")\");\n};\nfunctionRegistry.addMultiple({\n    min: function () {\n        return minMax(true, arguments);\n    },\n    max: function () {\n        return minMax(false, arguments);\n    },\n    convert: function (val, unit) {\n        return val.convertTo(unit.value);\n    },\n    pi: function () {\n        return new Dimension(Math.PI);\n    },\n    mod: function(a, b) {\n        return new Dimension(a.value % b.value, a.unit);\n    },\n    pow: function(x, y) {\n        if (typeof x === \"number\" && typeof y === \"number\") {\n            x = new Dimension(x);\n            y = new Dimension(y);\n        } else if (!(x instanceof Dimension) || !(y instanceof Dimension)) {\n            throw { type: \"Argument\", message: \"arguments must be numbers\" };\n        }\n\n        return new Dimension(Math.pow(x.value, y.value), x.unit);\n    },\n    percentage: function (n) {\n        var result = mathHelper._math(function(num) {\n            return num * 100;\n        }, '%', n);\n\n        return result;\n    }\n});\n\n},{\"../tree/anonymous\":45,\"../tree/dimension\":55,\"./function-registry\":21,\"./math-helper.js\":23}],26:[function(require,module,exports){\nvar Quoted = require(\"../tree/quoted\"),\n    Anonymous = require(\"../tree/anonymous\"),\n    JavaScript = require(\"../tree/javascript\"),\n    functionRegistry = require(\"./function-registry\");\n\nfunctionRegistry.addMultiple({\n    e: function (str) {\n        return new Anonymous(str instanceof JavaScript ? str.evaluated : str.value);\n    },\n    escape: function (str) {\n        return new Anonymous(\n            encodeURI(str.value).replace(/=/g, \"%3D\").replace(/:/g, \"%3A\").replace(/#/g, \"%23\").replace(/;/g, \"%3B\")\n                .replace(/\\(/g, \"%28\").replace(/\\)/g, \"%29\"));\n    },\n    replace: function (string, pattern, replacement, flags) {\n        var result = string.value;\n        replacement = (replacement.type === \"Quoted\") ?\n            replacement.value : replacement.toCSS();\n        result = result.replace(new RegExp(pattern.value, flags ? flags.value : ''), replacement);\n        return new Quoted(string.quote || '', result, string.escaped);\n    },\n    '%': function (string /* arg, arg, ...*/) {\n        var args = Array.prototype.slice.call(arguments, 1),\n            result = string.value;\n\n        for (var i = 0; i < args.length; i++) {\n            /*jshint loopfunc:true */\n            result = result.replace(/%[sda]/i, function(token) {\n                var value = ((args[i].type === \"Quoted\") &&\n                    token.match(/s/i)) ? args[i].value : args[i].toCSS();\n                return token.match(/[A-Z]$/) ? encodeURIComponent(value) : value;\n            });\n        }\n        result = result.replace(/%%/g, '%');\n        return new Quoted(string.quote || '', result, string.escaped);\n    }\n});\n\n},{\"../tree/anonymous\":45,\"../tree/javascript\":62,\"../tree/quoted\":72,\"./function-registry\":21}],27:[function(require,module,exports){\nmodule.exports = function(environment) {\n    var Dimension = require(\"../tree/dimension\"),\n        Color = require(\"../tree/color\"),\n        Expression = require(\"../tree/expression\"),\n        Quoted = require(\"../tree/quoted\"),\n        URL = require(\"../tree/url\"),\n        functionRegistry = require(\"./function-registry\");\n\n    functionRegistry.add(\"svg-gradient\", function(direction) {\n\n        var stops,\n            gradientDirectionSvg,\n            gradientType = \"linear\",\n            rectangleDimension = 'x=\"0\" y=\"0\" width=\"1\" height=\"1\"',\n            renderEnv = {compress: false},\n            returner,\n            directionValue = direction.toCSS(renderEnv),\n\t\t\ti, color, position, positionValue, alpha;\n\n        function throwArgumentDescriptor() {\n            throw { type: \"Argument\",\n\t\t\t\t\tmessage: \"svg-gradient expects direction, start_color [start_position], [color position,]...,\" +\n\t\t\t\t\t\t\t\" end_color [end_position] or direction, color list\" };\n        }\n\n        if (arguments.length == 2) {\n            if (arguments[1].value.length < 2) {\n                throwArgumentDescriptor();\n            }\n            stops = arguments[1].value;\n        } else if (arguments.length < 3) {\n            throwArgumentDescriptor();\n        } else {\n            stops = Array.prototype.slice.call(arguments, 1);\n        }\n\n        switch (directionValue) {\n            case \"to bottom\":\n                gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\"';\n                break;\n            case \"to right\":\n                gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\"';\n                break;\n            case \"to bottom right\":\n                gradientDirectionSvg = 'x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"';\n                break;\n            case \"to top right\":\n                gradientDirectionSvg = 'x1=\"0%\" y1=\"100%\" x2=\"100%\" y2=\"0%\"';\n                break;\n            case \"ellipse\":\n            case \"ellipse at center\":\n                gradientType = \"radial\";\n                gradientDirectionSvg = 'cx=\"50%\" cy=\"50%\" r=\"75%\"';\n                rectangleDimension = 'x=\"-50\" y=\"-50\" width=\"101\" height=\"101\"';\n                break;\n            default:\n                throw { type: \"Argument\", message: \"svg-gradient direction must be 'to bottom', 'to right',\" +\n                    \" 'to bottom right', 'to top right' or 'ellipse at center'\" };\n        }\n        returner = '<?xml version=\"1.0\" ?>' +\n            '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"100%\" height=\"100%\" viewBox=\"0 0 1 1\" preserveAspectRatio=\"none\">' +\n            '<' + gradientType + 'Gradient id=\"gradient\" gradientUnits=\"userSpaceOnUse\" ' + gradientDirectionSvg + '>';\n\n        for (i = 0; i < stops.length; i+= 1) {\n            if (stops[i] instanceof Expression) {\n                color = stops[i].value[0];\n                position = stops[i].value[1];\n            } else {\n                color = stops[i];\n                position = undefined;\n            }\n\n            if (!(color instanceof Color) || (!((i === 0 || i + 1 === stops.length) && position === undefined) && !(position instanceof Dimension))) {\n                throwArgumentDescriptor();\n            }\n            positionValue = position ? position.toCSS(renderEnv) : i === 0 ? \"0%\" : \"100%\";\n            alpha = color.alpha;\n            returner += '<stop offset=\"' + positionValue + '\" stop-color=\"' + color.toRGB() + '\"' + (alpha < 1 ? ' stop-opacity=\"' + alpha + '\"' : '') + '/>';\n        }\n        returner += '</' + gradientType + 'Gradient>' +\n            '<rect ' + rectangleDimension + ' fill=\"url(#gradient)\" /></svg>';\n\n        returner = encodeURIComponent(returner);\n\n        returner = \"data:image/svg+xml,\" + returner;\n        return new URL(new Quoted(\"'\" + returner + \"'\", returner, false, this.index, this.currentFileInfo), this.index, this.currentFileInfo);\n    });\n};\n\n},{\"../tree/color\":49,\"../tree/dimension\":55,\"../tree/expression\":58,\"../tree/quoted\":72,\"../tree/url\":79,\"./function-registry\":21}],28:[function(require,module,exports){\nvar Keyword = require(\"../tree/keyword\"),\n    DetachedRuleset = require(\"../tree/detached-ruleset\"),\n    Dimension = require(\"../tree/dimension\"),\n    Color = require(\"../tree/color\"),\n    Quoted = require(\"../tree/quoted\"),\n    Anonymous = require(\"../tree/anonymous\"),\n    URL = require(\"../tree/url\"),\n    Operation = require(\"../tree/operation\"),\n    functionRegistry = require(\"./function-registry\");\n\nvar isa = function (n, Type) {\n        return (n instanceof Type) ? Keyword.True : Keyword.False;\n    },\n    isunit = function (n, unit) {\n        if (unit === undefined) {\n            throw { type: \"Argument\", message: \"missing the required second argument to isunit.\" };\n        }\n        unit = typeof unit.value === \"string\" ? unit.value : unit;\n        if (typeof unit !== \"string\") {\n            throw { type: \"Argument\", message: \"Second argument to isunit should be a unit or a string.\" };\n        }\n        return (n instanceof Dimension) && n.unit.is(unit) ? Keyword.True : Keyword.False;\n    },\n    getItemsFromNode = function(node) {\n        // handle non-array values as an array of length 1\n        // return 'undefined' if index is invalid\n        var items = Array.isArray(node.value) ?\n            node.value : Array(node);\n\n        return items;\n    };\nfunctionRegistry.addMultiple({\n    isruleset: function (n) {\n        return isa(n, DetachedRuleset);\n    },\n    iscolor: function (n) {\n        return isa(n, Color);\n    },\n    isnumber: function (n) {\n        return isa(n, Dimension);\n    },\n    isstring: function (n) {\n        return isa(n, Quoted);\n    },\n    iskeyword: function (n) {\n        return isa(n, Keyword);\n    },\n    isurl: function (n) {\n        return isa(n, URL);\n    },\n    ispixel: function (n) {\n        return isunit(n, 'px');\n    },\n    ispercentage: function (n) {\n        return isunit(n, '%');\n    },\n    isem: function (n) {\n        return isunit(n, 'em');\n    },\n    isunit: isunit,\n    unit: function (val, unit) {\n        if (!(val instanceof Dimension)) {\n            throw { type: \"Argument\",\n                message: \"the first argument to unit must be a number\" +\n                    (val instanceof Operation ? \". Have you forgotten parenthesis?\" : \"\") };\n        }\n        if (unit) {\n            if (unit instanceof Keyword) {\n                unit = unit.value;\n            } else {\n                unit = unit.toCSS();\n            }\n        } else {\n            unit = \"\";\n        }\n        return new Dimension(val.value, unit);\n    },\n    \"get-unit\": function (n) {\n        return new Anonymous(n.unit);\n    },\n    extract: function(values, index) {\n        index = index.value - 1; // (1-based index)\n\n        return getItemsFromNode(values)[index];\n    },\n    length: function(values) {\n        return new Dimension(getItemsFromNode(values).length);\n    }\n});\n\n},{\"../tree/anonymous\":45,\"../tree/color\":49,\"../tree/detached-ruleset\":54,\"../tree/dimension\":55,\"../tree/keyword\":64,\"../tree/operation\":70,\"../tree/quoted\":72,\"../tree/url\":79,\"./function-registry\":21}],29:[function(require,module,exports){\nvar contexts = require(\"./contexts\"),\n    Parser = require('./parser/parser'),\n    FunctionImporter = require('./plugins/function-importer');\n\nmodule.exports = function(environment) {\n\n    // FileInfo = {\n    //  'relativeUrls' - option - whether to adjust URL's to be relative\n    //  'filename' - full resolved filename of current file\n    //  'rootpath' - path to append to normal URLs for this node\n    //  'currentDirectory' - path to the current file, absolute\n    //  'rootFilename' - filename of the base file\n    //  'entryPath' - absolute path to the entry file\n    //  'reference' - whether the file should not be output and only output parts that are referenced\n\n    var ImportManager = function(context, rootFileInfo) {\n        this.rootFilename = rootFileInfo.filename;\n        this.paths = context.paths || [];  // Search paths, when importing\n        this.contents = {};             // map - filename to contents of all the files\n        this.contentsIgnoredChars = {}; // map - filename to lines at the beginning of each file to ignore\n        this.mime = context.mime;\n        this.error = null;\n        this.context = context;\n        // Deprecated? Unused outside of here, could be useful.\n        this.queue = [];        // Files which haven't been imported yet\n        this.files = {};        // Holds the imported parse trees.\n    };\n    /**\n     * Add an import to be imported\n     * @param path - the raw path\n     * @param tryAppendLessExtension - whether to try appending the less extension (if the path has no extension)\n     * @param currentFileInfo - the current file info (used for instance to work out relative paths)\n     * @param importOptions - import options\n     * @param callback - callback for when it is imported\n     */\n    ImportManager.prototype.push = function (path, tryAppendLessExtension, currentFileInfo, importOptions, callback) {\n        var importManager = this;\n        this.queue.push(path);\n\n        var fileParsedFunc = function (e, root, fullPath) {\n            importManager.queue.splice(importManager.queue.indexOf(path), 1); // Remove the path from the queue\n\n            var importedEqualsRoot = fullPath === importManager.rootFilename;\n            if (importOptions.optional && e) {\n                callback(null, {rules:[]}, false, null);\n            }\n            else {\n                importManager.files[fullPath] = root;\n                if (e && !importManager.error) { importManager.error = e; }\n                callback(e, root, importedEqualsRoot, fullPath);\n            }\n        };\n\n        var newFileInfo = {\n            relativeUrls: this.context.relativeUrls,\n            entryPath: currentFileInfo.entryPath,\n            rootpath: currentFileInfo.rootpath,\n            rootFilename: currentFileInfo.rootFilename\n        };\n\n        var fileManager = environment.getFileManager(path, currentFileInfo.currentDirectory, this.context, environment);\n\n        if (!fileManager) {\n            fileParsedFunc({ message: \"Could not find a file-manager for \" + path });\n            return;\n        }\n\n        if (tryAppendLessExtension) {\n            path = fileManager.tryAppendExtension(path, importOptions.plugin ? \".js\" : \".less\");\n        }\n\n        var loadFileCallback = function(loadedFile) {\n            var resolvedFilename = loadedFile.filename,\n                contents = loadedFile.contents.replace(/^\\uFEFF/, '');\n\n            // Pass on an updated rootpath if path of imported file is relative and file\n            // is in a (sub|sup) directory\n            //\n            // Examples:\n            // - If path of imported file is 'module/nav/nav.less' and rootpath is 'less/',\n            //   then rootpath should become 'less/module/nav/'\n            // - If path of imported file is '../mixins.less' and rootpath is 'less/',\n            //   then rootpath should become 'less/../'\n            newFileInfo.currentDirectory = fileManager.getPath(resolvedFilename);\n            if (newFileInfo.relativeUrls) {\n                newFileInfo.rootpath = fileManager.join(\n                    (importManager.context.rootpath || \"\"),\n                    fileManager.pathDiff(newFileInfo.currentDirectory, newFileInfo.entryPath));\n\n                if (!fileManager.isPathAbsolute(newFileInfo.rootpath) && fileManager.alwaysMakePathsAbsolute()) {\n                    newFileInfo.rootpath = fileManager.join(newFileInfo.entryPath, newFileInfo.rootpath);\n                }\n            }\n            newFileInfo.filename = resolvedFilename;\n\n            var newEnv = new contexts.Parse(importManager.context);\n\n            newEnv.processImports = false;\n            importManager.contents[resolvedFilename] = contents;\n\n            if (currentFileInfo.reference || importOptions.reference) {\n                newFileInfo.reference = true;\n            }\n\n            if (importOptions.plugin) {\n                new FunctionImporter(newEnv, newFileInfo).eval(contents, function (e, root) {\n                    fileParsedFunc(e, root, resolvedFilename);\n                });\n            } else if (importOptions.inline) {\n                fileParsedFunc(null, contents, resolvedFilename);\n            } else {\n                new Parser(newEnv, importManager, newFileInfo).parse(contents, function (e, root) {\n                    fileParsedFunc(e, root, resolvedFilename);\n                });\n            }\n        };\n\n        var promise = fileManager.loadFile(path, currentFileInfo.currentDirectory, this.context, environment,\n            function(err, loadedFile) {\n            if (err) {\n                fileParsedFunc(err);\n            } else {\n                loadFileCallback(loadedFile);\n            }\n        });\n        if (promise) {\n            promise.then(loadFileCallback, fileParsedFunc);\n        }\n    };\n    return ImportManager;\n};\n\n},{\"./contexts\":10,\"./parser/parser\":37,\"./plugins/function-importer\":39}],30:[function(require,module,exports){\nmodule.exports = function(environment, fileManagers) {\n    var SourceMapOutput, SourceMapBuilder, ParseTree, ImportManager, Environment;\n\n    var less = {\n        version: [2, 5, 3],\n        data: require('./data'),\n        tree: require('./tree'),\n        Environment: (Environment = require(\"./environment/environment\")),\n        AbstractFileManager: require(\"./environment/abstract-file-manager\"),\n        environment: (environment = new Environment(environment, fileManagers)),\n        visitors: require('./visitors'),\n        Parser: require('./parser/parser'),\n        functions: require('./functions')(environment),\n        contexts: require(\"./contexts\"),\n        SourceMapOutput: (SourceMapOutput = require('./source-map-output')(environment)),\n        SourceMapBuilder: (SourceMapBuilder = require('./source-map-builder')(SourceMapOutput, environment)),\n        ParseTree: (ParseTree = require('./parse-tree')(SourceMapBuilder)),\n        ImportManager: (ImportManager = require('./import-manager')(environment)),\n        render: require(\"./render\")(environment, ParseTree, ImportManager),\n        parse: require(\"./parse\")(environment, ParseTree, ImportManager),\n        LessError: require('./less-error'),\n        transformTree: require('./transform-tree'),\n        utils: require('./utils'),\n        PluginManager: require('./plugin-manager'),\n        logger: require('./logger')\n    };\n\n    return less;\n};\n\n},{\"./contexts\":10,\"./data\":12,\"./environment/abstract-file-manager\":14,\"./environment/environment\":15,\"./functions\":22,\"./import-manager\":29,\"./less-error\":31,\"./logger\":32,\"./parse\":34,\"./parse-tree\":33,\"./parser/parser\":37,\"./plugin-manager\":38,\"./render\":40,\"./source-map-builder\":41,\"./source-map-output\":42,\"./transform-tree\":43,\"./tree\":61,\"./utils\":82,\"./visitors\":86}],31:[function(require,module,exports){\nvar utils = require(\"./utils\");\n\nvar LessError = module.exports = function LessError(e, importManager, currentFilename) {\n\n    Error.call(this);\n\n    var filename = e.filename || currentFilename;\n\n    if (importManager && filename) {\n        var input = importManager.contents[filename],\n            loc = utils.getLocation(e.index, input),\n            line = loc.line,\n            col  = loc.column,\n            callLine = e.call && utils.getLocation(e.call, input).line,\n            lines = input.split('\\n');\n\n        this.type = e.type || 'Syntax';\n        this.filename = filename;\n        this.index = e.index;\n        this.line = typeof line === 'number' ? line + 1 : null;\n        this.callLine = callLine + 1;\n        this.callExtract = lines[callLine];\n        this.column = col;\n        this.extract = [\n            lines[line - 1],\n            lines[line],\n            lines[line + 1]\n        ];\n    }\n    this.message = e.message;\n    this.stack = e.stack;\n};\n\nif (typeof Object.create === 'undefined') {\n    var F = function () {};\n    F.prototype = Error.prototype;\n    LessError.prototype = new F();\n} else {\n    LessError.prototype = Object.create(Error.prototype);\n}\n\nLessError.prototype.constructor = LessError;\n\n},{\"./utils\":82}],32:[function(require,module,exports){\nmodule.exports = {\n    error: function(msg) {\n        this._fireEvent(\"error\", msg);\n    },\n    warn: function(msg) {\n        this._fireEvent(\"warn\", msg);\n    },\n    info: function(msg) {\n        this._fireEvent(\"info\", msg);\n    },\n    debug: function(msg) {\n        this._fireEvent(\"debug\", msg);\n    },\n    addListener: function(listener) {\n        this._listeners.push(listener);\n    },\n    removeListener: function(listener) {\n        for (var i = 0; i < this._listeners.length; i++) {\n            if (this._listeners[i] === listener) {\n                this._listeners.splice(i, 1);\n                return;\n            }\n        }\n    },\n    _fireEvent: function(type, msg) {\n        for (var i = 0; i < this._listeners.length; i++) {\n            var logFunction = this._listeners[i][type];\n            if (logFunction) {\n                logFunction(msg);\n            }\n        }\n    },\n    _listeners: []\n};\n\n},{}],33:[function(require,module,exports){\nvar LessError = require('./less-error'),\n    transformTree = require(\"./transform-tree\"),\n    logger = require(\"./logger\");\n\nmodule.exports = function(SourceMapBuilder) {\n    var ParseTree = function(root, imports) {\n        this.root = root;\n        this.imports = imports;\n    };\n\n    ParseTree.prototype.toCSS = function(options) {\n        var evaldRoot, result = {}, sourceMapBuilder;\n        try {\n            evaldRoot = transformTree(this.root, options);\n        } catch (e) {\n            throw new LessError(e, this.imports);\n        }\n\n        try {\n            var compress = Boolean(options.compress);\n            if (compress) {\n                logger.warn(\"The compress option has been deprecated. We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.\");\n            }\n\n            var toCSSOptions = {\n                compress: compress,\n                dumpLineNumbers: options.dumpLineNumbers,\n                strictUnits: Boolean(options.strictUnits),\n                numPrecision: 8};\n\n            if (options.sourceMap) {\n                sourceMapBuilder = new SourceMapBuilder(options.sourceMap);\n                result.css = sourceMapBuilder.toCSS(evaldRoot, toCSSOptions, this.imports);\n            } else {\n                result.css = evaldRoot.toCSS(toCSSOptions);\n            }\n        } catch (e) {\n            throw new LessError(e, this.imports);\n        }\n\n        if (options.pluginManager) {\n            var postProcessors = options.pluginManager.getPostProcessors();\n            for (var i = 0; i < postProcessors.length; i++) {\n                result.css = postProcessors[i].process(result.css, { sourceMap: sourceMapBuilder, options: options, imports: this.imports });\n            }\n        }\n        if (options.sourceMap) {\n            result.map = sourceMapBuilder.getExternalSourceMap();\n        }\n\n        result.imports = [];\n        for (var file in this.imports.files) {\n            if (this.imports.files.hasOwnProperty(file) && file !== this.imports.rootFilename) {\n                result.imports.push(file);\n            }\n        }\n        return result;\n    };\n    return ParseTree;\n};\n\n},{\"./less-error\":31,\"./logger\":32,\"./transform-tree\":43}],34:[function(require,module,exports){\nvar PromiseConstructor,\n    contexts = require(\"./contexts\"),\n    Parser = require('./parser/parser'),\n    PluginManager = require('./plugin-manager');\n\nmodule.exports = function(environment, ParseTree, ImportManager) {\n    var parse = function (input, options, callback) {\n        options = options || {};\n\n        if (typeof options === 'function') {\n            callback = options;\n            options = {};\n        }\n\n        if (!callback) {\n            if (!PromiseConstructor) {\n                PromiseConstructor = typeof Promise === 'undefined' ? require('promise') : Promise;\n            }\n            var self = this;\n            return new PromiseConstructor(function (resolve, reject) {\n                parse.call(self, input, options, function(err, output) {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(output);\n                    }\n                });\n            });\n        } else {\n            var context,\n                rootFileInfo,\n                pluginManager = new PluginManager(this);\n\n            pluginManager.addPlugins(options.plugins);\n            options.pluginManager = pluginManager;\n\n            context = new contexts.Parse(options);\n\n            if (options.rootFileInfo) {\n                rootFileInfo = options.rootFileInfo;\n            } else {\n                var filename = options.filename || \"input\";\n                var entryPath = filename.replace(/[^\\/\\\\]*$/, \"\");\n                rootFileInfo = {\n                    filename: filename,\n                    relativeUrls: context.relativeUrls,\n                    rootpath: context.rootpath || \"\",\n                    currentDirectory: entryPath,\n                    entryPath: entryPath,\n                    rootFilename: filename\n                };\n                // add in a missing trailing slash\n                if (rootFileInfo.rootpath && rootFileInfo.rootpath.slice(-1) !== \"/\") {\n                    rootFileInfo.rootpath += \"/\";\n                }\n            }\n\n            var imports = new ImportManager(context, rootFileInfo);\n\n            new Parser(context, imports, rootFileInfo)\n                .parse(input, function (e, root) {\n                if (e) { return callback(e); }\n                callback(null, root, imports, options);\n            }, options);\n        }\n    };\n    return parse;\n};\n\n},{\"./contexts\":10,\"./parser/parser\":37,\"./plugin-manager\":38,\"promise\":undefined}],35:[function(require,module,exports){\n// Split the input into chunks.\nmodule.exports = function (input, fail) {\n    var len = input.length, level = 0, parenLevel = 0,\n        lastOpening, lastOpeningParen, lastMultiComment, lastMultiCommentEndBrace,\n        chunks = [], emitFrom = 0,\n        chunkerCurrentIndex, currentChunkStartIndex, cc, cc2, matched;\n\n    function emitChunk(force) {\n        var len = chunkerCurrentIndex - emitFrom;\n        if (((len < 512) && !force) || !len) {\n            return;\n        }\n        chunks.push(input.slice(emitFrom, chunkerCurrentIndex + 1));\n        emitFrom = chunkerCurrentIndex + 1;\n    }\n\n    for (chunkerCurrentIndex = 0; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\n        cc = input.charCodeAt(chunkerCurrentIndex);\n        if (((cc >= 97) && (cc <= 122)) || (cc < 34)) {\n            // a-z or whitespace\n            continue;\n        }\n\n        switch (cc) {\n            case 40:                        // (\n                parenLevel++;\n                lastOpeningParen = chunkerCurrentIndex;\n                continue;\n            case 41:                        // )\n                if (--parenLevel < 0) {\n                    return fail(\"missing opening `(`\", chunkerCurrentIndex);\n                }\n                continue;\n            case 59:                        // ;\n                if (!parenLevel) { emitChunk(); }\n                continue;\n            case 123:                       // {\n                level++;\n                lastOpening = chunkerCurrentIndex;\n                continue;\n            case 125:                       // }\n                if (--level < 0) {\n                    return fail(\"missing opening `{`\", chunkerCurrentIndex);\n                }\n                if (!level && !parenLevel) { emitChunk(); }\n                continue;\n            case 92:                        // \\\n                if (chunkerCurrentIndex < len - 1) { chunkerCurrentIndex++; continue; }\n                return fail(\"unescaped `\\\\`\", chunkerCurrentIndex);\n            case 34:\n            case 39:\n            case 96:                        // \", ' and `\n                matched = 0;\n                currentChunkStartIndex = chunkerCurrentIndex;\n                for (chunkerCurrentIndex = chunkerCurrentIndex + 1; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\n                    cc2 = input.charCodeAt(chunkerCurrentIndex);\n                    if (cc2 > 96) { continue; }\n                    if (cc2 == cc) { matched = 1; break; }\n                    if (cc2 == 92) {        // \\\n                        if (chunkerCurrentIndex == len - 1) {\n                            return fail(\"unescaped `\\\\`\", chunkerCurrentIndex);\n                        }\n                        chunkerCurrentIndex++;\n                    }\n                }\n                if (matched) { continue; }\n                return fail(\"unmatched `\" + String.fromCharCode(cc) + \"`\", currentChunkStartIndex);\n            case 47:                        // /, check for comment\n                if (parenLevel || (chunkerCurrentIndex == len - 1)) { continue; }\n                cc2 = input.charCodeAt(chunkerCurrentIndex + 1);\n                if (cc2 == 47) {\n                    // //, find lnfeed\n                    for (chunkerCurrentIndex = chunkerCurrentIndex + 2; chunkerCurrentIndex < len; chunkerCurrentIndex++) {\n                        cc2 = input.charCodeAt(chunkerCurrentIndex);\n                        if ((cc2 <= 13) && ((cc2 == 10) || (cc2 == 13))) { break; }\n                    }\n                } else if (cc2 == 42) {\n                    // /*, find */\n                    lastMultiComment = currentChunkStartIndex = chunkerCurrentIndex;\n                    for (chunkerCurrentIndex = chunkerCurrentIndex + 2; chunkerCurrentIndex < len - 1; chunkerCurrentIndex++) {\n                        cc2 = input.charCodeAt(chunkerCurrentIndex);\n                        if (cc2 == 125) { lastMultiCommentEndBrace = chunkerCurrentIndex; }\n                        if (cc2 != 42) { continue; }\n                        if (input.charCodeAt(chunkerCurrentIndex + 1) == 47) { break; }\n                    }\n                    if (chunkerCurrentIndex == len - 1) {\n                        return fail(\"missing closing `*/`\", currentChunkStartIndex);\n                    }\n                    chunkerCurrentIndex++;\n                }\n                continue;\n            case 42:                       // *, check for unmatched */\n                if ((chunkerCurrentIndex < len - 1) && (input.charCodeAt(chunkerCurrentIndex + 1) == 47)) {\n                    return fail(\"unmatched `/*`\", chunkerCurrentIndex);\n                }\n                continue;\n        }\n    }\n\n    if (level !== 0) {\n        if ((lastMultiComment > lastOpening) && (lastMultiCommentEndBrace > lastMultiComment)) {\n            return fail(\"missing closing `}` or `*/`\", lastOpening);\n        } else {\n            return fail(\"missing closing `}`\", lastOpening);\n        }\n    } else if (parenLevel !== 0) {\n        return fail(\"missing closing `)`\", lastOpeningParen);\n    }\n\n    emitChunk(true);\n    return chunks;\n};\n\n},{}],36:[function(require,module,exports){\nvar chunker = require('./chunker');\n\nmodule.exports = function() {\n    var input,       // LeSS input string\n        j,           // current chunk\n        saveStack = [],   // holds state for backtracking\n        furthest,    // furthest index the parser has gone to\n        furthestPossibleErrorMessage,// if this is furthest we got to, this is the probably cause\n        chunks,      // chunkified input\n        current,     // current chunk\n        currentPos,  // index of current chunk, in `input`\n        parserInput = {};\n\n    parserInput.save = function() {\n        currentPos = parserInput.i;\n        saveStack.push( { current: current, i: parserInput.i, j: j });\n    };\n    parserInput.restore = function(possibleErrorMessage) {\n\n        if (parserInput.i > furthest || (parserInput.i === furthest && possibleErrorMessage && !furthestPossibleErrorMessage)) {\n            furthest = parserInput.i;\n            furthestPossibleErrorMessage = possibleErrorMessage;\n        }\n        var state = saveStack.pop();\n        current = state.current;\n        currentPos = parserInput.i = state.i;\n        j = state.j;\n    };\n    parserInput.forget = function() {\n        saveStack.pop();\n    };\n    parserInput.isWhitespace = function (offset) {\n        var pos = parserInput.i + (offset || 0),\n            code = input.charCodeAt(pos);\n        return (code === CHARCODE_SPACE || code === CHARCODE_CR || code === CHARCODE_TAB || code === CHARCODE_LF);\n    };\n\n    // Specialization of $(tok)\n    parserInput.$re = function(tok) {\n        if (parserInput.i > currentPos) {\n            current = current.slice(parserInput.i - currentPos);\n            currentPos = parserInput.i;\n        }\n\n        var m = tok.exec(current);\n        if (!m) {\n            return null;\n        }\n\n        skipWhitespace(m[0].length);\n        if (typeof m === \"string\") {\n            return m;\n        }\n\n        return m.length === 1 ? m[0] : m;\n    };\n\n    parserInput.$char = function(tok) {\n        if (input.charAt(parserInput.i) !== tok) {\n            return null;\n        }\n        skipWhitespace(1);\n        return tok;\n    };\n\n    parserInput.$str = function(tok) {\n        var tokLength = tok.length;\n\n        // https://jsperf.com/string-startswith/21\n        for (var i = 0; i < tokLength; i++) {\n            if (input.charAt(parserInput.i + i) !== tok.charAt(i)) {\n                return null;\n            }\n        }\n\n        skipWhitespace(tokLength);\n        return tok;\n    };\n\n    parserInput.$quoted = function() {\n\n        var startChar = input.charAt(parserInput.i);\n        if (startChar !== \"'\" && startChar !== '\"') {\n            return;\n        }\n        var length = input.length,\n            currentPosition = parserInput.i;\n\n        for (var i = 1; i + currentPosition < length; i++) {\n            var nextChar = input.charAt(i + currentPosition);\n            switch(nextChar) {\n                case \"\\\\\":\n                    i++;\n                    continue;\n                case \"\\r\":\n                case \"\\n\":\n                    break;\n                case startChar:\n                    var str = input.substr(currentPosition, i + 1);\n                    skipWhitespace(i + 1);\n                    return str;\n                default:\n            }\n        }\n        return null;\n    };\n\n    var CHARCODE_SPACE = 32,\n        CHARCODE_TAB = 9,\n        CHARCODE_LF = 10,\n        CHARCODE_CR = 13,\n        CHARCODE_PLUS = 43,\n        CHARCODE_COMMA = 44,\n        CHARCODE_FORWARD_SLASH = 47,\n        CHARCODE_9 = 57;\n\n    parserInput.autoCommentAbsorb = true;\n    parserInput.commentStore = [];\n    parserInput.finished = false;\n\n    var skipWhitespace = function(length) {\n        var oldi = parserInput.i, oldj = j,\n            curr = parserInput.i - currentPos,\n            endIndex = parserInput.i + current.length - curr,\n            mem = (parserInput.i += length),\n            inp = input,\n            c, nextChar, comment;\n\n        for (; parserInput.i < endIndex; parserInput.i++) {\n            c = inp.charCodeAt(parserInput.i);\n\n            if (parserInput.autoCommentAbsorb && c === CHARCODE_FORWARD_SLASH) {\n                nextChar = inp.charAt(parserInput.i + 1);\n                if (nextChar === '/') {\n                    comment = {index: parserInput.i, isLineComment: true};\n                    var nextNewLine = inp.indexOf(\"\\n\", parserInput.i + 2);\n                    if (nextNewLine < 0) {\n                        nextNewLine = endIndex;\n                    }\n                    parserInput.i = nextNewLine;\n                    comment.text = inp.substr(comment.i, parserInput.i - comment.i);\n                    parserInput.commentStore.push(comment);\n                    continue;\n                } else if (nextChar === '*') {\n                    var nextStarSlash = inp.indexOf(\"*/\", parserInput.i + 2);\n                    if (nextStarSlash >= 0) {\n                        comment = {\n                            index: parserInput.i,\n                            text: inp.substr(parserInput.i, nextStarSlash + 2 - parserInput.i),\n                            isLineComment: false\n                        };\n                        parserInput.i += comment.text.length - 1;\n                        parserInput.commentStore.push(comment);\n                        continue;\n                    }\n                }\n                break;\n            }\n\n            if ((c !== CHARCODE_SPACE) && (c !== CHARCODE_LF) && (c !== CHARCODE_TAB) && (c !== CHARCODE_CR)) {\n                break;\n            }\n        }\n\n        current = current.slice(length + parserInput.i - mem + curr);\n        currentPos = parserInput.i;\n\n        if (!current.length) {\n            if (j < chunks.length - 1) {\n                current = chunks[++j];\n                skipWhitespace(0); // skip space at the beginning of a chunk\n                return true; // things changed\n            }\n            parserInput.finished = true;\n        }\n\n        return oldi !== parserInput.i || oldj !== j;\n    };\n\n    // Same as $(), but don't change the state of the parser,\n    // just return the match.\n    parserInput.peek = function(tok) {\n        if (typeof tok === 'string') {\n            // https://jsperf.com/string-startswith/21\n            for (var i = 0; i < tok.length; i++) {\n                if (input.charAt(parserInput.i + i) !== tok.charAt(i)) {\n                    return false;\n                }\n            }\n            return true;\n        } else {\n            return tok.test(current);\n        }\n    };\n\n    // Specialization of peek()\n    // TODO remove or change some currentChar calls to peekChar\n    parserInput.peekChar = function(tok) {\n        return input.charAt(parserInput.i) === tok;\n    };\n\n    parserInput.currentChar = function() {\n        return input.charAt(parserInput.i);\n    };\n\n    parserInput.getInput = function() {\n        return input;\n    };\n\n    parserInput.peekNotNumeric = function() {\n        var c = input.charCodeAt(parserInput.i);\n        //Is the first char of the dimension 0-9, '.', '+' or '-'\n        return (c > CHARCODE_9 || c < CHARCODE_PLUS) || c === CHARCODE_FORWARD_SLASH || c === CHARCODE_COMMA;\n    };\n\n    parserInput.start = function(str, chunkInput, failFunction) {\n        input = str;\n        parserInput.i = j = currentPos = furthest = 0;\n\n        // chunking apparantly makes things quicker (but my tests indicate\n        // it might actually make things slower in node at least)\n        // and it is a non-perfect parse - it can't recognise\n        // unquoted urls, meaning it can't distinguish comments\n        // meaning comments with quotes or {}() in them get 'counted'\n        // and then lead to parse errors.\n        // In addition if the chunking chunks in the wrong place we might\n        // not be able to parse a parser statement in one go\n        // this is officially deprecated but can be switched on via an option\n        // in the case it causes too much performance issues.\n        if (chunkInput) {\n            chunks = chunker(str, failFunction);\n        } else {\n            chunks = [str];\n        }\n\n        current = chunks[0];\n\n        skipWhitespace(0);\n    };\n\n    parserInput.end = function() {\n        var message,\n            isFinished = parserInput.i >= input.length;\n\n        if (parserInput.i < furthest) {\n            message = furthestPossibleErrorMessage;\n            parserInput.i = furthest;\n        }\n        return {\n            isFinished: isFinished,\n            furthest: parserInput.i,\n            furthestPossibleErrorMessage: message,\n            furthestReachedEnd: parserInput.i >= input.length - 1,\n            furthestChar: input[parserInput.i]\n        };\n    };\n\n    return parserInput;\n};\n\n},{\"./chunker\":35}],37:[function(require,module,exports){\nvar LessError = require('../less-error'),\n    tree = require(\"../tree\"),\n    visitors = require(\"../visitors\"),\n    getParserInput = require(\"./parser-input\"),\n    utils = require(\"../utils\");\n\n//\n// less.js - parser\n//\n//    A relatively straight-forward predictive parser.\n//    There is no tokenization/lexing stage, the input is parsed\n//    in one sweep.\n//\n//    To make the parser fast enough to run in the browser, several\n//    optimization had to be made:\n//\n//    - Matching and slicing on a huge input is often cause of slowdowns.\n//      The solution is to chunkify the input into smaller strings.\n//      The chunks are stored in the `chunks` var,\n//      `j` holds the current chunk index, and `currentPos` holds\n//      the index of the current chunk in relation to `input`.\n//      This gives us an almost 4x speed-up.\n//\n//    - In many cases, we don't need to match individual tokens;\n//      for example, if a value doesn't hold any variables, operations\n//      or dynamic references, the parser can effectively 'skip' it,\n//      treating it as a literal.\n//      An example would be '1px solid #000' - which evaluates to itself,\n//      we don't need to know what the individual components are.\n//      The drawback, of course is that you don't get the benefits of\n//      syntax-checking on the CSS. This gives us a 50% speed-up in the parser,\n//      and a smaller speed-up in the code-gen.\n//\n//\n//    Token matching is done with the `$` function, which either takes\n//    a terminal string or regexp, or a non-terminal function to call.\n//    It also takes care of moving all the indices forwards.\n//\n//\nvar Parser = function Parser(context, imports, fileInfo) {\n    var parsers,\n        parserInput = getParserInput();\n\n    function expect(arg, msg, index) {\n        // some older browsers return typeof 'function' for RegExp\n        var result = (Object.prototype.toString.call(arg) === '[object Function]') ? arg.call(parsers) : parserInput.$re(arg);\n        if (result) {\n            return result;\n        }\n        error(msg || (typeof arg === 'string' ? \"expected '\" + arg + \"' got '\" + parserInput.currentChar() + \"'\"\n                                               : \"unexpected token\"));\n    }\n\n    // Specialization of expect()\n    function expectChar(arg, msg) {\n        if (parserInput.$char(arg)) {\n            return arg;\n        }\n        error(msg || \"expected '\" + arg + \"' got '\" + parserInput.currentChar() + \"'\");\n    }\n\n    function error(msg, type) {\n        throw new LessError(\n            {\n                index: parserInput.i,\n                filename: fileInfo.filename,\n                type: type || 'Syntax',\n                message: msg\n            },\n            imports\n        );\n    }\n\n    function getDebugInfo(index) {\n        var filename = fileInfo.filename;\n\n        return {\n            lineNumber: utils.getLocation(index, parserInput.getInput()).line + 1,\n            fileName: filename\n        };\n    }\n\n    //\n    // The Parser\n    //\n    return {\n\n        //\n        // Parse an input string into an abstract syntax tree,\n        // @param str A string containing 'less' markup\n        // @param callback call `callback` when done.\n        // @param [additionalData] An optional map which can contains vars - a map (key, value) of variables to apply\n        //\n        parse: function (str, callback, additionalData) {\n            var root, error = null, globalVars, modifyVars, ignored, preText = \"\";\n\n            globalVars = (additionalData && additionalData.globalVars) ? Parser.serializeVars(additionalData.globalVars) + '\\n' : '';\n            modifyVars = (additionalData && additionalData.modifyVars) ? '\\n' + Parser.serializeVars(additionalData.modifyVars) : '';\n\n            if (context.pluginManager) {\n                var preProcessors = context.pluginManager.getPreProcessors();\n                for (var i = 0; i < preProcessors.length; i++) {\n                    str = preProcessors[i].process(str, { context: context, imports: imports, fileInfo: fileInfo });\n                }\n            }\n\n            if (globalVars || (additionalData && additionalData.banner)) {\n                preText = ((additionalData && additionalData.banner) ? additionalData.banner : \"\") + globalVars;\n                ignored = imports.contentsIgnoredChars;\n                ignored[fileInfo.filename] = ignored[fileInfo.filename] || 0;\n                ignored[fileInfo.filename] += preText.length;\n            }\n\n            str = str.replace(/\\r\\n?/g, '\\n');\n            // Remove potential UTF Byte Order Mark\n            str = preText + str.replace(/^\\uFEFF/, '') + modifyVars;\n            imports.contents[fileInfo.filename] = str;\n\n            // Start with the primary rule.\n            // The whole syntax tree is held under a Ruleset node,\n            // with the `root` property set to true, so no `{}` are\n            // output. The callback is called when the input is parsed.\n            try {\n                parserInput.start(str, context.chunkInput, function fail(msg, index) {\n                    throw new LessError({\n                        index: index,\n                        type: 'Parse',\n                        message: msg,\n                        filename: fileInfo.filename\n                    }, imports);\n                });\n\n                root = new(tree.Ruleset)(null, this.parsers.primary());\n                root.root = true;\n                root.firstRoot = true;\n            } catch (e) {\n                return callback(new LessError(e, imports, fileInfo.filename));\n            }\n\n            // If `i` is smaller than the `input.length - 1`,\n            // it means the parser wasn't able to parse the whole\n            // string, so we've got a parsing error.\n            //\n            // We try to extract a \\n delimited string,\n            // showing the line where the parse error occurred.\n            // We split it up into two parts (the part which parsed,\n            // and the part which didn't), so we can color them differently.\n            var endInfo = parserInput.end();\n            if (!endInfo.isFinished) {\n\n                var message = endInfo.furthestPossibleErrorMessage;\n\n                if (!message) {\n                    message = \"Unrecognised input\";\n                    if (endInfo.furthestChar === '}') {\n                        message += \". Possibly missing opening '{'\";\n                    } else if (endInfo.furthestChar === ')') {\n                        message += \". Possibly missing opening '('\";\n                    } else if (endInfo.furthestReachedEnd) {\n                        message += \". Possibly missing something\";\n                    }\n                }\n\n                error = new LessError({\n                    type: \"Parse\",\n                    message: message,\n                    index: endInfo.furthest,\n                    filename: fileInfo.filename\n                }, imports);\n            }\n\n            var finish = function (e) {\n                e = error || e || imports.error;\n\n                if (e) {\n                    if (!(e instanceof LessError)) {\n                        e = new LessError(e, imports, fileInfo.filename);\n                    }\n\n                    return callback(e);\n                }\n                else {\n                    return callback(null, root);\n                }\n            };\n\n            if (context.processImports !== false) {\n                new visitors.ImportVisitor(imports, finish)\n                    .run(root);\n            } else {\n                return finish();\n            }\n        },\n\n        //\n        // Here in, the parsing rules/functions\n        //\n        // The basic structure of the syntax tree generated is as follows:\n        //\n        //   Ruleset ->  Rule -> Value -> Expression -> Entity\n        //\n        // Here's some Less code:\n        //\n        //    .class {\n        //      color: #fff;\n        //      border: 1px solid #000;\n        //      width: @w + 4px;\n        //      > .child {...}\n        //    }\n        //\n        // And here's what the parse tree might look like:\n        //\n        //     Ruleset (Selector '.class', [\n        //         Rule (\"color\",  Value ([Expression [Color #fff]]))\n        //         Rule (\"border\", Value ([Expression [Dimension 1px][Keyword \"solid\"][Color #000]]))\n        //         Rule (\"width\",  Value ([Expression [Operation \" + \" [Variable \"@w\"][Dimension 4px]]]))\n        //         Ruleset (Selector [Element '>', '.child'], [...])\n        //     ])\n        //\n        //  In general, most rules will try to parse a token with the `$re()` function, and if the return\n        //  value is truly, will return a new node, of the relevant type. Sometimes, we need to check\n        //  first, before parsing, that's when we use `peek()`.\n        //\n        parsers: parsers = {\n            //\n            // The `primary` rule is the *entry* and *exit* point of the parser.\n            // The rules here can appear at any level of the parse tree.\n            //\n            // The recursive nature of the grammar is an interplay between the `block`\n            // rule, which represents `{ ... }`, the `ruleset` rule, and this `primary` rule,\n            // as represented by this simplified grammar:\n            //\n            //     primary    (ruleset | rule)+\n            //     ruleset    selector+ block\n            //     block      '{' primary '}'\n            //\n            // Only at one point is the primary rule not called from the\n            // block rule: at the root level.\n            //\n            primary: function () {\n                var mixin = this.mixin, root = [], node;\n\n                while (true) {\n                    while (true) {\n                        node = this.comment();\n                        if (!node) { break; }\n                        root.push(node);\n                    }\n                    // always process comments before deciding if finished\n                    if (parserInput.finished) {\n                        break;\n                    }\n                    if (parserInput.peek('}')) {\n                        break;\n                    }\n\n                    node = this.extendRule();\n                    if (node) {\n                        root = root.concat(node);\n                        continue;\n                    }\n\n                    node = mixin.definition() || this.rule() || this.ruleset() ||\n                        mixin.call() || this.rulesetCall() || this.directive();\n                    if (node) {\n                        root.push(node);\n                    } else {\n                        var foundSemiColon = false;\n                        while (parserInput.$char(\";\")) {\n                            foundSemiColon = true;\n                        }\n                        if (!foundSemiColon) {\n                            break;\n                        }\n                    }\n                }\n\n                return root;\n            },\n\n            // comments are collected by the main parsing mechanism and then assigned to nodes\n            // where the current structure allows it\n            comment: function () {\n                if (parserInput.commentStore.length) {\n                    var comment = parserInput.commentStore.shift();\n                    return new(tree.Comment)(comment.text, comment.isLineComment, comment.index, fileInfo);\n                }\n            },\n\n            //\n            // Entities are tokens which can be found inside an Expression\n            //\n            entities: {\n                //\n                // A string, which supports escaping \" and '\n                //\n                //     \"milky way\" 'he\\'s the one!'\n                //\n                quoted: function () {\n                    var str, index = parserInput.i, isEscaped = false;\n\n                    parserInput.save();\n                    if (parserInput.$char(\"~\")) {\n                        isEscaped = true;\n                    }\n                    str = parserInput.$quoted();\n                    if (!str) {\n                        parserInput.restore();\n                        return;\n                    }\n                    parserInput.forget();\n\n                    return new(tree.Quoted)(str.charAt(0), str.substr(1, str.length - 2), isEscaped, index, fileInfo);\n                },\n\n                //\n                // A catch-all word, such as:\n                //\n                //     black border-collapse\n                //\n                keyword: function () {\n                    var k = parserInput.$char(\"%\") || parserInput.$re(/^[_A-Za-z-][_A-Za-z0-9-]*/);\n                    if (k) {\n                        return tree.Color.fromKeyword(k) || new(tree.Keyword)(k);\n                    }\n                },\n\n                //\n                // A function call\n                //\n                //     rgb(255, 0, 255)\n                //\n                // We also try to catch IE's `alpha()`, but let the `alpha` parser\n                // deal with the details.\n                //\n                // The arguments are parsed with the `entities.arguments` parser.\n                //\n                call: function () {\n                    var name, nameLC, args, alpha, index = parserInput.i;\n\n                    // http://jsperf.com/case-insensitive-regex-vs-strtolower-then-regex/18\n                    if (parserInput.peek(/^url\\(/i)) {\n                        return;\n                    }\n\n                    parserInput.save();\n\n                    name = parserInput.$re(/^([\\w-]+|%|progid:[\\w\\.]+)\\(/);\n                    if (!name) { parserInput.forget(); return; }\n\n                    name = name[1];\n                    nameLC = name.toLowerCase();\n\n                    if (nameLC === 'alpha') {\n                        alpha = parsers.alpha();\n                        if (alpha) {\n                            parserInput.forget();\n                            return alpha;\n                        }\n                    }\n\n                    args = this.arguments();\n\n                    if (! parserInput.$char(')')) {\n                        parserInput.restore(\"Could not parse call arguments or missing ')'\");\n                        return;\n                    }\n\n                    parserInput.forget();\n                    return new(tree.Call)(name, args, index, fileInfo);\n                },\n                arguments: function () {\n                    var args = [], arg;\n\n                    while (true) {\n                        arg = this.assignment() || parsers.expression();\n                        if (!arg) {\n                            break;\n                        }\n                        args.push(arg);\n                        if (! parserInput.$char(',')) {\n                            break;\n                        }\n                    }\n                    return args;\n                },\n                literal: function () {\n                    return this.dimension() ||\n                           this.color() ||\n                           this.quoted() ||\n                           this.unicodeDescriptor();\n                },\n\n                // Assignments are argument entities for calls.\n                // They are present in ie filter properties as shown below.\n                //\n                //     filter: progid:DXImageTransform.Microsoft.Alpha( *opacity=50* )\n                //\n\n                assignment: function () {\n                    var key, value;\n                    parserInput.save();\n                    key = parserInput.$re(/^\\w+(?=\\s?=)/i);\n                    if (!key) {\n                        parserInput.restore();\n                        return;\n                    }\n                    if (!parserInput.$char('=')) {\n                        parserInput.restore();\n                        return;\n                    }\n                    value = parsers.entity();\n                    if (value) {\n                        parserInput.forget();\n                        return new(tree.Assignment)(key, value);\n                    } else {\n                        parserInput.restore();\n                    }\n                },\n\n                //\n                // Parse url() tokens\n                //\n                // We use a specific rule for urls, because they don't really behave like\n                // standard function calls. The difference is that the argument doesn't have\n                // to be enclosed within a string, so it can't be parsed as an Expression.\n                //\n                url: function () {\n                    var value, index = parserInput.i;\n\n                    parserInput.autoCommentAbsorb = false;\n\n                    if (!parserInput.$str(\"url(\")) {\n                        parserInput.autoCommentAbsorb = true;\n                        return;\n                    }\n\n                    value = this.quoted() || this.variable() ||\n                            parserInput.$re(/^(?:(?:\\\\[\\(\\)'\"])|[^\\(\\)'\"])+/) || \"\";\n\n                    parserInput.autoCommentAbsorb = true;\n\n                    expectChar(')');\n\n                    return new(tree.URL)((value.value != null || value instanceof tree.Variable) ?\n                                        value : new(tree.Anonymous)(value), index, fileInfo);\n                },\n\n                //\n                // A Variable entity, such as `@fink`, in\n                //\n                //     width: @fink + 2px\n                //\n                // We use a different parser for variable definitions,\n                // see `parsers.variable`.\n                //\n                variable: function () {\n                    var name, index = parserInput.i;\n\n                    if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^@@?[\\w-]+/))) {\n                        return new(tree.Variable)(name, index, fileInfo);\n                    }\n                },\n\n                // A variable entity useing the protective {} e.g. @{var}\n                variableCurly: function () {\n                    var curly, index = parserInput.i;\n\n                    if (parserInput.currentChar() === '@' && (curly = parserInput.$re(/^@\\{([\\w-]+)\\}/))) {\n                        return new(tree.Variable)(\"@\" + curly[1], index, fileInfo);\n                    }\n                },\n\n                //\n                // A Hexadecimal color\n                //\n                //     #4F3C2F\n                //\n                // `rgb` and `hsl` colors are parsed through the `entities.call` parser.\n                //\n                color: function () {\n                    var rgb;\n\n                    if (parserInput.currentChar() === '#' && (rgb = parserInput.$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))) {\n                        // strip colons, brackets, whitespaces and other characters that should not\n                        // definitely be part of color string\n                        var colorCandidateString = rgb.input.match(/^#([\\w]+).*/);\n                        colorCandidateString = colorCandidateString[1];\n                        if (!colorCandidateString.match(/^[A-Fa-f0-9]+$/)) { // verify if candidate consists only of allowed HEX characters\n                            error(\"Invalid HEX color code\");\n                        }\n                        return new(tree.Color)(rgb[1], undefined, '#' + colorCandidateString);\n                    }\n                },\n\n                //\n                // A Dimension, that is, a number and a unit\n                //\n                //     0.5em 95%\n                //\n                dimension: function () {\n                    if (parserInput.peekNotNumeric()) {\n                        return;\n                    }\n\n                    var value = parserInput.$re(/^([+-]?\\d*\\.?\\d+)(%|[a-z]+)?/i);\n                    if (value) {\n                        return new(tree.Dimension)(value[1], value[2]);\n                    }\n                },\n\n                //\n                // A unicode descriptor, as is used in unicode-range\n                //\n                // U+0??  or U+00A1-00A9\n                //\n                unicodeDescriptor: function () {\n                    var ud;\n\n                    ud = parserInput.$re(/^U\\+[0-9a-fA-F?]+(\\-[0-9a-fA-F?]+)?/);\n                    if (ud) {\n                        return new(tree.UnicodeDescriptor)(ud[0]);\n                    }\n                },\n\n                //\n                // JavaScript code to be evaluated\n                //\n                //     `window.location.href`\n                //\n                javascript: function () {\n                    var js, index = parserInput.i;\n\n                    parserInput.save();\n\n                    var escape = parserInput.$char(\"~\");\n                    var jsQuote = parserInput.$char(\"`\");\n\n                    if (!jsQuote) {\n                        parserInput.restore();\n                        return;\n                    }\n\n                    js = parserInput.$re(/^[^`]*`/);\n                    if (js) {\n                        parserInput.forget();\n                        return new(tree.JavaScript)(js.substr(0, js.length - 1), Boolean(escape), index, fileInfo);\n                    }\n                    parserInput.restore(\"invalid javascript definition\");\n                }\n            },\n\n            //\n            // The variable part of a variable definition. Used in the `rule` parser\n            //\n            //     @fink:\n            //\n            variable: function () {\n                var name;\n\n                if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^(@[\\w-]+)\\s*:/))) { return name[1]; }\n            },\n\n            //\n            // The variable part of a variable definition. Used in the `rule` parser\n            //\n            //     @fink();\n            //\n            rulesetCall: function () {\n                var name;\n\n                if (parserInput.currentChar() === '@' && (name = parserInput.$re(/^(@[\\w-]+)\\s*\\(\\s*\\)\\s*;/))) {\n                    return new tree.RulesetCall(name[1]);\n                }\n            },\n\n            //\n            // extend syntax - used to extend selectors\n            //\n            extend: function(isRule) {\n                var elements, e, index = parserInput.i, option, extendList, extend;\n\n                if (!parserInput.$str(isRule ? \"&:extend(\" : \":extend(\")) {\n                    return;\n                }\n\n                do {\n                    option = null;\n                    elements = null;\n                    while (! (option = parserInput.$re(/^(all)(?=\\s*(\\)|,))/))) {\n                        e = this.element();\n                        if (!e) {\n                            break;\n                        }\n                        if (elements) {\n                            elements.push(e);\n                        } else {\n                            elements = [ e ];\n                        }\n                    }\n\n                    option = option && option[1];\n                    if (!elements) {\n                        error(\"Missing target selector for :extend().\");\n                    }\n                    extend = new(tree.Extend)(new(tree.Selector)(elements), option, index);\n                    if (extendList) {\n                        extendList.push(extend);\n                    } else {\n                        extendList = [ extend ];\n                    }\n                } while (parserInput.$char(\",\"));\n\n                expect(/^\\)/);\n\n                if (isRule) {\n                    expect(/^;/);\n                }\n\n                return extendList;\n            },\n\n            //\n            // extendRule - used in a rule to extend all the parent selectors\n            //\n            extendRule: function() {\n                return this.extend(true);\n            },\n\n            //\n            // Mixins\n            //\n            mixin: {\n                //\n                // A Mixin call, with an optional argument list\n                //\n                //     #mixins > .square(#fff);\n                //     .rounded(4px, black);\n                //     .button;\n                //\n                // The `while` loop is there because mixins can be\n                // namespaced, but we only support the child and descendant\n                // selector for now.\n                //\n                call: function () {\n                    var s = parserInput.currentChar(), important = false, index = parserInput.i, elemIndex,\n                        elements, elem, e, c, args;\n\n                    if (s !== '.' && s !== '#') { return; }\n\n                    parserInput.save(); // stop us absorbing part of an invalid selector\n\n                    while (true) {\n                        elemIndex = parserInput.i;\n                        e = parserInput.$re(/^[#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);\n                        if (!e) {\n                            break;\n                        }\n                        elem = new(tree.Element)(c, e, elemIndex, fileInfo);\n                        if (elements) {\n                            elements.push(elem);\n                        } else {\n                            elements = [ elem ];\n                        }\n                        c = parserInput.$char('>');\n                    }\n\n                    if (elements) {\n                        if (parserInput.$char('(')) {\n                            args = this.args(true).args;\n                            expectChar(')');\n                        }\n\n                        if (parsers.important()) {\n                            important = true;\n                        }\n\n                        if (parsers.end()) {\n                            parserInput.forget();\n                            return new(tree.mixin.Call)(elements, args, index, fileInfo, important);\n                        }\n                    }\n\n                    parserInput.restore();\n                },\n                args: function (isCall) {\n                    var entities = parsers.entities,\n                        returner = { args:null, variadic: false },\n                        expressions = [], argsSemiColon = [], argsComma = [],\n                        isSemiColonSeparated, expressionContainsNamed, name, nameLoop,\n                        value, arg, expand;\n\n                    parserInput.save();\n\n                    while (true) {\n                        if (isCall) {\n                            arg = parsers.detachedRuleset() || parsers.expression();\n                        } else {\n                            parserInput.commentStore.length = 0;\n                            if (parserInput.$str(\"...\")) {\n                                returner.variadic = true;\n                                if (parserInput.$char(\";\") && !isSemiColonSeparated) {\n                                    isSemiColonSeparated = true;\n                                }\n                                (isSemiColonSeparated ? argsSemiColon : argsComma)\n                                    .push({ variadic: true });\n                                break;\n                            }\n                            arg = entities.variable() || entities.literal() || entities.keyword();\n                        }\n\n                        if (!arg) {\n                            break;\n                        }\n\n                        nameLoop = null;\n                        if (arg.throwAwayComments) {\n                            arg.throwAwayComments();\n                        }\n                        value = arg;\n                        var val = null;\n\n                        if (isCall) {\n                            // Variable\n                            if (arg.value && arg.value.length == 1) {\n                                val = arg.value[0];\n                            }\n                        } else {\n                            val = arg;\n                        }\n\n                        if (val && val instanceof tree.Variable) {\n                            if (parserInput.$char(':')) {\n                                if (expressions.length > 0) {\n                                    if (isSemiColonSeparated) {\n                                        error(\"Cannot mix ; and , as delimiter types\");\n                                    }\n                                    expressionContainsNamed = true;\n                                }\n\n                                value = parsers.detachedRuleset() || parsers.expression();\n\n                                if (!value) {\n                                    if (isCall) {\n                                        error(\"could not understand value for named argument\");\n                                    } else {\n                                        parserInput.restore();\n                                        returner.args = [];\n                                        return returner;\n                                    }\n                                }\n                                nameLoop = (name = val.name);\n                            } else if (parserInput.$str(\"...\")) {\n                                if (!isCall) {\n                                    returner.variadic = true;\n                                    if (parserInput.$char(\";\") && !isSemiColonSeparated) {\n                                        isSemiColonSeparated = true;\n                                    }\n                                    (isSemiColonSeparated ? argsSemiColon : argsComma)\n                                        .push({ name: arg.name, variadic: true });\n                                    break;\n                                } else {\n                                    expand = true;\n                                }\n                            } else if (!isCall) {\n                                name = nameLoop = val.name;\n                                value = null;\n                            }\n                        }\n\n                        if (value) {\n                            expressions.push(value);\n                        }\n\n                        argsComma.push({ name:nameLoop, value:value, expand:expand });\n\n                        if (parserInput.$char(',')) {\n                            continue;\n                        }\n\n                        if (parserInput.$char(';') || isSemiColonSeparated) {\n\n                            if (expressionContainsNamed) {\n                                error(\"Cannot mix ; and , as delimiter types\");\n                            }\n\n                            isSemiColonSeparated = true;\n\n                            if (expressions.length > 1) {\n                                value = new(tree.Value)(expressions);\n                            }\n                            argsSemiColon.push({ name:name, value:value, expand:expand });\n\n                            name = null;\n                            expressions = [];\n                            expressionContainsNamed = false;\n                        }\n                    }\n\n                    parserInput.forget();\n                    returner.args = isSemiColonSeparated ? argsSemiColon : argsComma;\n                    return returner;\n                },\n                //\n                // A Mixin definition, with a list of parameters\n                //\n                //     .rounded (@radius: 2px, @color) {\n                //        ...\n                //     }\n                //\n                // Until we have a finer grained state-machine, we have to\n                // do a look-ahead, to make sure we don't have a mixin call.\n                // See the `rule` function for more information.\n                //\n                // We start by matching `.rounded (`, and then proceed on to\n                // the argument list, which has optional default values.\n                // We store the parameters in `params`, with a `value` key,\n                // if there is a value, such as in the case of `@radius`.\n                //\n                // Once we've got our params list, and a closing `)`, we parse\n                // the `{...}` block.\n                //\n                definition: function () {\n                    var name, params = [], match, ruleset, cond, variadic = false;\n                    if ((parserInput.currentChar() !== '.' && parserInput.currentChar() !== '#') ||\n                        parserInput.peek(/^[^{]*\\}/)) {\n                        return;\n                    }\n\n                    parserInput.save();\n\n                    match = parserInput.$re(/^([#.](?:[\\w-]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\\s*\\(/);\n                    if (match) {\n                        name = match[1];\n\n                        var argInfo = this.args(false);\n                        params = argInfo.args;\n                        variadic = argInfo.variadic;\n\n                        // .mixincall(\"@{a}\");\n                        // looks a bit like a mixin definition..\n                        // also\n                        // .mixincall(@a: {rule: set;});\n                        // so we have to be nice and restore\n                        if (!parserInput.$char(')')) {\n                            parserInput.restore(\"Missing closing ')'\");\n                            return;\n                        }\n\n                        parserInput.commentStore.length = 0;\n\n                        if (parserInput.$str(\"when\")) { // Guard\n                            cond = expect(parsers.conditions, 'expected condition');\n                        }\n\n                        ruleset = parsers.block();\n\n                        if (ruleset) {\n                            parserInput.forget();\n                            return new(tree.mixin.Definition)(name, params, ruleset, cond, variadic);\n                        } else {\n                            parserInput.restore();\n                        }\n                    } else {\n                        parserInput.forget();\n                    }\n                }\n            },\n\n            //\n            // Entities are the smallest recognized token,\n            // and can be found inside a rule's value.\n            //\n            entity: function () {\n                var entities = this.entities;\n\n                return this.comment() || entities.literal() || entities.variable() || entities.url() ||\n                       entities.call()    || entities.keyword()  || entities.javascript();\n            },\n\n            //\n            // A Rule terminator. Note that we use `peek()` to check for '}',\n            // because the `block` rule will be expecting it, but we still need to make sure\n            // it's there, if ';' was ommitted.\n            //\n            end: function () {\n                return parserInput.$char(';') || parserInput.peek('}');\n            },\n\n            //\n            // IE's alpha function\n            //\n            //     alpha(opacity=88)\n            //\n            alpha: function () {\n                var value;\n\n                // http://jsperf.com/case-insensitive-regex-vs-strtolower-then-regex/18\n                if (! parserInput.$re(/^opacity=/i)) { return; }\n                value = parserInput.$re(/^\\d+/);\n                if (!value) {\n                    value = expect(this.entities.variable, \"Could not parse alpha\");\n                }\n                expectChar(')');\n                return new(tree.Alpha)(value);\n            },\n\n            //\n            // A Selector Element\n            //\n            //     div\n            //     + h1\n            //     #socks\n            //     input[type=\"text\"]\n            //\n            // Elements are the building blocks for Selectors,\n            // they are made out of a `Combinator` (see combinator rule),\n            // and an element name, such as a tag a class, or `*`.\n            //\n            element: function () {\n                var e, c, v, index = parserInput.i;\n\n                c = this.combinator();\n\n                e = parserInput.$re(/^(?:\\d+\\.\\d+|\\d+)%/) ||\n                    parserInput.$re(/^(?:[.#]?|:*)(?:[\\w-]|[^\\x00-\\x9f]|\\\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/) ||\n                    parserInput.$char('*') || parserInput.$char('&') || this.attribute() ||\n                    parserInput.$re(/^\\([^&()@]+\\)/) ||  parserInput.$re(/^[\\.#:](?=@)/) ||\n                    this.entities.variableCurly();\n\n                if (! e) {\n                    parserInput.save();\n                    if (parserInput.$char('(')) {\n                        if ((v = this.selector()) && parserInput.$char(')')) {\n                            e = new(tree.Paren)(v);\n                            parserInput.forget();\n                        } else {\n                            parserInput.restore(\"Missing closing ')'\");\n                        }\n                    } else {\n                        parserInput.forget();\n                    }\n                }\n\n                if (e) { return new(tree.Element)(c, e, index, fileInfo); }\n            },\n\n            //\n            // Combinators combine elements together, in a Selector.\n            //\n            // Because our parser isn't white-space sensitive, special care\n            // has to be taken, when parsing the descendant combinator, ` `,\n            // as it's an empty space. We have to check the previous character\n            // in the input, to see if it's a ` ` character. More info on how\n            // we deal with this in *combinator.js*.\n            //\n            combinator: function () {\n                var c = parserInput.currentChar();\n\n                if (c === '/') {\n                    parserInput.save();\n                    var slashedCombinator = parserInput.$re(/^\\/[a-z]+\\//i);\n                    if (slashedCombinator) {\n                        parserInput.forget();\n                        return new(tree.Combinator)(slashedCombinator);\n                    }\n                    parserInput.restore();\n                }\n\n                if (c === '>' || c === '+' || c === '~' || c === '|' || c === '^') {\n                    parserInput.i++;\n                    if (c === '^' && parserInput.currentChar() === '^') {\n                        c = '^^';\n                        parserInput.i++;\n                    }\n                    while (parserInput.isWhitespace()) { parserInput.i++; }\n                    return new(tree.Combinator)(c);\n                } else if (parserInput.isWhitespace(-1)) {\n                    return new(tree.Combinator)(\" \");\n                } else {\n                    return new(tree.Combinator)(null);\n                }\n            },\n            //\n            // A CSS selector (see selector below)\n            // with less extensions e.g. the ability to extend and guard\n            //\n            lessSelector: function () {\n                return this.selector(true);\n            },\n            //\n            // A CSS Selector\n            //\n            //     .class > div + h1\n            //     li a:hover\n            //\n            // Selectors are made out of one or more Elements, see above.\n            //\n            selector: function (isLess) {\n                var index = parserInput.i, elements, extendList, c, e, allExtends, when, condition;\n\n                while ((isLess && (extendList = this.extend())) || (isLess && (when = parserInput.$str(\"when\"))) || (e = this.element())) {\n                    if (when) {\n                        condition = expect(this.conditions, 'expected condition');\n                    } else if (condition) {\n                        error(\"CSS guard can only be used at the end of selector\");\n                    } else if (extendList) {\n                        if (allExtends) {\n                            allExtends = allExtends.concat(extendList);\n                        } else {\n                            allExtends = extendList;\n                        }\n                    } else {\n                        if (allExtends) { error(\"Extend can only be used at the end of selector\"); }\n                        c = parserInput.currentChar();\n                        if (elements) {\n                            elements.push(e);\n                        } else {\n                            elements = [ e ];\n                        }\n                        e = null;\n                    }\n                    if (c === '{' || c === '}' || c === ';' || c === ',' || c === ')') {\n                        break;\n                    }\n                }\n\n                if (elements) { return new(tree.Selector)(elements, allExtends, condition, index, fileInfo); }\n                if (allExtends) { error(\"Extend must be used to extend a selector, it cannot be used on its own\"); }\n            },\n            attribute: function () {\n                if (! parserInput.$char('[')) { return; }\n\n                var entities = this.entities,\n                    key, val, op;\n\n                if (!(key = entities.variableCurly())) {\n                    key = expect(/^(?:[_A-Za-z0-9-\\*]*\\|)?(?:[_A-Za-z0-9-]|\\\\.)+/);\n                }\n\n                op = parserInput.$re(/^[|~*$^]?=/);\n                if (op) {\n                    val = entities.quoted() || parserInput.$re(/^[0-9]+%/) || parserInput.$re(/^[\\w-]+/) || entities.variableCurly();\n                }\n\n                expectChar(']');\n\n                return new(tree.Attribute)(key, op, val);\n            },\n\n            //\n            // The `block` rule is used by `ruleset` and `mixin.definition`.\n            // It's a wrapper around the `primary` rule, with added `{}`.\n            //\n            block: function () {\n                var content;\n                if (parserInput.$char('{') && (content = this.primary()) && parserInput.$char('}')) {\n                    return content;\n                }\n            },\n\n            blockRuleset: function() {\n                var block = this.block();\n\n                if (block) {\n                    block = new tree.Ruleset(null, block);\n                }\n                return block;\n            },\n\n            detachedRuleset: function() {\n                var blockRuleset = this.blockRuleset();\n                if (blockRuleset) {\n                    return new tree.DetachedRuleset(blockRuleset);\n                }\n            },\n\n            //\n            // div, .class, body > p {...}\n            //\n            ruleset: function () {\n                var selectors, s, rules, debugInfo;\n\n                parserInput.save();\n\n                if (context.dumpLineNumbers) {\n                    debugInfo = getDebugInfo(parserInput.i);\n                }\n\n                while (true) {\n                    s = this.lessSelector();\n                    if (!s) {\n                        break;\n                    }\n                    if (selectors) {\n                        selectors.push(s);\n                    } else {\n                        selectors = [ s ];\n                    }\n                    parserInput.commentStore.length = 0;\n                    if (s.condition && selectors.length > 1) {\n                        error(\"Guards are only currently allowed on a single selector.\");\n                    }\n                    if (! parserInput.$char(',')) { break; }\n                    if (s.condition) {\n                        error(\"Guards are only currently allowed on a single selector.\");\n                    }\n                    parserInput.commentStore.length = 0;\n                }\n\n                if (selectors && (rules = this.block())) {\n                    parserInput.forget();\n                    var ruleset = new(tree.Ruleset)(selectors, rules, context.strictImports);\n                    if (context.dumpLineNumbers) {\n                        ruleset.debugInfo = debugInfo;\n                    }\n                    return ruleset;\n                } else {\n                    parserInput.restore();\n                }\n            },\n            rule: function (tryAnonymous) {\n                var name, value, startOfRule = parserInput.i, c = parserInput.currentChar(), important, merge, isVariable;\n\n                if (c === '.' || c === '#' || c === '&' || c === ':') { return; }\n\n                parserInput.save();\n\n                name = this.variable() || this.ruleProperty();\n                if (name) {\n                    isVariable = typeof name === \"string\";\n\n                    if (isVariable) {\n                        value = this.detachedRuleset();\n                    }\n\n                    parserInput.commentStore.length = 0;\n                    if (!value) {\n                        // a name returned by this.ruleProperty() is always an array of the form:\n                        // [string-1, ..., string-n, \"\"] or [string-1, ..., string-n, \"+\"]\n                        // where each item is a tree.Keyword or tree.Variable\n                        merge = !isVariable && name.length > 1 && name.pop().value;\n\n                        // prefer to try to parse first if its a variable or we are compressing\n                        // but always fallback on the other one\n                        var tryValueFirst = !tryAnonymous && (context.compress || isVariable);\n\n                        if (tryValueFirst) {\n                            value = this.value();\n                        }\n                        if (!value) {\n                            value = this.anonymousValue();\n                            if (value) {\n                                parserInput.forget();\n                                // anonymous values absorb the end ';' which is required for them to work\n                                return new (tree.Rule)(name, value, false, merge, startOfRule, fileInfo);\n                            }\n                        }\n                        if (!tryValueFirst && !value) {\n                            value = this.value();\n                        }\n\n                        important = this.important();\n                    }\n\n                    if (value && this.end()) {\n                        parserInput.forget();\n                        return new (tree.Rule)(name, value, important, merge, startOfRule, fileInfo);\n                    } else {\n                        parserInput.restore();\n                        if (value && !tryAnonymous) {\n                            return this.rule(true);\n                        }\n                    }\n                } else {\n                    parserInput.forget();\n                }\n            },\n            anonymousValue: function () {\n                var match = parserInput.$re(/^([^@+\\/'\"*`(;{}-]*);/);\n                if (match) {\n                    return new(tree.Anonymous)(match[1]);\n                }\n            },\n\n            //\n            // An @import directive\n            //\n            //     @import \"lib\";\n            //\n            // Depending on our environment, importing is done differently:\n            // In the browser, it's an XHR request, in Node, it would be a\n            // file-system operation. The function used for importing is\n            // stored in `import`, which we pass to the Import constructor.\n            //\n            \"import\": function () {\n                var path, features, index = parserInput.i;\n\n                var dir = parserInput.$re(/^@import?\\s+/);\n\n                if (dir) {\n                    var options = (dir ? this.importOptions() : null) || {};\n\n                    if ((path = this.entities.quoted() || this.entities.url())) {\n                        features = this.mediaFeatures();\n\n                        if (!parserInput.$char(';')) {\n                            parserInput.i = index;\n                            error(\"missing semi-colon or unrecognised media features on import\");\n                        }\n                        features = features && new(tree.Value)(features);\n                        return new(tree.Import)(path, features, options, index, fileInfo);\n                    }\n                    else {\n                        parserInput.i = index;\n                        error(\"malformed import statement\");\n                    }\n                }\n            },\n\n            importOptions: function() {\n                var o, options = {}, optionName, value;\n\n                // list of options, surrounded by parens\n                if (! parserInput.$char('(')) { return null; }\n                do {\n                    o = this.importOption();\n                    if (o) {\n                        optionName = o;\n                        value = true;\n                        switch(optionName) {\n                            case \"css\":\n                                optionName = \"less\";\n                                value = false;\n                                break;\n                            case \"once\":\n                                optionName = \"multiple\";\n                                value = false;\n                                break;\n                        }\n                        options[optionName] = value;\n                        if (! parserInput.$char(',')) { break; }\n                    }\n                } while (o);\n                expectChar(')');\n                return options;\n            },\n\n            importOption: function() {\n                var opt = parserInput.$re(/^(less|css|multiple|once|inline|reference|optional)/);\n                if (opt) {\n                    return opt[1];\n                }\n            },\n\n            mediaFeature: function () {\n                var entities = this.entities, nodes = [], e, p;\n                parserInput.save();\n                do {\n                    e = entities.keyword() || entities.variable();\n                    if (e) {\n                        nodes.push(e);\n                    } else if (parserInput.$char('(')) {\n                        p = this.property();\n                        e = this.value();\n                        if (parserInput.$char(')')) {\n                            if (p && e) {\n                                nodes.push(new(tree.Paren)(new(tree.Rule)(p, e, null, null, parserInput.i, fileInfo, true)));\n                            } else if (e) {\n                                nodes.push(new(tree.Paren)(e));\n                            } else {\n                                parserInput.restore(\"badly formed media feature definition\");\n                                return null;\n                            }\n                        } else {\n                            parserInput.restore(\"Missing closing ')'\");\n                            return null;\n                        }\n                    }\n                } while (e);\n\n                parserInput.forget();\n                if (nodes.length > 0) {\n                    return new(tree.Expression)(nodes);\n                }\n            },\n\n            mediaFeatures: function () {\n                var entities = this.entities, features = [], e;\n                do {\n                    e = this.mediaFeature();\n                    if (e) {\n                        features.push(e);\n                        if (! parserInput.$char(',')) { break; }\n                    } else {\n                        e = entities.variable();\n                        if (e) {\n                            features.push(e);\n                            if (! parserInput.$char(',')) { break; }\n                        }\n                    }\n                } while (e);\n\n                return features.length > 0 ? features : null;\n            },\n\n            media: function () {\n                var features, rules, media, debugInfo;\n\n                if (context.dumpLineNumbers) {\n                    debugInfo = getDebugInfo(parserInput.i);\n                }\n\n                parserInput.save();\n\n                if (parserInput.$str(\"@media\")) {\n                    features = this.mediaFeatures();\n\n                    rules = this.block();\n\n                    if (!rules) {\n                        parserInput.restore(\"media definitions require block statements after any features\");\n                        return;\n                    }\n\n                    parserInput.forget();\n\n                    media = new(tree.Media)(rules, features, parserInput.i, fileInfo);\n                    if (context.dumpLineNumbers) {\n                        media.debugInfo = debugInfo;\n                    }\n\n                    return media;\n                }\n\n                parserInput.restore();\n            },\n\n            //\n            // A @plugin directive, used to import compiler extensions dynamically.\n            //\n            //     @plugin \"lib\";\n            //\n            // Depending on our environment, importing is done differently:\n            // In the browser, it's an XHR request, in Node, it would be a\n            // file-system operation. The function used for importing is\n            // stored in `import`, which we pass to the Import constructor.\n            //\n            plugin: function () {\n                var path,\n                    index = parserInput.i,\n                    dir   = parserInput.$re(/^@plugin?\\s+/);\n\n                if (dir) {\n                    var options = { plugin : true };\n\n                    if ((path = this.entities.quoted() || this.entities.url())) {\n\n                        if (!parserInput.$char(';')) {\n                            parserInput.i = index;\n                            error(\"missing semi-colon on plugin\");\n                        }\n\n                        return new(tree.Import)(path, null, options, index, fileInfo);\n                    }\n                    else {\n                        parserInput.i = index;\n                        error(\"malformed plugin statement\");\n                    }\n                }\n            },\n\n            //\n            // A CSS Directive\n            //\n            //     @charset \"utf-8\";\n            //\n            directive: function () {\n                var index = parserInput.i, name, value, rules, nonVendorSpecificName,\n                    hasIdentifier, hasExpression, hasUnknown, hasBlock = true, isRooted = true;\n\n                if (parserInput.currentChar() !== '@') { return; }\n\n                value = this['import']() || this.plugin() || this.media();\n                if (value) {\n                    return value;\n                }\n\n                parserInput.save();\n\n                name = parserInput.$re(/^@[a-z-]+/);\n\n                if (!name) { return; }\n\n                nonVendorSpecificName = name;\n                if (name.charAt(1) == '-' && name.indexOf('-', 2) > 0) {\n                    nonVendorSpecificName = \"@\" + name.slice(name.indexOf('-', 2) + 1);\n                }\n\n                switch(nonVendorSpecificName) {\n                    /*\n                    case \"@font-face\":\n                    case \"@viewport\":\n                    case \"@top-left\":\n                    case \"@top-left-corner\":\n                    case \"@top-center\":\n                    case \"@top-right\":\n                    case \"@top-right-corner\":\n                    case \"@bottom-left\":\n                    case \"@bottom-left-corner\":\n                    case \"@bottom-center\":\n                    case \"@bottom-right\":\n                    case \"@bottom-right-corner\":\n                    case \"@left-top\":\n                    case \"@left-middle\":\n                    case \"@left-bottom\":\n                    case \"@right-top\":\n                    case \"@right-middle\":\n                    case \"@right-bottom\":\n                        hasBlock = true;\n                        isRooted = true;\n                        break;\n                    */\n                    case \"@counter-style\":\n                        hasIdentifier = true;\n                        hasBlock = true;\n                        break;\n                    case \"@charset\":\n                        hasIdentifier = true;\n                        hasBlock = false;\n                        break;\n                    case \"@namespace\":\n                        hasExpression = true;\n                        hasBlock = false;\n                        break;\n                    case \"@keyframes\":\n                        hasIdentifier = true;\n                        break;\n                    case \"@host\":\n                    case \"@page\":\n                        hasUnknown = true;\n                        break;\n                    case \"@document\":\n                    case \"@supports\":\n                        hasUnknown = true;\n                        isRooted = false;\n                        break;\n                }\n\n                parserInput.commentStore.length = 0;\n\n                if (hasIdentifier) {\n                    value = this.entity();\n                    if (!value) {\n                        error(\"expected \" + name + \" identifier\");\n                    }\n                } else if (hasExpression) {\n                    value = this.expression();\n                    if (!value) {\n                        error(\"expected \" + name + \" expression\");\n                    }\n                } else if (hasUnknown) {\n                    value = (parserInput.$re(/^[^{;]+/) || '').trim();\n                    if (value) {\n                        value = new(tree.Anonymous)(value);\n                    }\n                }\n\n                if (hasBlock) {\n                    rules = this.blockRuleset();\n                }\n\n                if (rules || (!hasBlock && value && parserInput.$char(';'))) {\n                    parserInput.forget();\n                    return new (tree.Directive)(name, value, rules, index, fileInfo,\n                        context.dumpLineNumbers ? getDebugInfo(index) : null,\n                        false,\n                        isRooted\n                    );\n                }\n\n                parserInput.restore(\"directive options not recognised\");\n            },\n\n            //\n            // A Value is a comma-delimited list of Expressions\n            //\n            //     font-family: Baskerville, Georgia, serif;\n            //\n            // In a Rule, a Value represents everything after the `:`,\n            // and before the `;`.\n            //\n            value: function () {\n                var e, expressions = [];\n\n                do {\n                    e = this.expression();\n                    if (e) {\n                        expressions.push(e);\n                        if (! parserInput.$char(',')) { break; }\n                    }\n                } while (e);\n\n                if (expressions.length > 0) {\n                    return new(tree.Value)(expressions);\n                }\n            },\n            important: function () {\n                if (parserInput.currentChar() === '!') {\n                    return parserInput.$re(/^! *important/);\n                }\n            },\n            sub: function () {\n                var a, e;\n\n                parserInput.save();\n                if (parserInput.$char('(')) {\n                    a = this.addition();\n                    if (a && parserInput.$char(')')) {\n                        parserInput.forget();\n                        e = new(tree.Expression)([a]);\n                        e.parens = true;\n                        return e;\n                    }\n                    parserInput.restore(\"Expected ')'\");\n                    return;\n                }\n                parserInput.restore();\n            },\n            multiplication: function () {\n                var m, a, op, operation, isSpaced;\n                m = this.operand();\n                if (m) {\n                    isSpaced = parserInput.isWhitespace(-1);\n                    while (true) {\n                        if (parserInput.peek(/^\\/[*\\/]/)) {\n                            break;\n                        }\n\n                        parserInput.save();\n\n                        op = parserInput.$char('/') || parserInput.$char('*');\n\n                        if (!op) { parserInput.forget(); break; }\n\n                        a = this.operand();\n\n                        if (!a) { parserInput.restore(); break; }\n                        parserInput.forget();\n\n                        m.parensInOp = true;\n                        a.parensInOp = true;\n                        operation = new(tree.Operation)(op, [operation || m, a], isSpaced);\n                        isSpaced = parserInput.isWhitespace(-1);\n                    }\n                    return operation || m;\n                }\n            },\n            addition: function () {\n                var m, a, op, operation, isSpaced;\n                m = this.multiplication();\n                if (m) {\n                    isSpaced = parserInput.isWhitespace(-1);\n                    while (true) {\n                        op = parserInput.$re(/^[-+]\\s+/) || (!isSpaced && (parserInput.$char('+') || parserInput.$char('-')));\n                        if (!op) {\n                            break;\n                        }\n                        a = this.multiplication();\n                        if (!a) {\n                            break;\n                        }\n\n                        m.parensInOp = true;\n                        a.parensInOp = true;\n                        operation = new(tree.Operation)(op, [operation || m, a], isSpaced);\n                        isSpaced = parserInput.isWhitespace(-1);\n                    }\n                    return operation || m;\n                }\n            },\n            conditions: function () {\n                var a, b, index = parserInput.i, condition;\n\n                a = this.condition();\n                if (a) {\n                    while (true) {\n                        if (!parserInput.peek(/^,\\s*(not\\s*)?\\(/) || !parserInput.$char(',')) {\n                            break;\n                        }\n                        b = this.condition();\n                        if (!b) {\n                            break;\n                        }\n                        condition = new(tree.Condition)('or', condition || a, b, index);\n                    }\n                    return condition || a;\n                }\n            },\n            condition: function () {\n                var entities = this.entities, index = parserInput.i, negate = false,\n                    a, b, c, op;\n\n                if (parserInput.$str(\"not\")) { negate = true; }\n                expectChar('(');\n                a = this.addition() || entities.keyword() || entities.quoted();\n                if (a) {\n                    if (parserInput.$char('>')) {\n                        if (parserInput.$char('=')) {\n                            op = \">=\";\n                        } else {\n                            op = '>';\n                        }\n                    } else\n                    if (parserInput.$char('<')) {\n                        if (parserInput.$char('=')) {\n                            op = \"<=\";\n                        } else {\n                            op = '<';\n                        }\n                    } else\n                    if (parserInput.$char('=')) {\n                        if (parserInput.$char('>')) {\n                            op = \"=>\";\n                        } else if (parserInput.$char('<')) {\n                            op = '=<';\n                        } else {\n                            op = '=';\n                        }\n                    }\n                    if (op) {\n                        b = this.addition() || entities.keyword() || entities.quoted();\n                        if (b) {\n                            c = new(tree.Condition)(op, a, b, index, negate);\n                        } else {\n                            error('expected expression');\n                        }\n                    } else {\n                        c = new(tree.Condition)('=', a, new(tree.Keyword)('true'), index, negate);\n                    }\n                    expectChar(')');\n                    return parserInput.$str(\"and\") ? new(tree.Condition)('and', c, this.condition()) : c;\n                }\n            },\n\n            //\n            // An operand is anything that can be part of an operation,\n            // such as a Color, or a Variable\n            //\n            operand: function () {\n                var entities = this.entities, negate;\n\n                if (parserInput.peek(/^-[@\\(]/)) {\n                    negate = parserInput.$char('-');\n                }\n\n                var o = this.sub() || entities.dimension() ||\n                        entities.color() || entities.variable() ||\n                        entities.call();\n\n                if (negate) {\n                    o.parensInOp = true;\n                    o = new(tree.Negative)(o);\n                }\n\n                return o;\n            },\n\n            //\n            // Expressions either represent mathematical operations,\n            // or white-space delimited Entities.\n            //\n            //     1px solid black\n            //     @var * 2\n            //\n            expression: function () {\n                var entities = [], e, delim;\n\n                do {\n                    e = this.comment();\n                    if (e) {\n                        entities.push(e);\n                        continue;\n                    }\n                    e = this.addition() || this.entity();\n                    if (e) {\n                        entities.push(e);\n                        // operations do not allow keyword \"/\" dimension (e.g. small/20px) so we support that here\n                        if (!parserInput.peek(/^\\/[\\/*]/)) {\n                            delim = parserInput.$char('/');\n                            if (delim) {\n                                entities.push(new(tree.Anonymous)(delim));\n                            }\n                        }\n                    }\n                } while (e);\n                if (entities.length > 0) {\n                    return new(tree.Expression)(entities);\n                }\n            },\n            property: function () {\n                var name = parserInput.$re(/^(\\*?-?[_a-zA-Z0-9-]+)\\s*:/);\n                if (name) {\n                    return name[1];\n                }\n            },\n            ruleProperty: function () {\n                var name = [], index = [], s, k;\n\n                parserInput.save();\n\n                var simpleProperty = parserInput.$re(/^([_a-zA-Z0-9-]+)\\s*:/);\n                if (simpleProperty) {\n                    name = [new(tree.Keyword)(simpleProperty[1])];\n                    parserInput.forget();\n                    return name;\n                }\n\n                function match(re) {\n                    var i = parserInput.i,\n                        chunk = parserInput.$re(re);\n                    if (chunk) {\n                        index.push(i);\n                        return name.push(chunk[1]);\n                    }\n                }\n\n                match(/^(\\*?)/);\n                while (true) {\n                    if (!match(/^((?:[\\w-]+)|(?:@\\{[\\w-]+\\}))/)) {\n                        break;\n                    }\n                }\n\n                if ((name.length > 1) && match(/^((?:\\+_|\\+)?)\\s*:/)) {\n                    parserInput.forget();\n\n                    // at last, we have the complete match now. move forward,\n                    // convert name particles to tree objects and return:\n                    if (name[0] === '') {\n                        name.shift();\n                        index.shift();\n                    }\n                    for (k = 0; k < name.length; k++) {\n                        s = name[k];\n                        name[k] = (s.charAt(0) !== '@') ?\n                            new(tree.Keyword)(s) :\n                            new(tree.Variable)('@' + s.slice(2, -1),\n                                index[k], fileInfo);\n                    }\n                    return name;\n                }\n                parserInput.restore();\n            }\n        }\n    };\n};\nParser.serializeVars = function(vars) {\n    var s = '';\n\n    for (var name in vars) {\n        if (Object.hasOwnProperty.call(vars, name)) {\n            var value = vars[name];\n            s += ((name[0] === '@') ? '' : '@') + name + ': ' + value +\n                ((String(value).slice(-1) === ';') ? '' : ';');\n        }\n    }\n\n    return s;\n};\n\nmodule.exports = Parser;\n\n},{\"../less-error\":31,\"../tree\":61,\"../utils\":82,\"../visitors\":86,\"./parser-input\":36}],38:[function(require,module,exports){\n/**\n * Plugin Manager\n */\nvar PluginManager = function(less) {\n    this.less = less;\n    this.visitors = [];\n    this.preProcessors = [];\n    this.postProcessors = [];\n    this.installedPlugins = [];\n    this.fileManagers = [];\n};\n/**\n * Adds all the plugins in the array\n * @param {Array} plugins\n */\nPluginManager.prototype.addPlugins = function(plugins) {\n    if (plugins) {\n        for (var i = 0; i < plugins.length; i++) {\n            this.addPlugin(plugins[i]);\n        }\n    }\n};\n/**\n *\n * @param plugin\n */\nPluginManager.prototype.addPlugin = function(plugin) {\n    this.installedPlugins.push(plugin);\n    plugin.install(this.less, this);\n};\n/**\n * Adds a visitor. The visitor object has options on itself to determine\n * when it should run.\n * @param visitor\n */\nPluginManager.prototype.addVisitor = function(visitor) {\n    this.visitors.push(visitor);\n};\n/**\n * Adds a pre processor object\n * @param {object} preProcessor\n * @param {number} priority - guidelines 1 = before import, 1000 = import, 2000 = after import\n */\nPluginManager.prototype.addPreProcessor = function(preProcessor, priority) {\n    var indexToInsertAt;\n    for (indexToInsertAt = 0; indexToInsertAt < this.preProcessors.length; indexToInsertAt++) {\n        if (this.preProcessors[indexToInsertAt].priority >= priority) {\n            break;\n        }\n    }\n    this.preProcessors.splice(indexToInsertAt, 0, {preProcessor: preProcessor, priority: priority});\n};\n/**\n * Adds a post processor object\n * @param {object} postProcessor\n * @param {number} priority - guidelines 1 = before compression, 1000 = compression, 2000 = after compression\n */\nPluginManager.prototype.addPostProcessor = function(postProcessor, priority) {\n    var indexToInsertAt;\n    for (indexToInsertAt = 0; indexToInsertAt < this.postProcessors.length; indexToInsertAt++) {\n        if (this.postProcessors[indexToInsertAt].priority >= priority) {\n            break;\n        }\n    }\n    this.postProcessors.splice(indexToInsertAt, 0, {postProcessor: postProcessor, priority: priority});\n};\n/**\n *\n * @param manager\n */\nPluginManager.prototype.addFileManager = function(manager) {\n    this.fileManagers.push(manager);\n};\n/**\n *\n * @returns {Array}\n * @private\n */\nPluginManager.prototype.getPreProcessors = function() {\n    var preProcessors = [];\n    for (var i = 0; i < this.preProcessors.length; i++) {\n        preProcessors.push(this.preProcessors[i].preProcessor);\n    }\n    return preProcessors;\n};\n/**\n *\n * @returns {Array}\n * @private\n */\nPluginManager.prototype.getPostProcessors = function() {\n    var postProcessors = [];\n    for (var i = 0; i < this.postProcessors.length; i++) {\n        postProcessors.push(this.postProcessors[i].postProcessor);\n    }\n    return postProcessors;\n};\n/**\n *\n * @returns {Array}\n * @private\n */\nPluginManager.prototype.getVisitors = function() {\n    return this.visitors;\n};\n/**\n *\n * @returns {Array}\n * @private\n */\nPluginManager.prototype.getFileManagers = function() {\n    return this.fileManagers;\n};\nmodule.exports = PluginManager;\n\n},{}],39:[function(require,module,exports){\nvar LessError = require('../less-error'),\n    tree = require(\"../tree\");\n\nvar FunctionImporter = module.exports = function FunctionImporter(context, fileInfo) {\n    this.fileInfo = fileInfo;\n};\n\nFunctionImporter.prototype.eval = function(contents, callback) {\n    var loaded = {},\n        loader,\n        registry;\n\n    registry = {\n        add: function(name, func) {\n            loaded[name] = func;\n        },\n        addMultiple: function(functions) {\n            Object.keys(functions).forEach(function(name) {\n                loaded[name] = functions[name];\n            });\n        }\n    };\n\n    try {\n        loader = new Function(\"functions\", \"tree\", \"fileInfo\", contents);\n        loader(registry, tree, this.fileInfo);\n    } catch(e) {\n        callback(new LessError({\n            message: \"Plugin evaluation error: '\" + e.name + ': ' + e.message.replace(/[\"]/g, \"'\") + \"'\" ,\n            filename: this.fileInfo.filename\n        }), null );\n    }\n\n    callback(null, { functions: loaded });\n};\n\n},{\"../less-error\":31,\"../tree\":61}],40:[function(require,module,exports){\nvar PromiseConstructor;\n\nmodule.exports = function(environment, ParseTree, ImportManager) {\n    var render = function (input, options, callback) {\n        if (typeof options === 'function') {\n            callback = options;\n            options = {};\n        }\n\n        if (!callback) {\n            if (!PromiseConstructor) {\n                PromiseConstructor = typeof Promise === 'undefined' ? require('promise') : Promise;\n            }\n            var self = this;\n            return new PromiseConstructor(function (resolve, reject) {\n                render.call(self, input, options, function(err, output) {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        resolve(output);\n                    }\n                });\n            });\n        } else {\n            this.parse(input, options, function(err, root, imports, options) {\n                if (err) { return callback(err); }\n\n                var result;\n                try {\n                    var parseTree = new ParseTree(root, imports);\n                    result = parseTree.toCSS(options);\n                }\n                catch (err) { return callback(err); }\n\n                callback(null, result);\n            });\n        }\n    };\n\n    return render;\n};\n\n},{\"promise\":undefined}],41:[function(require,module,exports){\nmodule.exports = function (SourceMapOutput, environment) {\n\n    var SourceMapBuilder = function (options) {\n        this.options = options;\n    };\n\n    SourceMapBuilder.prototype.toCSS = function(rootNode, options, imports) {\n        var sourceMapOutput = new SourceMapOutput(\n            {\n                contentsIgnoredCharsMap: imports.contentsIgnoredChars,\n                rootNode: rootNode,\n                contentsMap: imports.contents,\n                sourceMapFilename: this.options.sourceMapFilename,\n                sourceMapURL: this.options.sourceMapURL,\n                outputFilename: this.options.sourceMapOutputFilename,\n                sourceMapBasepath: this.options.sourceMapBasepath,\n                sourceMapRootpath: this.options.sourceMapRootpath,\n                outputSourceFiles: this.options.outputSourceFiles,\n                sourceMapGenerator: this.options.sourceMapGenerator,\n                sourceMapFileInline: this.options.sourceMapFileInline\n            });\n\n        var css = sourceMapOutput.toCSS(options);\n        this.sourceMap = sourceMapOutput.sourceMap;\n        this.sourceMapURL = sourceMapOutput.sourceMapURL;\n        if (this.options.sourceMapInputFilename) {\n            this.sourceMapInputFilename = sourceMapOutput.normalizeFilename(this.options.sourceMapInputFilename);\n        }\n        return css + this.getCSSAppendage();\n    };\n\n    SourceMapBuilder.prototype.getCSSAppendage = function() {\n\n        var sourceMapURL = this.sourceMapURL;\n        if (this.options.sourceMapFileInline) {\n            if (this.sourceMap === undefined) {\n                return \"\";\n            }\n            sourceMapURL = \"data:application/json;base64,\" + environment.encodeBase64(this.sourceMap);\n        }\n\n        if (sourceMapURL) {\n            return \"/*# sourceMappingURL=\" + sourceMapURL + \" */\";\n        }\n        return \"\";\n    };\n\n    SourceMapBuilder.prototype.getExternalSourceMap = function() {\n        return this.sourceMap;\n    };\n    SourceMapBuilder.prototype.setExternalSourceMap = function(sourceMap) {\n        this.sourceMap = sourceMap;\n    };\n\n    SourceMapBuilder.prototype.isInline = function() {\n        return this.options.sourceMapFileInline;\n    };\n    SourceMapBuilder.prototype.getSourceMapURL = function() {\n        return this.sourceMapURL;\n    };\n    SourceMapBuilder.prototype.getOutputFilename = function() {\n        return this.options.sourceMapOutputFilename;\n    };\n    SourceMapBuilder.prototype.getInputFilename = function() {\n        return this.sourceMapInputFilename;\n    };\n\n    return SourceMapBuilder;\n};\n\n},{}],42:[function(require,module,exports){\nmodule.exports = function (environment) {\n\n    var SourceMapOutput = function (options) {\n        this._css = [];\n        this._rootNode = options.rootNode;\n        this._contentsMap = options.contentsMap;\n        this._contentsIgnoredCharsMap = options.contentsIgnoredCharsMap;\n        if (options.sourceMapFilename) {\n            this._sourceMapFilename = options.sourceMapFilename.replace(/\\\\/g, '/');\n        }\n        this._outputFilename = options.outputFilename;\n        this.sourceMapURL = options.sourceMapURL;\n        if (options.sourceMapBasepath) {\n            this._sourceMapBasepath = options.sourceMapBasepath.replace(/\\\\/g, '/');\n        }\n        if (options.sourceMapRootpath) {\n            this._sourceMapRootpath = options.sourceMapRootpath.replace(/\\\\/g, '/');\n            if (this._sourceMapRootpath.charAt(this._sourceMapRootpath.length - 1) !== '/') {\n                this._sourceMapRootpath += '/';\n            }\n        } else {\n            this._sourceMapRootpath = \"\";\n        }\n        this._outputSourceFiles = options.outputSourceFiles;\n        this._sourceMapGeneratorConstructor = environment.getSourceMapGenerator();\n\n        this._lineNumber = 0;\n        this._column = 0;\n    };\n\n    SourceMapOutput.prototype.normalizeFilename = function(filename) {\n        filename = filename.replace(/\\\\/g, '/');\n\n        if (this._sourceMapBasepath && filename.indexOf(this._sourceMapBasepath) === 0) {\n            filename = filename.substring(this._sourceMapBasepath.length);\n            if (filename.charAt(0) === '\\\\' || filename.charAt(0) === '/') {\n                filename = filename.substring(1);\n            }\n        }\n        return (this._sourceMapRootpath || \"\") + filename;\n    };\n\n    SourceMapOutput.prototype.add = function(chunk, fileInfo, index, mapLines) {\n\n        //ignore adding empty strings\n        if (!chunk) {\n            return;\n        }\n\n        var lines,\n            sourceLines,\n            columns,\n            sourceColumns,\n            i;\n\n        if (fileInfo) {\n            var inputSource = this._contentsMap[fileInfo.filename];\n\n            // remove vars/banner added to the top of the file\n            if (this._contentsIgnoredCharsMap[fileInfo.filename]) {\n                // adjust the index\n                index -= this._contentsIgnoredCharsMap[fileInfo.filename];\n                if (index < 0) { index = 0; }\n                // adjust the source\n                inputSource = inputSource.slice(this._contentsIgnoredCharsMap[fileInfo.filename]);\n            }\n            inputSource = inputSource.substring(0, index);\n            sourceLines = inputSource.split(\"\\n\");\n            sourceColumns = sourceLines[sourceLines.length - 1];\n        }\n\n        lines = chunk.split(\"\\n\");\n        columns = lines[lines.length - 1];\n\n        if (fileInfo) {\n            if (!mapLines) {\n                this._sourceMapGenerator.addMapping({ generated: { line: this._lineNumber + 1, column: this._column},\n                    original: { line: sourceLines.length, column: sourceColumns.length},\n                    source: this.normalizeFilename(fileInfo.filename)});\n            } else {\n                for (i = 0; i < lines.length; i++) {\n                    this._sourceMapGenerator.addMapping({ generated: { line: this._lineNumber + i + 1, column: i === 0 ? this._column : 0},\n                        original: { line: sourceLines.length + i, column: i === 0 ? sourceColumns.length : 0},\n                        source: this.normalizeFilename(fileInfo.filename)});\n                }\n            }\n        }\n\n        if (lines.length === 1) {\n            this._column += columns.length;\n        } else {\n            this._lineNumber += lines.length - 1;\n            this._column = columns.length;\n        }\n\n        this._css.push(chunk);\n    };\n\n    SourceMapOutput.prototype.isEmpty = function() {\n        return this._css.length === 0;\n    };\n\n    SourceMapOutput.prototype.toCSS = function(context) {\n        this._sourceMapGenerator = new this._sourceMapGeneratorConstructor({ file: this._outputFilename, sourceRoot: null });\n\n        if (this._outputSourceFiles) {\n            for (var filename in this._contentsMap) {\n                if (this._contentsMap.hasOwnProperty(filename)) {\n                    var source = this._contentsMap[filename];\n                    if (this._contentsIgnoredCharsMap[filename]) {\n                        source = source.slice(this._contentsIgnoredCharsMap[filename]);\n                    }\n                    this._sourceMapGenerator.setSourceContent(this.normalizeFilename(filename), source);\n                }\n            }\n        }\n\n        this._rootNode.genCSS(context, this);\n\n        if (this._css.length > 0) {\n            var sourceMapURL,\n                sourceMapContent = JSON.stringify(this._sourceMapGenerator.toJSON());\n\n            if (this.sourceMapURL) {\n                sourceMapURL = this.sourceMapURL;\n            } else if (this._sourceMapFilename) {\n                sourceMapURL = this._sourceMapFilename;\n            }\n            this.sourceMapURL = sourceMapURL;\n\n            this.sourceMap = sourceMapContent;\n        }\n\n        return this._css.join('');\n    };\n\n    return SourceMapOutput;\n};\n\n},{}],43:[function(require,module,exports){\nvar contexts = require(\"./contexts\"),\n    visitor = require(\"./visitors\"),\n    tree = require(\"./tree\");\n\nmodule.exports = function(root, options) {\n    options = options || {};\n    var evaldRoot,\n        variables = options.variables,\n        evalEnv = new contexts.Eval(options);\n\n    //\n    // Allows setting variables with a hash, so:\n    //\n    //   `{ color: new tree.Color('#f01') }` will become:\n    //\n    //   new tree.Rule('@color',\n    //     new tree.Value([\n    //       new tree.Expression([\n    //         new tree.Color('#f01')\n    //       ])\n    //     ])\n    //   )\n    //\n    if (typeof variables === 'object' && !Array.isArray(variables)) {\n        variables = Object.keys(variables).map(function (k) {\n            var value = variables[k];\n\n            if (! (value instanceof tree.Value)) {\n                if (! (value instanceof tree.Expression)) {\n                    value = new tree.Expression([value]);\n                }\n                value = new tree.Value([value]);\n            }\n            return new tree.Rule('@' + k, value, false, null, 0);\n        });\n        evalEnv.frames = [new tree.Ruleset(null, variables)];\n    }\n\n    var preEvalVisitors = [],\n        visitors = [\n            new visitor.JoinSelectorVisitor(),\n            new visitor.ExtendVisitor(),\n            new visitor.ToCSSVisitor({compress: Boolean(options.compress)})\n        ], i;\n\n    if (options.pluginManager) {\n        var pluginVisitors = options.pluginManager.getVisitors();\n        for (i = 0; i < pluginVisitors.length; i++) {\n            var pluginVisitor = pluginVisitors[i];\n            if (pluginVisitor.isPreEvalVisitor) {\n                preEvalVisitors.push(pluginVisitor);\n            } else {\n                if (pluginVisitor.isPreVisitor) {\n                    visitors.splice(0, 0, pluginVisitor);\n                } else {\n                    visitors.push(pluginVisitor);\n                }\n            }\n        }\n    }\n\n    for (i = 0; i < preEvalVisitors.length; i++) {\n        preEvalVisitors[i].run(root);\n    }\n\n    evaldRoot = root.eval(evalEnv);\n\n    for (i = 0; i < visitors.length; i++) {\n        visitors[i].run(evaldRoot);\n    }\n\n    return evaldRoot;\n};\n\n},{\"./contexts\":10,\"./tree\":61,\"./visitors\":86}],44:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Alpha = function (val) {\n    this.value = val;\n};\nAlpha.prototype = new Node();\nAlpha.prototype.type = \"Alpha\";\n\nAlpha.prototype.accept = function (visitor) {\n    this.value = visitor.visit(this.value);\n};\nAlpha.prototype.eval = function (context) {\n    if (this.value.eval) { return new Alpha(this.value.eval(context)); }\n    return this;\n};\nAlpha.prototype.genCSS = function (context, output) {\n    output.add(\"alpha(opacity=\");\n\n    if (this.value.genCSS) {\n        this.value.genCSS(context, output);\n    } else {\n        output.add(this.value);\n    }\n\n    output.add(\")\");\n};\n\nmodule.exports = Alpha;\n\n},{\"./node\":69}],45:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Anonymous = function (value, index, currentFileInfo, mapLines, rulesetLike, referenced) {\n    this.value = value;\n    this.index = index;\n    this.mapLines = mapLines;\n    this.currentFileInfo = currentFileInfo;\n    this.rulesetLike = (typeof rulesetLike === 'undefined') ? false : rulesetLike;\n    this.isReferenced = referenced || false;\n};\nAnonymous.prototype = new Node();\nAnonymous.prototype.type = \"Anonymous\";\nAnonymous.prototype.eval = function () {\n    return new Anonymous(this.value, this.index, this.currentFileInfo, this.mapLines, this.rulesetLike, this.isReferenced);\n};\nAnonymous.prototype.compare = function (other) {\n    return other.toCSS && this.toCSS() === other.toCSS() ? 0 : undefined;\n};\nAnonymous.prototype.isRulesetLike = function() {\n    return this.rulesetLike;\n};\nAnonymous.prototype.genCSS = function (context, output) {\n    output.add(this.value, this.currentFileInfo, this.index, this.mapLines);\n};\nAnonymous.prototype.markReferenced = function () {\n    this.isReferenced = true;\n};\nAnonymous.prototype.getIsReferenced = function () {\n    return !this.currentFileInfo || !this.currentFileInfo.reference || this.isReferenced;\n};\n\nmodule.exports = Anonymous;\n\n},{\"./node\":69}],46:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Assignment = function (key, val) {\n    this.key = key;\n    this.value = val;\n};\n\nAssignment.prototype = new Node();\nAssignment.prototype.type = \"Assignment\";\nAssignment.prototype.accept = function (visitor) {\n    this.value = visitor.visit(this.value);\n};\nAssignment.prototype.eval = function (context) {\n    if (this.value.eval) {\n        return new Assignment(this.key, this.value.eval(context));\n    }\n    return this;\n};\nAssignment.prototype.genCSS = function (context, output) {\n    output.add(this.key + '=');\n    if (this.value.genCSS) {\n        this.value.genCSS(context, output);\n    } else {\n        output.add(this.value);\n    }\n};\nmodule.exports = Assignment;\n\n},{\"./node\":69}],47:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Attribute = function (key, op, value) {\n    this.key = key;\n    this.op = op;\n    this.value = value;\n};\nAttribute.prototype = new Node();\nAttribute.prototype.type = \"Attribute\";\nAttribute.prototype.eval = function (context) {\n    return new Attribute(this.key.eval ? this.key.eval(context) : this.key,\n        this.op, (this.value && this.value.eval) ? this.value.eval(context) : this.value);\n};\nAttribute.prototype.genCSS = function (context, output) {\n    output.add(this.toCSS(context));\n};\nAttribute.prototype.toCSS = function (context) {\n    var value = this.key.toCSS ? this.key.toCSS(context) : this.key;\n\n    if (this.op) {\n        value += this.op;\n        value += (this.value.toCSS ? this.value.toCSS(context) : this.value);\n    }\n\n    return '[' + value + ']';\n};\nmodule.exports = Attribute;\n\n},{\"./node\":69}],48:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    FunctionCaller = require(\"../functions/function-caller\");\n//\n// A function call node.\n//\nvar Call = function (name, args, index, currentFileInfo) {\n    this.name = name;\n    this.args = args;\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n};\nCall.prototype = new Node();\nCall.prototype.type = \"Call\";\nCall.prototype.accept = function (visitor) {\n    if (this.args) {\n        this.args = visitor.visitArray(this.args);\n    }\n};\n//\n// When evaluating a function call,\n// we either find the function in the functionRegistry,\n// in which case we call it, passing the  evaluated arguments,\n// if this returns null or we cannot find the function, we\n// simply print it out as it appeared originally [2].\n//\n// The reason why we evaluate the arguments, is in the case where\n// we try to pass a variable to a function, like: `saturate(@color)`.\n// The function should receive the value, not the variable.\n//\nCall.prototype.eval = function (context) {\n    var args = this.args.map(function (a) { return a.eval(context); }),\n        result, funcCaller = new FunctionCaller(this.name, context, this.index, this.currentFileInfo);\n\n    if (funcCaller.isValid()) { // 1.\n        try {\n            result = funcCaller.call(args);\n            if (result != null) {\n                return result;\n            }\n        } catch (e) {\n            throw { type: e.type || \"Runtime\",\n                    message: \"error evaluating function `\" + this.name + \"`\" +\n                             (e.message ? ': ' + e.message : ''),\n                    index: this.index, filename: this.currentFileInfo.filename };\n        }\n    }\n\n    return new Call(this.name, args, this.index, this.currentFileInfo);\n};\nCall.prototype.genCSS = function (context, output) {\n    output.add(this.name + \"(\", this.currentFileInfo, this.index);\n\n    for (var i = 0; i < this.args.length; i++) {\n        this.args[i].genCSS(context, output);\n        if (i + 1 < this.args.length) {\n            output.add(\", \");\n        }\n    }\n\n    output.add(\")\");\n};\nmodule.exports = Call;\n\n},{\"../functions/function-caller\":20,\"./node\":69}],49:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    colors = require(\"../data/colors\");\n\n//\n// RGB Colors - #ff0014, #eee\n//\nvar Color = function (rgb, a, originalForm) {\n    //\n    // The end goal here, is to parse the arguments\n    // into an integer triplet, such as `128, 255, 0`\n    //\n    // This facilitates operations and conversions.\n    //\n    if (Array.isArray(rgb)) {\n        this.rgb = rgb;\n    } else if (rgb.length == 6) {\n        this.rgb = rgb.match(/.{2}/g).map(function (c) {\n            return parseInt(c, 16);\n        });\n    } else {\n        this.rgb = rgb.split('').map(function (c) {\n            return parseInt(c + c, 16);\n        });\n    }\n    this.alpha = typeof a === 'number' ? a : 1;\n    if (typeof originalForm !== 'undefined') {\n        this.value = originalForm;\n    }\n};\n\nColor.prototype = new Node();\nColor.prototype.type = \"Color\";\n\nfunction clamp(v, max) {\n    return Math.min(Math.max(v, 0), max);\n}\n\nfunction toHex(v) {\n    return '#' + v.map(function (c) {\n        c = clamp(Math.round(c), 255);\n        return (c < 16 ? '0' : '') + c.toString(16);\n    }).join('');\n}\n\nColor.prototype.luma = function () {\n    var r = this.rgb[0] / 255,\n        g = this.rgb[1] / 255,\n        b = this.rgb[2] / 255;\n\n    r = (r <= 0.03928) ? r / 12.92 : Math.pow(((r + 0.055) / 1.055), 2.4);\n    g = (g <= 0.03928) ? g / 12.92 : Math.pow(((g + 0.055) / 1.055), 2.4);\n    b = (b <= 0.03928) ? b / 12.92 : Math.pow(((b + 0.055) / 1.055), 2.4);\n\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n};\nColor.prototype.genCSS = function (context, output) {\n    output.add(this.toCSS(context));\n};\nColor.prototype.toCSS = function (context, doNotCompress) {\n    var compress = context && context.compress && !doNotCompress, color, alpha;\n\n    // `value` is set if this color was originally\n    // converted from a named color string so we need\n    // to respect this and try to output named color too.\n    if (this.value) {\n        return this.value;\n    }\n\n    // If we have some transparency, the only way to represent it\n    // is via `rgba`. Otherwise, we use the hex representation,\n    // which has better compatibility with older browsers.\n    // Values are capped between `0` and `255`, rounded and zero-padded.\n    alpha = this.fround(context, this.alpha);\n    if (alpha < 1) {\n        return \"rgba(\" + this.rgb.map(function (c) {\n            return clamp(Math.round(c), 255);\n        }).concat(clamp(alpha, 1))\n            .join(',' + (compress ? '' : ' ')) + \")\";\n    }\n\n    color = this.toRGB();\n\n    if (compress) {\n        var splitcolor = color.split('');\n\n        // Convert color to short format\n        if (splitcolor[1] === splitcolor[2] && splitcolor[3] === splitcolor[4] && splitcolor[5] === splitcolor[6]) {\n            color = '#' + splitcolor[1] + splitcolor[3] + splitcolor[5];\n        }\n    }\n\n    return color;\n};\n\n//\n// Operations have to be done per-channel, if not,\n// channels will spill onto each other. Once we have\n// our result, in the form of an integer triplet,\n// we create a new Color node to hold the result.\n//\nColor.prototype.operate = function (context, op, other) {\n    var rgb = [];\n    var alpha = this.alpha * (1 - other.alpha) + other.alpha;\n    for (var c = 0; c < 3; c++) {\n        rgb[c] = this._operate(context, op, this.rgb[c], other.rgb[c]);\n    }\n    return new Color(rgb, alpha);\n};\nColor.prototype.toRGB = function () {\n    return toHex(this.rgb);\n};\nColor.prototype.toHSL = function () {\n    var r = this.rgb[0] / 255,\n        g = this.rgb[1] / 255,\n        b = this.rgb[2] / 255,\n        a = this.alpha;\n\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2, d = max - min;\n\n    if (max === min) {\n        h = s = 0;\n    } else {\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2;               break;\n            case b: h = (r - g) / d + 4;               break;\n        }\n        h /= 6;\n    }\n    return { h: h * 360, s: s, l: l, a: a };\n};\n//Adapted from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\nColor.prototype.toHSV = function () {\n    var r = this.rgb[0] / 255,\n        g = this.rgb[1] / 255,\n        b = this.rgb[2] / 255,\n        a = this.alpha;\n\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    if (max === 0) {\n        s = 0;\n    } else {\n        s = d / max;\n    }\n\n    if (max === min) {\n        h = 0;\n    } else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h * 360, s: s, v: v, a: a };\n};\nColor.prototype.toARGB = function () {\n    return toHex([this.alpha * 255].concat(this.rgb));\n};\nColor.prototype.compare = function (x) {\n    return (x.rgb &&\n        x.rgb[0] === this.rgb[0] &&\n        x.rgb[1] === this.rgb[1] &&\n        x.rgb[2] === this.rgb[2] &&\n        x.alpha  === this.alpha) ? 0 : undefined;\n};\n\nColor.fromKeyword = function(keyword) {\n    var c, key = keyword.toLowerCase();\n    if (colors.hasOwnProperty(key)) {\n        c = new Color(colors[key].slice(1));\n    }\n    else if (key === \"transparent\") {\n        c = new Color([0, 0, 0], 0);\n    }\n\n    if (c) {\n        c.value = keyword;\n        return c;\n    }\n};\nmodule.exports = Color;\n\n},{\"../data/colors\":11,\"./node\":69}],50:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Combinator = function (value) {\n    if (value === ' ') {\n        this.value = ' ';\n        this.emptyOrWhitespace = true;\n    } else {\n        this.value = value ? value.trim() : \"\";\n        this.emptyOrWhitespace = this.value === \"\";\n    }\n};\nCombinator.prototype = new Node();\nCombinator.prototype.type = \"Combinator\";\nvar _noSpaceCombinators = {\n    '': true,\n    ' ': true,\n    '|': true\n};\nCombinator.prototype.genCSS = function (context, output) {\n    var spaceOrEmpty = (context.compress || _noSpaceCombinators[this.value]) ? '' : ' ';\n    output.add(spaceOrEmpty + this.value + spaceOrEmpty);\n};\nmodule.exports = Combinator;\n\n},{\"./node\":69}],51:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    getDebugInfo = require(\"./debug-info\");\n\nvar Comment = function (value, isLineComment, index, currentFileInfo) {\n    this.value = value;\n    this.isLineComment = isLineComment;\n    this.currentFileInfo = currentFileInfo;\n};\nComment.prototype = new Node();\nComment.prototype.type = \"Comment\";\nComment.prototype.genCSS = function (context, output) {\n    if (this.debugInfo) {\n        output.add(getDebugInfo(context, this), this.currentFileInfo, this.index);\n    }\n    output.add(this.value);\n};\nComment.prototype.isSilent = function(context) {\n    var isReference = (this.currentFileInfo && this.currentFileInfo.reference && !this.isReferenced),\n        isCompressed = context.compress && this.value[2] !== \"!\";\n    return this.isLineComment || isReference || isCompressed;\n};\nComment.prototype.markReferenced = function () {\n    this.isReferenced = true;\n};\nmodule.exports = Comment;\n\n},{\"./debug-info\":53,\"./node\":69}],52:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Condition = function (op, l, r, i, negate) {\n    this.op = op.trim();\n    this.lvalue = l;\n    this.rvalue = r;\n    this.index = i;\n    this.negate = negate;\n};\nCondition.prototype = new Node();\nCondition.prototype.type = \"Condition\";\nCondition.prototype.accept = function (visitor) {\n    this.lvalue = visitor.visit(this.lvalue);\n    this.rvalue = visitor.visit(this.rvalue);\n};\nCondition.prototype.eval = function (context) {\n    var result = (function (op, a, b) {\n        switch (op) {\n            case 'and': return a && b;\n            case 'or':  return a || b;\n            default:\n                switch (Node.compare(a, b)) {\n                    case -1:\n                        return op === '<' || op === '=<' || op === '<=';\n                    case 0:\n                        return op === '=' || op === '>=' || op === '=<' || op === '<=';\n                    case 1:\n                        return op === '>' || op === '>=';\n                    default:\n                        return false;\n                }\n        }\n    })(this.op, this.lvalue.eval(context), this.rvalue.eval(context));\n\n    return this.negate ? !result : result;\n};\nmodule.exports = Condition;\n\n},{\"./node\":69}],53:[function(require,module,exports){\nvar debugInfo = function(context, ctx, lineSeparator) {\n    var result = \"\";\n    if (context.dumpLineNumbers && !context.compress) {\n        switch(context.dumpLineNumbers) {\n            case 'comments':\n                result = debugInfo.asComment(ctx);\n                break;\n            case 'mediaquery':\n                result = debugInfo.asMediaQuery(ctx);\n                break;\n            case 'all':\n                result = debugInfo.asComment(ctx) + (lineSeparator || \"\") + debugInfo.asMediaQuery(ctx);\n                break;\n        }\n    }\n    return result;\n};\n\ndebugInfo.asComment = function(ctx) {\n    return '/* line ' + ctx.debugInfo.lineNumber + ', ' + ctx.debugInfo.fileName + ' */\\n';\n};\n\ndebugInfo.asMediaQuery = function(ctx) {\n    var filenameWithProtocol = ctx.debugInfo.fileName;\n    if (!/^[a-z]+:\\/\\//i.test(filenameWithProtocol)) {\n        filenameWithProtocol = 'file://' + filenameWithProtocol;\n    }\n    return '@media -sass-debug-info{filename{font-family:' +\n        filenameWithProtocol.replace(/([.:\\/\\\\])/g, function (a) {\n            if (a == '\\\\') {\n                a = '\\/';\n            }\n            return '\\\\' + a;\n        }) +\n        '}line{font-family:\\\\00003' + ctx.debugInfo.lineNumber + '}}\\n';\n};\n\nmodule.exports = debugInfo;\n\n},{}],54:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    contexts = require(\"../contexts\");\n\nvar DetachedRuleset = function (ruleset, frames) {\n    this.ruleset = ruleset;\n    this.frames = frames;\n};\nDetachedRuleset.prototype = new Node();\nDetachedRuleset.prototype.type = \"DetachedRuleset\";\nDetachedRuleset.prototype.evalFirst = true;\nDetachedRuleset.prototype.accept = function (visitor) {\n    this.ruleset = visitor.visit(this.ruleset);\n};\nDetachedRuleset.prototype.eval = function (context) {\n    var frames = this.frames || context.frames.slice(0);\n    return new DetachedRuleset(this.ruleset, frames);\n};\nDetachedRuleset.prototype.callEval = function (context) {\n    return this.ruleset.eval(this.frames ? new contexts.Eval(context, this.frames.concat(context.frames)) : context);\n};\nmodule.exports = DetachedRuleset;\n\n},{\"../contexts\":10,\"./node\":69}],55:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    unitConversions = require(\"../data/unit-conversions\"),\n    Unit = require(\"./unit\"),\n    Color = require(\"./color\");\n\n//\n// A number with a unit\n//\nvar Dimension = function (value, unit) {\n    this.value = parseFloat(value);\n    this.unit = (unit && unit instanceof Unit) ? unit :\n      new Unit(unit ? [unit] : undefined);\n};\n\nDimension.prototype = new Node();\nDimension.prototype.type = \"Dimension\";\nDimension.prototype.accept = function (visitor) {\n    this.unit = visitor.visit(this.unit);\n};\nDimension.prototype.eval = function (context) {\n    return this;\n};\nDimension.prototype.toColor = function () {\n    return new Color([this.value, this.value, this.value]);\n};\nDimension.prototype.genCSS = function (context, output) {\n    if ((context && context.strictUnits) && !this.unit.isSingular()) {\n        throw new Error(\"Multiple units in dimension. Correct the units or use the unit function. Bad unit: \" + this.unit.toString());\n    }\n\n    var value = this.fround(context, this.value),\n        strValue = String(value);\n\n    if (value !== 0 && value < 0.000001 && value > -0.000001) {\n        // would be output 1e-6 etc.\n        strValue = value.toFixed(20).replace(/0+$/, \"\");\n    }\n\n    if (context && context.compress) {\n        // Zero values doesn't need a unit\n        if (value === 0 && this.unit.isLength()) {\n            output.add(strValue);\n            return;\n        }\n\n        // Float values doesn't need a leading zero\n        if (value > 0 && value < 1) {\n            strValue = (strValue).substr(1);\n        }\n    }\n\n    output.add(strValue);\n    this.unit.genCSS(context, output);\n};\n\n// In an operation between two Dimensions,\n// we default to the first Dimension's unit,\n// so `1px + 2` will yield `3px`.\nDimension.prototype.operate = function (context, op, other) {\n    /*jshint noempty:false */\n    var value = this._operate(context, op, this.value, other.value),\n        unit = this.unit.clone();\n\n    if (op === '+' || op === '-') {\n        if (unit.numerator.length === 0 && unit.denominator.length === 0) {\n            unit = other.unit.clone();\n            if (this.unit.backupUnit) {\n                unit.backupUnit = this.unit.backupUnit;\n            }\n        } else if (other.unit.numerator.length === 0 && unit.denominator.length === 0) {\n            // do nothing\n        } else {\n            other = other.convertTo(this.unit.usedUnits());\n\n            if (context.strictUnits && other.unit.toString() !== unit.toString()) {\n                throw new Error(\"Incompatible units. Change the units or use the unit function. Bad units: '\" + unit.toString() +\n                    \"' and '\" + other.unit.toString() + \"'.\");\n            }\n\n            value = this._operate(context, op, this.value, other.value);\n        }\n    } else if (op === '*') {\n        unit.numerator = unit.numerator.concat(other.unit.numerator).sort();\n        unit.denominator = unit.denominator.concat(other.unit.denominator).sort();\n        unit.cancel();\n    } else if (op === '/') {\n        unit.numerator = unit.numerator.concat(other.unit.denominator).sort();\n        unit.denominator = unit.denominator.concat(other.unit.numerator).sort();\n        unit.cancel();\n    }\n    return new Dimension(value, unit);\n};\nDimension.prototype.compare = function (other) {\n    var a, b;\n\n    if (!(other instanceof Dimension)) {\n        return undefined;\n    }\n\n    if (this.unit.isEmpty() || other.unit.isEmpty()) {\n        a = this;\n        b = other;\n    } else {\n        a = this.unify();\n        b = other.unify();\n        if (a.unit.compare(b.unit) !== 0) {\n            return undefined;\n        }\n    }\n\n    return Node.numericCompare(a.value, b.value);\n};\nDimension.prototype.unify = function () {\n    return this.convertTo({ length: 'px', duration: 's', angle: 'rad' });\n};\nDimension.prototype.convertTo = function (conversions) {\n    var value = this.value, unit = this.unit.clone(),\n        i, groupName, group, targetUnit, derivedConversions = {}, applyUnit;\n\n    if (typeof conversions === 'string') {\n        for (i in unitConversions) {\n            if (unitConversions[i].hasOwnProperty(conversions)) {\n                derivedConversions = {};\n                derivedConversions[i] = conversions;\n            }\n        }\n        conversions = derivedConversions;\n    }\n    applyUnit = function (atomicUnit, denominator) {\n        /* jshint loopfunc:true */\n        if (group.hasOwnProperty(atomicUnit)) {\n            if (denominator) {\n                value = value / (group[atomicUnit] / group[targetUnit]);\n            } else {\n                value = value * (group[atomicUnit] / group[targetUnit]);\n            }\n\n            return targetUnit;\n        }\n\n        return atomicUnit;\n    };\n\n    for (groupName in conversions) {\n        if (conversions.hasOwnProperty(groupName)) {\n            targetUnit = conversions[groupName];\n            group = unitConversions[groupName];\n\n            unit.map(applyUnit);\n        }\n    }\n\n    unit.cancel();\n\n    return new Dimension(value, unit);\n};\nmodule.exports = Dimension;\n\n},{\"../data/unit-conversions\":13,\"./color\":49,\"./node\":69,\"./unit\":78}],56:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Selector = require(\"./selector\"),\n    Ruleset = require(\"./ruleset\");\n\nvar Directive = function (name, value, rules, index, currentFileInfo, debugInfo, isReferenced, isRooted) {\n    var i;\n\n    this.name  = name;\n    this.value = value;\n    if (rules) {\n        if (Array.isArray(rules)) {\n            this.rules = rules;\n        } else {\n            this.rules = [rules];\n            this.rules[0].selectors = (new Selector([], null, null, this.index, currentFileInfo)).createEmptySelectors();\n        }\n        for (i = 0; i < this.rules.length; i++) {\n            this.rules[i].allowImports = true;\n        }\n    }\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n    this.debugInfo = debugInfo;\n    this.isReferenced = isReferenced;\n    this.isRooted = isRooted || false;\n};\n\nDirective.prototype = new Node();\nDirective.prototype.type = \"Directive\";\nDirective.prototype.accept = function (visitor) {\n    var value = this.value, rules = this.rules;\n    if (rules) {\n        this.rules = visitor.visitArray(rules);\n    }\n    if (value) {\n        this.value = visitor.visit(value);\n    }\n};\nDirective.prototype.isRulesetLike = function() {\n    return this.rules || !this.isCharset();\n};\nDirective.prototype.isCharset = function() {\n    return \"@charset\" === this.name;\n};\nDirective.prototype.genCSS = function (context, output) {\n    var value = this.value, rules = this.rules;\n    output.add(this.name, this.currentFileInfo, this.index);\n    if (value) {\n        output.add(' ');\n        value.genCSS(context, output);\n    }\n    if (rules) {\n        this.outputRuleset(context, output, rules);\n    } else {\n        output.add(';');\n    }\n};\nDirective.prototype.eval = function (context) {\n    var mediaPathBackup, mediaBlocksBackup, value = this.value, rules = this.rules;\n\n    //media stored inside other directive should not bubble over it\n    //backpup media bubbling information\n    mediaPathBackup = context.mediaPath;\n    mediaBlocksBackup = context.mediaBlocks;\n    //deleted media bubbling information\n    context.mediaPath = [];\n    context.mediaBlocks = [];\n\n    if (value) {\n        value = value.eval(context);\n    }\n    if (rules) {\n        // assuming that there is only one rule at this point - that is how parser constructs the rule\n        rules = [rules[0].eval(context)];\n        rules[0].root = true;\n    }\n    //restore media bubbling information\n    context.mediaPath = mediaPathBackup;\n    context.mediaBlocks = mediaBlocksBackup;\n\n    return new Directive(this.name, value, rules,\n        this.index, this.currentFileInfo, this.debugInfo, this.isReferenced, this.isRooted);\n};\nDirective.prototype.variable = function (name) {\n    if (this.rules) {\n        // assuming that there is only one rule at this point - that is how parser constructs the rule\n        return Ruleset.prototype.variable.call(this.rules[0], name);\n    }\n};\nDirective.prototype.find = function () {\n    if (this.rules) {\n        // assuming that there is only one rule at this point - that is how parser constructs the rule\n        return Ruleset.prototype.find.apply(this.rules[0], arguments);\n    }\n};\nDirective.prototype.rulesets = function () {\n    if (this.rules) {\n        // assuming that there is only one rule at this point - that is how parser constructs the rule\n        return Ruleset.prototype.rulesets.apply(this.rules[0]);\n    }\n};\nDirective.prototype.markReferenced = function () {\n    var i, rules;\n    this.isReferenced = true;\n    if (this.rules) {\n        rules = this.rules;\n        for (i = 0; i < rules.length; i++) {\n            if (rules[i].markReferenced) {\n                rules[i].markReferenced();\n            }\n        }\n    }\n};\nDirective.prototype.getIsReferenced = function () {\n    return !this.currentFileInfo || !this.currentFileInfo.reference || this.isReferenced;\n};\nDirective.prototype.outputRuleset = function (context, output, rules) {\n    var ruleCnt = rules.length, i;\n    context.tabLevel = (context.tabLevel | 0) + 1;\n\n    // Compressed\n    if (context.compress) {\n        output.add('{');\n        for (i = 0; i < ruleCnt; i++) {\n            rules[i].genCSS(context, output);\n        }\n        output.add('}');\n        context.tabLevel--;\n        return;\n    }\n\n    // Non-compressed\n    var tabSetStr = '\\n' + Array(context.tabLevel).join(\"  \"), tabRuleStr = tabSetStr + \"  \";\n    if (!ruleCnt) {\n        output.add(\" {\" + tabSetStr + '}');\n    } else {\n        output.add(\" {\" + tabRuleStr);\n        rules[0].genCSS(context, output);\n        for (i = 1; i < ruleCnt; i++) {\n            output.add(tabRuleStr);\n            rules[i].genCSS(context, output);\n        }\n        output.add(tabSetStr + '}');\n    }\n\n    context.tabLevel--;\n};\nmodule.exports = Directive;\n\n},{\"./node\":69,\"./ruleset\":75,\"./selector\":76}],57:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Paren = require(\"./paren\"),\n    Combinator = require(\"./combinator\");\n\nvar Element = function (combinator, value, index, currentFileInfo) {\n    this.combinator = combinator instanceof Combinator ?\n                      combinator : new Combinator(combinator);\n\n    if (typeof value === 'string') {\n        this.value = value.trim();\n    } else if (value) {\n        this.value = value;\n    } else {\n        this.value = \"\";\n    }\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n};\nElement.prototype = new Node();\nElement.prototype.type = \"Element\";\nElement.prototype.accept = function (visitor) {\n    var value = this.value;\n    this.combinator = visitor.visit(this.combinator);\n    if (typeof value === \"object\") {\n        this.value = visitor.visit(value);\n    }\n};\nElement.prototype.eval = function (context) {\n    return new Element(this.combinator,\n                             this.value.eval ? this.value.eval(context) : this.value,\n                             this.index,\n                             this.currentFileInfo);\n};\nElement.prototype.genCSS = function (context, output) {\n    output.add(this.toCSS(context), this.currentFileInfo, this.index);\n};\nElement.prototype.toCSS = function (context) {\n    context = context || {};\n    var value = this.value, firstSelector = context.firstSelector;\n    if (value instanceof Paren) {\n        // selector in parens should not be affected by outer selector\n        // flags (breaks only interpolated selectors - see #1973)\n        context.firstSelector = true;\n    }\n    value = value.toCSS ? value.toCSS(context) : value;\n    context.firstSelector = firstSelector;\n    if (value === '' && this.combinator.value.charAt(0) === '&') {\n        return '';\n    } else {\n        return this.combinator.toCSS(context) + value;\n    }\n};\nmodule.exports = Element;\n\n},{\"./combinator\":50,\"./node\":69,\"./paren\":71}],58:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Paren = require(\"./paren\"),\n    Comment = require(\"./comment\");\n\nvar Expression = function (value) {\n    this.value = value;\n    if (!value) {\n        throw new Error(\"Expression requires an array parameter\");\n    }\n};\nExpression.prototype = new Node();\nExpression.prototype.type = \"Expression\";\nExpression.prototype.accept = function (visitor) {\n    this.value = visitor.visitArray(this.value);\n};\nExpression.prototype.eval = function (context) {\n    var returnValue,\n        inParenthesis = this.parens && !this.parensInOp,\n        doubleParen = false;\n    if (inParenthesis) {\n        context.inParenthesis();\n    }\n    if (this.value.length > 1) {\n        returnValue = new Expression(this.value.map(function (e) {\n            return e.eval(context);\n        }));\n    } else if (this.value.length === 1) {\n        if (this.value[0].parens && !this.value[0].parensInOp) {\n            doubleParen = true;\n        }\n        returnValue = this.value[0].eval(context);\n    } else {\n        returnValue = this;\n    }\n    if (inParenthesis) {\n        context.outOfParenthesis();\n    }\n    if (this.parens && this.parensInOp && !(context.isMathOn()) && !doubleParen) {\n        returnValue = new Paren(returnValue);\n    }\n    return returnValue;\n};\nExpression.prototype.genCSS = function (context, output) {\n    for (var i = 0; i < this.value.length; i++) {\n        this.value[i].genCSS(context, output);\n        if (i + 1 < this.value.length) {\n            output.add(\" \");\n        }\n    }\n};\nExpression.prototype.throwAwayComments = function () {\n    this.value = this.value.filter(function(v) {\n        return !(v instanceof Comment);\n    });\n};\nExpression.prototype.markReferenced = function () {\n    this.value.forEach(function (value) {\n        if (value.markReferenced) { value.markReferenced(); }\n    });\n};\nmodule.exports = Expression;\n\n},{\"./comment\":51,\"./node\":69,\"./paren\":71}],59:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Extend = function Extend(selector, option, index) {\n    this.selector = selector;\n    this.option = option;\n    this.index = index;\n    this.object_id = Extend.next_id++;\n    this.parent_ids = [this.object_id];\n\n    switch(option) {\n        case \"all\":\n            this.allowBefore = true;\n            this.allowAfter = true;\n            break;\n        default:\n            this.allowBefore = false;\n            this.allowAfter = false;\n            break;\n    }\n};\nExtend.next_id = 0;\n\nExtend.prototype = new Node();\nExtend.prototype.type = \"Extend\";\nExtend.prototype.accept = function (visitor) {\n    this.selector = visitor.visit(this.selector);\n};\nExtend.prototype.eval = function (context) {\n    return new Extend(this.selector.eval(context), this.option, this.index);\n};\nExtend.prototype.clone = function (context) {\n    return new Extend(this.selector, this.option, this.index);\n};\nExtend.prototype.findSelfSelectors = function (selectors) {\n    var selfElements = [],\n        i,\n        selectorElements;\n\n    for (i = 0; i < selectors.length; i++) {\n        selectorElements = selectors[i].elements;\n        // duplicate the logic in genCSS function inside the selector node.\n        // future TODO - move both logics into the selector joiner visitor\n        if (i > 0 && selectorElements.length && selectorElements[0].combinator.value === \"\") {\n            selectorElements[0].combinator.value = ' ';\n        }\n        selfElements = selfElements.concat(selectors[i].elements);\n    }\n\n    this.selfSelectors = [{ elements: selfElements }];\n};\nmodule.exports = Extend;\n\n},{\"./node\":69}],60:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Media = require(\"./media\"),\n    URL = require(\"./url\"),\n    Quoted = require(\"./quoted\"),\n    Ruleset = require(\"./ruleset\"),\n    Anonymous = require(\"./anonymous\");\n\n//\n// CSS @import node\n//\n// The general strategy here is that we don't want to wait\n// for the parsing to be completed, before we start importing\n// the file. That's because in the context of a browser,\n// most of the time will be spent waiting for the server to respond.\n//\n// On creation, we push the import path to our import queue, though\n// `import,push`, we also pass it a callback, which it'll call once\n// the file has been fetched, and parsed.\n//\nvar Import = function (path, features, options, index, currentFileInfo) {\n    this.options = options;\n    this.index = index;\n    this.path = path;\n    this.features = features;\n    this.currentFileInfo = currentFileInfo;\n\n    if (this.options.less !== undefined || this.options.inline) {\n        this.css = !this.options.less || this.options.inline;\n    } else {\n        var pathValue = this.getPath();\n        if (pathValue && /[#\\.\\&\\?\\/]css([\\?;].*)?$/.test(pathValue)) {\n            this.css = true;\n        }\n    }\n};\n\n//\n// The actual import node doesn't return anything, when converted to CSS.\n// The reason is that it's used at the evaluation stage, so that the rules\n// it imports can be treated like any other rules.\n//\n// In `eval`, we make sure all Import nodes get evaluated, recursively, so\n// we end up with a flat structure, which can easily be imported in the parent\n// ruleset.\n//\nImport.prototype = new Node();\nImport.prototype.type = \"Import\";\nImport.prototype.accept = function (visitor) {\n    if (this.features) {\n        this.features = visitor.visit(this.features);\n    }\n    this.path = visitor.visit(this.path);\n    if (!this.options.plugin && !this.options.inline && this.root) {\n        this.root = visitor.visit(this.root);\n    }\n};\nImport.prototype.genCSS = function (context, output) {\n    if (this.css && this.path.currentFileInfo.reference === undefined) {\n        output.add(\"@import \", this.currentFileInfo, this.index);\n        this.path.genCSS(context, output);\n        if (this.features) {\n            output.add(\" \");\n            this.features.genCSS(context, output);\n        }\n        output.add(';');\n    }\n};\nImport.prototype.getPath = function () {\n    return (this.path instanceof URL) ?\n        this.path.value.value : this.path.value;\n};\nImport.prototype.isVariableImport = function () {\n    var path = this.path;\n    if (path instanceof URL) {\n        path = path.value;\n    }\n    if (path instanceof Quoted) {\n        return path.containsVariables();\n    }\n\n    return true;\n};\nImport.prototype.evalForImport = function (context) {\n    var path = this.path;\n\n    if (path instanceof URL) {\n        path = path.value;\n    }\n\n    return new Import(path.eval(context), this.features, this.options, this.index, this.currentFileInfo);\n};\nImport.prototype.evalPath = function (context) {\n    var path = this.path.eval(context);\n    var rootpath = this.currentFileInfo && this.currentFileInfo.rootpath;\n\n    if (!(path instanceof URL)) {\n        if (rootpath) {\n            var pathValue = path.value;\n            // Add the base path if the import is relative\n            if (pathValue && context.isPathRelative(pathValue)) {\n                path.value = rootpath + pathValue;\n            }\n        }\n        path.value = context.normalizePath(path.value);\n    }\n\n    return path;\n};\nImport.prototype.eval = function (context) {\n    var ruleset, registry,\n        features = this.features && this.features.eval(context);\n\n    if (this.options.plugin) {\n        registry = context.frames[0] && context.frames[0].functionRegistry;\n        if ( registry && this.root && this.root.functions ) {\n            registry.addMultiple( this.root.functions );\n        }\n        return [];\n    }\n\n    if (this.skip) {\n        if (typeof this.skip === \"function\") {\n            this.skip = this.skip();\n        }\n        if (this.skip) {\n            return [];\n        }\n    }\n\n    if (this.options.inline) {\n        var contents = new Anonymous(this.root, 0,\n          {\n              filename: this.importedFilename,\n              reference: this.path.currentFileInfo && this.path.currentFileInfo.reference\n          }, true, true, false);\n\n        return this.features ? new Media([contents], this.features.value) : [contents];\n    } else if (this.css) {\n        var newImport = new Import(this.evalPath(context), features, this.options, this.index);\n        if (!newImport.css && this.error) {\n            throw this.error;\n        }\n        return newImport;\n    } else {\n        ruleset = new Ruleset(null, this.root.rules.slice(0));\n\n        ruleset.evalImports(context);\n\n        return this.features ? new Media(ruleset.rules, this.features.value) : ruleset.rules;\n    }\n};\nmodule.exports = Import;\n\n},{\"./anonymous\":45,\"./media\":65,\"./node\":69,\"./quoted\":72,\"./ruleset\":75,\"./url\":79}],61:[function(require,module,exports){\nvar tree = {};\n\ntree.Node = require('./node');\ntree.Alpha = require('./alpha');\ntree.Color = require('./color');\ntree.Directive = require('./directive');\ntree.DetachedRuleset = require('./detached-ruleset');\ntree.Operation = require('./operation');\ntree.Dimension = require('./dimension');\ntree.Unit = require('./unit');\ntree.Keyword = require('./keyword');\ntree.Variable = require('./variable');\ntree.Ruleset = require('./ruleset');\ntree.Element = require('./element');\ntree.Attribute = require('./attribute');\ntree.Combinator = require('./combinator');\ntree.Selector = require('./selector');\ntree.Quoted = require('./quoted');\ntree.Expression = require('./expression');\ntree.Rule = require('./rule');\ntree.Call = require('./call');\ntree.URL = require('./url');\ntree.Import = require('./import');\ntree.mixin = {\n    Call: require('./mixin-call'),\n    Definition: require('./mixin-definition')\n};\ntree.Comment = require('./comment');\ntree.Anonymous = require('./anonymous');\ntree.Value = require('./value');\ntree.JavaScript = require('./javascript');\ntree.Assignment = require('./assignment');\ntree.Condition = require('./condition');\ntree.Paren = require('./paren');\ntree.Media = require('./media');\ntree.UnicodeDescriptor = require('./unicode-descriptor');\ntree.Negative = require('./negative');\ntree.Extend = require('./extend');\ntree.RulesetCall = require('./ruleset-call');\n\nmodule.exports = tree;\n\n},{\"./alpha\":44,\"./anonymous\":45,\"./assignment\":46,\"./attribute\":47,\"./call\":48,\"./color\":49,\"./combinator\":50,\"./comment\":51,\"./condition\":52,\"./detached-ruleset\":54,\"./dimension\":55,\"./directive\":56,\"./element\":57,\"./expression\":58,\"./extend\":59,\"./import\":60,\"./javascript\":62,\"./keyword\":64,\"./media\":65,\"./mixin-call\":66,\"./mixin-definition\":67,\"./negative\":68,\"./node\":69,\"./operation\":70,\"./paren\":71,\"./quoted\":72,\"./rule\":73,\"./ruleset\":75,\"./ruleset-call\":74,\"./selector\":76,\"./unicode-descriptor\":77,\"./unit\":78,\"./url\":79,\"./value\":80,\"./variable\":81}],62:[function(require,module,exports){\nvar JsEvalNode = require(\"./js-eval-node\"),\n    Dimension = require(\"./dimension\"),\n    Quoted = require(\"./quoted\"),\n    Anonymous = require(\"./anonymous\");\n\nvar JavaScript = function (string, escaped, index, currentFileInfo) {\n    this.escaped = escaped;\n    this.expression = string;\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n};\nJavaScript.prototype = new JsEvalNode();\nJavaScript.prototype.type = \"JavaScript\";\nJavaScript.prototype.eval = function(context) {\n    var result = this.evaluateJavaScript(this.expression, context);\n\n    if (typeof result === 'number') {\n        return new Dimension(result);\n    } else if (typeof result === 'string') {\n        return new Quoted('\"' + result + '\"', result, this.escaped, this.index);\n    } else if (Array.isArray(result)) {\n        return new Anonymous(result.join(', '));\n    } else {\n        return new Anonymous(result);\n    }\n};\n\nmodule.exports = JavaScript;\n\n},{\"./anonymous\":45,\"./dimension\":55,\"./js-eval-node\":63,\"./quoted\":72}],63:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Variable = require(\"./variable\");\n\nvar JsEvalNode = function() {\n};\nJsEvalNode.prototype = new Node();\n\nJsEvalNode.prototype.evaluateJavaScript = function (expression, context) {\n    var result,\n        that = this,\n        evalContext = {};\n\n    if (context.javascriptEnabled !== undefined && !context.javascriptEnabled) {\n        throw { message: \"You are using JavaScript, which has been disabled.\",\n            filename: this.currentFileInfo.filename,\n            index: this.index };\n    }\n\n    expression = expression.replace(/@\\{([\\w-]+)\\}/g, function (_, name) {\n        return that.jsify(new Variable('@' + name, that.index, that.currentFileInfo).eval(context));\n    });\n\n    try {\n        expression = new Function('return (' + expression + ')');\n    } catch (e) {\n        throw { message: \"JavaScript evaluation error: \" + e.message + \" from `\" + expression + \"`\" ,\n            filename: this.currentFileInfo.filename,\n            index: this.index };\n    }\n\n    var variables = context.frames[0].variables();\n    for (var k in variables) {\n        if (variables.hasOwnProperty(k)) {\n            /*jshint loopfunc:true */\n            evalContext[k.slice(1)] = {\n                value: variables[k].value,\n                toJS: function () {\n                    return this.value.eval(context).toCSS();\n                }\n            };\n        }\n    }\n\n    try {\n        result = expression.call(evalContext);\n    } catch (e) {\n        throw { message: \"JavaScript evaluation error: '\" + e.name + ': ' + e.message.replace(/[\"]/g, \"'\") + \"'\" ,\n            filename: this.currentFileInfo.filename,\n            index: this.index };\n    }\n    return result;\n};\nJsEvalNode.prototype.jsify = function (obj) {\n    if (Array.isArray(obj.value) && (obj.value.length > 1)) {\n        return '[' + obj.value.map(function (v) { return v.toCSS(); }).join(', ') + ']';\n    } else {\n        return obj.toCSS();\n    }\n};\n\nmodule.exports = JsEvalNode;\n\n},{\"./node\":69,\"./variable\":81}],64:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Keyword = function (value) { this.value = value; };\nKeyword.prototype = new Node();\nKeyword.prototype.type = \"Keyword\";\nKeyword.prototype.genCSS = function (context, output) {\n    if (this.value === '%') { throw { type: \"Syntax\", message: \"Invalid % without number\" }; }\n    output.add(this.value);\n};\n\nKeyword.True = new Keyword('true');\nKeyword.False = new Keyword('false');\n\nmodule.exports = Keyword;\n\n},{\"./node\":69}],65:[function(require,module,exports){\nvar Ruleset = require(\"./ruleset\"),\n    Value = require(\"./value\"),\n    Selector = require(\"./selector\"),\n    Anonymous = require(\"./anonymous\"),\n    Expression = require(\"./expression\"),\n    Directive = require(\"./directive\");\n\nvar Media = function (value, features, index, currentFileInfo) {\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n\n    var selectors = (new Selector([], null, null, this.index, this.currentFileInfo)).createEmptySelectors();\n\n    this.features = new Value(features);\n    this.rules = [new Ruleset(selectors, value)];\n    this.rules[0].allowImports = true;\n};\nMedia.prototype = new Directive();\nMedia.prototype.type = \"Media\";\nMedia.prototype.isRulesetLike = true;\nMedia.prototype.accept = function (visitor) {\n    if (this.features) {\n        this.features = visitor.visit(this.features);\n    }\n    if (this.rules) {\n        this.rules = visitor.visitArray(this.rules);\n    }\n};\nMedia.prototype.genCSS = function (context, output) {\n    output.add('@media ', this.currentFileInfo, this.index);\n    this.features.genCSS(context, output);\n    this.outputRuleset(context, output, this.rules);\n};\nMedia.prototype.eval = function (context) {\n    if (!context.mediaBlocks) {\n        context.mediaBlocks = [];\n        context.mediaPath = [];\n    }\n\n    var media = new Media(null, [], this.index, this.currentFileInfo);\n    if (this.debugInfo) {\n        this.rules[0].debugInfo = this.debugInfo;\n        media.debugInfo = this.debugInfo;\n    }\n    var strictMathBypass = false;\n    if (!context.strictMath) {\n        strictMathBypass = true;\n        context.strictMath = true;\n    }\n    try {\n        media.features = this.features.eval(context);\n    }\n    finally {\n        if (strictMathBypass) {\n            context.strictMath = false;\n        }\n    }\n\n    context.mediaPath.push(media);\n    context.mediaBlocks.push(media);\n\n    this.rules[0].functionRegistry = context.frames[0].functionRegistry.inherit();\n    context.frames.unshift(this.rules[0]);\n    media.rules = [this.rules[0].eval(context)];\n    context.frames.shift();\n\n    context.mediaPath.pop();\n\n    return context.mediaPath.length === 0 ? media.evalTop(context) :\n                media.evalNested(context);\n};\nMedia.prototype.evalTop = function (context) {\n    var result = this;\n\n    // Render all dependent Media blocks.\n    if (context.mediaBlocks.length > 1) {\n        var selectors = (new Selector([], null, null, this.index, this.currentFileInfo)).createEmptySelectors();\n        result = new Ruleset(selectors, context.mediaBlocks);\n        result.multiMedia = true;\n    }\n\n    delete context.mediaBlocks;\n    delete context.mediaPath;\n\n    return result;\n};\nMedia.prototype.evalNested = function (context) {\n    var i, value,\n        path = context.mediaPath.concat([this]);\n\n    // Extract the media-query conditions separated with `,` (OR).\n    for (i = 0; i < path.length; i++) {\n        value = path[i].features instanceof Value ?\n                    path[i].features.value : path[i].features;\n        path[i] = Array.isArray(value) ? value : [value];\n    }\n\n    // Trace all permutations to generate the resulting media-query.\n    //\n    // (a, b and c) with nested (d, e) ->\n    //    a and d\n    //    a and e\n    //    b and c and d\n    //    b and c and e\n    this.features = new Value(this.permute(path).map(function (path) {\n        path = path.map(function (fragment) {\n            return fragment.toCSS ? fragment : new Anonymous(fragment);\n        });\n\n        for (i = path.length - 1; i > 0; i--) {\n            path.splice(i, 0, new Anonymous(\"and\"));\n        }\n\n        return new Expression(path);\n    }));\n\n    // Fake a tree-node that doesn't output anything.\n    return new Ruleset([], []);\n};\nMedia.prototype.permute = function (arr) {\n    if (arr.length === 0) {\n        return [];\n    } else if (arr.length === 1) {\n        return arr[0];\n    } else {\n        var result = [];\n        var rest = this.permute(arr.slice(1));\n        for (var i = 0; i < rest.length; i++) {\n            for (var j = 0; j < arr[0].length; j++) {\n                result.push([arr[0][j]].concat(rest[i]));\n            }\n        }\n        return result;\n    }\n};\nMedia.prototype.bubbleSelectors = function (selectors) {\n    if (!selectors) {\n        return;\n    }\n    this.rules = [new Ruleset(selectors.slice(0), [this.rules[0]])];\n};\nmodule.exports = Media;\n\n},{\"./anonymous\":45,\"./directive\":56,\"./expression\":58,\"./ruleset\":75,\"./selector\":76,\"./value\":80}],66:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Selector = require(\"./selector\"),\n    MixinDefinition = require(\"./mixin-definition\"),\n    defaultFunc = require(\"../functions/default\");\n\nvar MixinCall = function (elements, args, index, currentFileInfo, important) {\n    this.selector = new Selector(elements);\n    this.arguments = args || [];\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n    this.important = important;\n};\nMixinCall.prototype = new Node();\nMixinCall.prototype.type = \"MixinCall\";\nMixinCall.prototype.accept = function (visitor) {\n    if (this.selector) {\n        this.selector = visitor.visit(this.selector);\n    }\n    if (this.arguments.length) {\n        this.arguments = visitor.visitArray(this.arguments);\n    }\n};\nMixinCall.prototype.eval = function (context) {\n    var mixins, mixin, mixinPath, args = [], arg, argValue,\n        rules = [], rule, match = false, i, m, f, isRecursive, isOneFound,\n        candidates = [], candidate, conditionResult = [], defaultResult, defFalseEitherCase = -1,\n        defNone = 0, defTrue = 1, defFalse = 2, count, originalRuleset, noArgumentsFilter;\n\n    function calcDefGroup(mixin, mixinPath) {\n        var f, p, namespace;\n\n        for (f = 0; f < 2; f++) {\n            conditionResult[f] = true;\n            defaultFunc.value(f);\n            for (p = 0; p < mixinPath.length && conditionResult[f]; p++) {\n                namespace = mixinPath[p];\n                if (namespace.matchCondition) {\n                    conditionResult[f] = conditionResult[f] && namespace.matchCondition(null, context);\n                }\n            }\n            if (mixin.matchCondition) {\n                conditionResult[f] = conditionResult[f] && mixin.matchCondition(args, context);\n            }\n        }\n        if (conditionResult[0] || conditionResult[1]) {\n            if (conditionResult[0] != conditionResult[1]) {\n                return conditionResult[1] ?\n                    defTrue : defFalse;\n            }\n\n            return defNone;\n        }\n        return defFalseEitherCase;\n    }\n\n    for (i = 0; i < this.arguments.length; i++) {\n        arg = this.arguments[i];\n        argValue = arg.value.eval(context);\n        if (arg.expand && Array.isArray(argValue.value)) {\n            argValue = argValue.value;\n            for (m = 0; m < argValue.length; m++) {\n                args.push({value: argValue[m]});\n            }\n        } else {\n            args.push({name: arg.name, value: argValue});\n        }\n    }\n\n    noArgumentsFilter = function(rule) {return rule.matchArgs(null, context);};\n\n    for (i = 0; i < context.frames.length; i++) {\n        if ((mixins = context.frames[i].find(this.selector, null, noArgumentsFilter)).length > 0) {\n            isOneFound = true;\n\n            // To make `default()` function independent of definition order we have two \"subpasses\" here.\n            // At first we evaluate each guard *twice* (with `default() == true` and `default() == false`),\n            // and build candidate list with corresponding flags. Then, when we know all possible matches,\n            // we make a final decision.\n\n            for (m = 0; m < mixins.length; m++) {\n                mixin = mixins[m].rule;\n                mixinPath = mixins[m].path;\n                isRecursive = false;\n                for (f = 0; f < context.frames.length; f++) {\n                    if ((!(mixin instanceof MixinDefinition)) && mixin === (context.frames[f].originalRuleset || context.frames[f])) {\n                        isRecursive = true;\n                        break;\n                    }\n                }\n                if (isRecursive) {\n                    continue;\n                }\n\n                if (mixin.matchArgs(args, context)) {\n                    candidate = {mixin: mixin, group: calcDefGroup(mixin, mixinPath)};\n\n                    if (candidate.group !== defFalseEitherCase) {\n                        candidates.push(candidate);\n                    }\n\n                    match = true;\n                }\n            }\n\n            defaultFunc.reset();\n\n            count = [0, 0, 0];\n            for (m = 0; m < candidates.length; m++) {\n                count[candidates[m].group]++;\n            }\n\n            if (count[defNone] > 0) {\n                defaultResult = defFalse;\n            } else {\n                defaultResult = defTrue;\n                if ((count[defTrue] + count[defFalse]) > 1) {\n                    throw { type: 'Runtime',\n                        message: 'Ambiguous use of `default()` found when matching for `' + this.format(args) + '`',\n                        index: this.index, filename: this.currentFileInfo.filename };\n                }\n            }\n\n            for (m = 0; m < candidates.length; m++) {\n                candidate = candidates[m].group;\n                if ((candidate === defNone) || (candidate === defaultResult)) {\n                    try {\n                        mixin = candidates[m].mixin;\n                        if (!(mixin instanceof MixinDefinition)) {\n                            originalRuleset = mixin.originalRuleset || mixin;\n                            mixin = new MixinDefinition(\"\", [], mixin.rules, null, false);\n                            mixin.originalRuleset = originalRuleset;\n                        }\n                        Array.prototype.push.apply(\n                            rules, mixin.evalCall(context, args, this.important).rules);\n                    } catch (e) {\n                        throw { message: e.message, index: this.index, filename: this.currentFileInfo.filename, stack: e.stack };\n                    }\n                }\n            }\n\n            if (match) {\n                if (!this.currentFileInfo || !this.currentFileInfo.reference) {\n                    for (i = 0; i < rules.length; i++) {\n                        rule = rules[i];\n                        if (rule.markReferenced) {\n                            rule.markReferenced();\n                        }\n                    }\n                }\n                return rules;\n            }\n        }\n    }\n    if (isOneFound) {\n        throw { type:    'Runtime',\n            message: 'No matching definition was found for `' + this.format(args) + '`',\n            index:   this.index, filename: this.currentFileInfo.filename };\n    } else {\n        throw { type:    'Name',\n            message: this.selector.toCSS().trim() + \" is undefined\",\n            index:   this.index, filename: this.currentFileInfo.filename };\n    }\n};\nMixinCall.prototype.format = function (args) {\n    return this.selector.toCSS().trim() + '(' +\n        (args ? args.map(function (a) {\n            var argValue = \"\";\n            if (a.name) {\n                argValue += a.name + \":\";\n            }\n            if (a.value.toCSS) {\n                argValue += a.value.toCSS();\n            } else {\n                argValue += \"???\";\n            }\n            return argValue;\n        }).join(', ') : \"\") + \")\";\n};\nmodule.exports = MixinCall;\n\n},{\"../functions/default\":19,\"./mixin-definition\":67,\"./node\":69,\"./selector\":76}],67:[function(require,module,exports){\nvar Selector = require(\"./selector\"),\n    Element = require(\"./element\"),\n    Ruleset = require(\"./ruleset\"),\n    Rule = require(\"./rule\"),\n    Expression = require(\"./expression\"),\n    contexts = require(\"../contexts\");\n\nvar Definition = function (name, params, rules, condition, variadic, frames) {\n    this.name = name;\n    this.selectors = [new Selector([new Element(null, name, this.index, this.currentFileInfo)])];\n    this.params = params;\n    this.condition = condition;\n    this.variadic = variadic;\n    this.arity = params.length;\n    this.rules = rules;\n    this._lookups = {};\n    var optionalParameters = [];\n    this.required = params.reduce(function (count, p) {\n        if (!p.name || (p.name && !p.value)) {\n            return count + 1;\n        }\n        else {\n            optionalParameters.push(p.name);\n            return count;\n        }\n    }, 0);\n    this.optionalParameters = optionalParameters;\n    this.frames = frames;\n};\nDefinition.prototype = new Ruleset();\nDefinition.prototype.type = \"MixinDefinition\";\nDefinition.prototype.evalFirst = true;\nDefinition.prototype.accept = function (visitor) {\n    if (this.params && this.params.length) {\n        this.params = visitor.visitArray(this.params);\n    }\n    this.rules = visitor.visitArray(this.rules);\n    if (this.condition) {\n        this.condition = visitor.visit(this.condition);\n    }\n};\nDefinition.prototype.evalParams = function (context, mixinEnv, args, evaldArguments) {\n    /*jshint boss:true */\n    var frame = new Ruleset(null, null),\n        varargs, arg,\n        params = this.params.slice(0),\n        i, j, val, name, isNamedFound, argIndex, argsLength = 0;\n\n    if (mixinEnv.frames && mixinEnv.frames[0] && mixinEnv.frames[0].functionRegistry) {\n        frame.functionRegistry = mixinEnv.frames[0].functionRegistry.inherit();\n    }\n    mixinEnv = new contexts.Eval(mixinEnv, [frame].concat(mixinEnv.frames));\n\n    if (args) {\n        args = args.slice(0);\n        argsLength = args.length;\n\n        for (i = 0; i < argsLength; i++) {\n            arg = args[i];\n            if (name = (arg && arg.name)) {\n                isNamedFound = false;\n                for (j = 0; j < params.length; j++) {\n                    if (!evaldArguments[j] && name === params[j].name) {\n                        evaldArguments[j] = arg.value.eval(context);\n                        frame.prependRule(new Rule(name, arg.value.eval(context)));\n                        isNamedFound = true;\n                        break;\n                    }\n                }\n                if (isNamedFound) {\n                    args.splice(i, 1);\n                    i--;\n                    continue;\n                } else {\n                    throw { type: 'Runtime', message: \"Named argument for \" + this.name +\n                        ' ' + args[i].name + ' not found' };\n                }\n            }\n        }\n    }\n    argIndex = 0;\n    for (i = 0; i < params.length; i++) {\n        if (evaldArguments[i]) { continue; }\n\n        arg = args && args[argIndex];\n\n        if (name = params[i].name) {\n            if (params[i].variadic) {\n                varargs = [];\n                for (j = argIndex; j < argsLength; j++) {\n                    varargs.push(args[j].value.eval(context));\n                }\n                frame.prependRule(new Rule(name, new Expression(varargs).eval(context)));\n            } else {\n                val = arg && arg.value;\n                if (val) {\n                    val = val.eval(context);\n                } else if (params[i].value) {\n                    val = params[i].value.eval(mixinEnv);\n                    frame.resetCache();\n                } else {\n                    throw { type: 'Runtime', message: \"wrong number of arguments for \" + this.name +\n                        ' (' + argsLength + ' for ' + this.arity + ')' };\n                }\n\n                frame.prependRule(new Rule(name, val));\n                evaldArguments[i] = val;\n            }\n        }\n\n        if (params[i].variadic && args) {\n            for (j = argIndex; j < argsLength; j++) {\n                evaldArguments[j] = args[j].value.eval(context);\n            }\n        }\n        argIndex++;\n    }\n\n    return frame;\n};\nDefinition.prototype.makeImportant = function() {\n    var rules = !this.rules ? this.rules : this.rules.map(function (r) {\n        if (r.makeImportant) {\n            return r.makeImportant(true);\n        } else {\n            return r;\n        }\n    });\n    var result = new Definition (this.name, this.params, rules, this.condition, this.variadic, this.frames);\n    return result;\n};\nDefinition.prototype.eval = function (context) {\n    return new Definition(this.name, this.params, this.rules, this.condition, this.variadic, this.frames || context.frames.slice(0));\n};\nDefinition.prototype.evalCall = function (context, args, important) {\n    var _arguments = [],\n        mixinFrames = this.frames ? this.frames.concat(context.frames) : context.frames,\n        frame = this.evalParams(context, new contexts.Eval(context, mixinFrames), args, _arguments),\n        rules, ruleset;\n\n    frame.prependRule(new Rule('@arguments', new Expression(_arguments).eval(context)));\n\n    rules = this.rules.slice(0);\n\n    ruleset = new Ruleset(null, rules);\n    ruleset.originalRuleset = this;\n    ruleset = ruleset.eval(new contexts.Eval(context, [this, frame].concat(mixinFrames)));\n    if (important) {\n        ruleset = ruleset.makeImportant();\n    }\n    return ruleset;\n};\nDefinition.prototype.matchCondition = function (args, context) {\n    if (this.condition && !this.condition.eval(\n        new contexts.Eval(context,\n            [this.evalParams(context, /* the parameter variables*/\n                new contexts.Eval(context, this.frames ? this.frames.concat(context.frames) : context.frames), args, [])]\n            .concat(this.frames || []) // the parent namespace/mixin frames\n            .concat(context.frames)))) { // the current environment frames\n        return false;\n    }\n    return true;\n};\nDefinition.prototype.matchArgs = function (args, context) {\n    var allArgsCnt = (args && args.length) || 0, len, optionalParameters = this.optionalParameters;\n    var requiredArgsCnt = !args ? 0 : args.reduce(function (count, p) {\n        if (optionalParameters.indexOf(p.name) < 0) {\n            return count + 1;\n        } else {\n            return count;\n        }\n    }, 0);\n\n    if (! this.variadic) {\n        if (requiredArgsCnt < this.required) {\n            return false;\n        }\n        if (allArgsCnt > this.params.length) {\n            return false;\n        }\n    } else {\n        if (requiredArgsCnt < (this.required - 1)) {\n            return false;\n        }\n    }\n\n    // check patterns\n    len = Math.min(requiredArgsCnt, this.arity);\n\n    for (var i = 0; i < len; i++) {\n        if (!this.params[i].name && !this.params[i].variadic) {\n            if (args[i].value.eval(context).toCSS() != this.params[i].value.eval(context).toCSS()) {\n                return false;\n            }\n        }\n    }\n    return true;\n};\nmodule.exports = Definition;\n\n},{\"../contexts\":10,\"./element\":57,\"./expression\":58,\"./rule\":73,\"./ruleset\":75,\"./selector\":76}],68:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Operation = require(\"./operation\"),\n    Dimension = require(\"./dimension\");\n\nvar Negative = function (node) {\n    this.value = node;\n};\nNegative.prototype = new Node();\nNegative.prototype.type = \"Negative\";\nNegative.prototype.genCSS = function (context, output) {\n    output.add('-');\n    this.value.genCSS(context, output);\n};\nNegative.prototype.eval = function (context) {\n    if (context.isMathOn()) {\n        return (new Operation('*', [new Dimension(-1), this.value])).eval(context);\n    }\n    return new Negative(this.value.eval(context));\n};\nmodule.exports = Negative;\n\n},{\"./dimension\":55,\"./node\":69,\"./operation\":70}],69:[function(require,module,exports){\nvar Node = function() {\n};\nNode.prototype.toCSS = function (context) {\n    var strs = [];\n    this.genCSS(context, {\n        add: function(chunk, fileInfo, index) {\n            strs.push(chunk);\n        },\n        isEmpty: function () {\n            return strs.length === 0;\n        }\n    });\n    return strs.join('');\n};\nNode.prototype.genCSS = function (context, output) {\n    output.add(this.value);\n};\nNode.prototype.accept = function (visitor) {\n    this.value = visitor.visit(this.value);\n};\nNode.prototype.eval = function () { return this; };\nNode.prototype._operate = function (context, op, a, b) {\n    switch (op) {\n        case '+': return a + b;\n        case '-': return a - b;\n        case '*': return a * b;\n        case '/': return a / b;\n    }\n};\nNode.prototype.fround = function(context, value) {\n    var precision = context && context.numPrecision;\n    //add \"epsilon\" to ensure numbers like 1.000000005 (represented as 1.000000004999....) are properly rounded...\n    return (precision == null) ? value : Number((value + 2e-16).toFixed(precision));\n};\nNode.compare = function (a, b) {\n    /* returns:\n     -1: a < b\n     0: a = b\n     1: a > b\n     and *any* other value for a != b (e.g. undefined, NaN, -2 etc.) */\n\n    if ((a.compare) &&\n        // for \"symmetric results\" force toCSS-based comparison\n        // of Quoted or Anonymous if either value is one of those\n        !(b.type === \"Quoted\" || b.type === \"Anonymous\")) {\n        return a.compare(b);\n    } else if (b.compare) {\n        return -b.compare(a);\n    } else if (a.type !== b.type) {\n        return undefined;\n    }\n\n    a = a.value;\n    b = b.value;\n    if (!Array.isArray(a)) {\n        return a === b ? 0 : undefined;\n    }\n    if (a.length !== b.length) {\n        return undefined;\n    }\n    for (var i = 0; i < a.length; i++) {\n        if (Node.compare(a[i], b[i]) !== 0) {\n            return undefined;\n        }\n    }\n    return 0;\n};\n\nNode.numericCompare = function (a, b) {\n    return a  <  b ? -1\n        : a === b ?  0\n        : a  >  b ?  1 : undefined;\n};\nmodule.exports = Node;\n\n},{}],70:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Color = require(\"./color\"),\n    Dimension = require(\"./dimension\");\n\nvar Operation = function (op, operands, isSpaced) {\n    this.op = op.trim();\n    this.operands = operands;\n    this.isSpaced = isSpaced;\n};\nOperation.prototype = new Node();\nOperation.prototype.type = \"Operation\";\nOperation.prototype.accept = function (visitor) {\n    this.operands = visitor.visit(this.operands);\n};\nOperation.prototype.eval = function (context) {\n    var a = this.operands[0].eval(context),\n        b = this.operands[1].eval(context);\n\n    if (context.isMathOn()) {\n        if (a instanceof Dimension && b instanceof Color) {\n            a = a.toColor();\n        }\n        if (b instanceof Dimension && a instanceof Color) {\n            b = b.toColor();\n        }\n        if (!a.operate) {\n            throw { type: \"Operation\",\n                    message: \"Operation on an invalid type\" };\n        }\n\n        return a.operate(context, this.op, b);\n    } else {\n        return new Operation(this.op, [a, b], this.isSpaced);\n    }\n};\nOperation.prototype.genCSS = function (context, output) {\n    this.operands[0].genCSS(context, output);\n    if (this.isSpaced) {\n        output.add(\" \");\n    }\n    output.add(this.op);\n    if (this.isSpaced) {\n        output.add(\" \");\n    }\n    this.operands[1].genCSS(context, output);\n};\n\nmodule.exports = Operation;\n\n},{\"./color\":49,\"./dimension\":55,\"./node\":69}],71:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Paren = function (node) {\n    this.value = node;\n};\nParen.prototype = new Node();\nParen.prototype.type = \"Paren\";\nParen.prototype.genCSS = function (context, output) {\n    output.add('(');\n    this.value.genCSS(context, output);\n    output.add(')');\n};\nParen.prototype.eval = function (context) {\n    return new Paren(this.value.eval(context));\n};\nmodule.exports = Paren;\n\n},{\"./node\":69}],72:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    JsEvalNode = require(\"./js-eval-node\"),\n    Variable = require(\"./variable\");\n\nvar Quoted = function (str, content, escaped, index, currentFileInfo) {\n    this.escaped = (escaped == null) ? true : escaped;\n    this.value = content || '';\n    this.quote = str.charAt(0);\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n};\nQuoted.prototype = new JsEvalNode();\nQuoted.prototype.type = \"Quoted\";\nQuoted.prototype.genCSS = function (context, output) {\n    if (!this.escaped) {\n        output.add(this.quote, this.currentFileInfo, this.index);\n    }\n    output.add(this.value);\n    if (!this.escaped) {\n        output.add(this.quote);\n    }\n};\nQuoted.prototype.containsVariables = function() {\n    return this.value.match(/(`([^`]+)`)|@\\{([\\w-]+)\\}/);\n};\nQuoted.prototype.eval = function (context) {\n    var that = this, value = this.value;\n    var javascriptReplacement = function (_, exp) {\n        return String(that.evaluateJavaScript(exp, context));\n    };\n    var interpolationReplacement = function (_, name) {\n        var v = new Variable('@' + name, that.index, that.currentFileInfo).eval(context, true);\n        return (v instanceof Quoted) ? v.value : v.toCSS();\n    };\n    function iterativeReplace(value, regexp, replacementFnc) {\n        var evaluatedValue = value;\n        do {\n            value = evaluatedValue;\n            evaluatedValue = value.replace(regexp, replacementFnc);\n        } while (value !== evaluatedValue);\n        return evaluatedValue;\n    }\n    value = iterativeReplace(value, /`([^`]+)`/g, javascriptReplacement);\n    value = iterativeReplace(value, /@\\{([\\w-]+)\\}/g, interpolationReplacement);\n    return new Quoted(this.quote + value + this.quote, value, this.escaped, this.index, this.currentFileInfo);\n};\nQuoted.prototype.compare = function (other) {\n    // when comparing quoted strings allow the quote to differ\n    if (other.type === \"Quoted\" && !this.escaped && !other.escaped) {\n        return Node.numericCompare(this.value, other.value);\n    } else {\n        return other.toCSS && this.toCSS() === other.toCSS() ? 0 : undefined;\n    }\n};\nmodule.exports = Quoted;\n\n},{\"./js-eval-node\":63,\"./node\":69,\"./variable\":81}],73:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Value = require(\"./value\"),\n    Keyword = require(\"./keyword\");\n\nvar Rule = function (name, value, important, merge, index, currentFileInfo, inline, variable) {\n    this.name = name;\n    this.value = (value instanceof Node) ? value : new Value([value]); //value instanceof tree.Value || value instanceof tree.Ruleset ??\n    this.important = important ? ' ' + important.trim() : '';\n    this.merge = merge;\n    this.index = index;\n    this.currentFileInfo = currentFileInfo;\n    this.inline = inline || false;\n    this.variable = (variable !== undefined) ? variable\n        : (name.charAt && (name.charAt(0) === '@'));\n};\n\nfunction evalName(context, name) {\n    var value = \"\", i, n = name.length,\n        output = {add: function (s) {value += s;}};\n    for (i = 0; i < n; i++) {\n        name[i].eval(context).genCSS(context, output);\n    }\n    return value;\n}\n\nRule.prototype = new Node();\nRule.prototype.type = \"Rule\";\nRule.prototype.genCSS = function (context, output) {\n    output.add(this.name + (context.compress ? ':' : ': '), this.currentFileInfo, this.index);\n    try {\n        this.value.genCSS(context, output);\n    }\n    catch(e) {\n        e.index = this.index;\n        e.filename = this.currentFileInfo.filename;\n        throw e;\n    }\n    output.add(this.important + ((this.inline || (context.lastRule && context.compress)) ? \"\" : \";\"), this.currentFileInfo, this.index);\n};\nRule.prototype.eval = function (context) {\n    var strictMathBypass = false, name = this.name, evaldValue, variable = this.variable;\n    if (typeof name !== \"string\") {\n        // expand 'primitive' name directly to get\n        // things faster (~10% for benchmark.less):\n        name = (name.length === 1) && (name[0] instanceof Keyword) ?\n                name[0].value : evalName(context, name);\n        variable = false; // never treat expanded interpolation as new variable name\n    }\n    if (name === \"font\" && !context.strictMath) {\n        strictMathBypass = true;\n        context.strictMath = true;\n    }\n    try {\n        context.importantScope.push({});\n        evaldValue = this.value.eval(context);\n\n        if (!this.variable && evaldValue.type === \"DetachedRuleset\") {\n            throw { message: \"Rulesets cannot be evaluated on a property.\",\n                    index: this.index, filename: this.currentFileInfo.filename };\n        }\n        var important = this.important,\n            importantResult = context.importantScope.pop();\n        if (!important && importantResult.important) {\n            important = importantResult.important;\n        }\n\n        return new Rule(name,\n                          evaldValue,\n                          important,\n                          this.merge,\n                          this.index, this.currentFileInfo, this.inline,\n                              variable);\n    }\n    catch(e) {\n        if (typeof e.index !== 'number') {\n            e.index = this.index;\n            e.filename = this.currentFileInfo.filename;\n        }\n        throw e;\n    }\n    finally {\n        if (strictMathBypass) {\n            context.strictMath = false;\n        }\n    }\n};\nRule.prototype.makeImportant = function () {\n    return new Rule(this.name,\n                          this.value,\n                          \"!important\",\n                          this.merge,\n                          this.index, this.currentFileInfo, this.inline);\n};\n\n// Recursive marking for rules\nvar mark = function(value) {\n    if (!Array.isArray(value)) {\n        if (value.markReferenced) {\n            value.markReferenced();\n        }\n    } else {\n        value.forEach(function (ar) {\n            mark(ar);\n        });\n    }\n};\nRule.prototype.markReferenced = function () {\n    if (this.value) {\n        mark(this.value);\n    }\n};\n\nmodule.exports = Rule;\n},{\"./keyword\":64,\"./node\":69,\"./value\":80}],74:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Variable = require(\"./variable\");\n\nvar RulesetCall = function (variable) {\n    this.variable = variable;\n};\nRulesetCall.prototype = new Node();\nRulesetCall.prototype.type = \"RulesetCall\";\nRulesetCall.prototype.eval = function (context) {\n    var detachedRuleset = new Variable(this.variable).eval(context);\n    return detachedRuleset.callEval(context);\n};\nmodule.exports = RulesetCall;\n\n},{\"./node\":69,\"./variable\":81}],75:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Rule = require(\"./rule\"),\n    Selector = require(\"./selector\"),\n    Element = require(\"./element\"),\n    Paren = require(\"./paren\"),\n    contexts = require(\"../contexts\"),\n    globalFunctionRegistry = require(\"../functions/function-registry\"),\n    defaultFunc = require(\"../functions/default\"),\n    getDebugInfo = require(\"./debug-info\");\n\nvar Ruleset = function (selectors, rules, strictImports) {\n    this.selectors = selectors;\n    this.rules = rules;\n    this._lookups = {};\n    this.strictImports = strictImports;\n};\nRuleset.prototype = new Node();\nRuleset.prototype.type = \"Ruleset\";\nRuleset.prototype.isRuleset = true;\nRuleset.prototype.isRulesetLike = true;\nRuleset.prototype.accept = function (visitor) {\n    if (this.paths) {\n        visitor.visitArray(this.paths, true);\n    } else if (this.selectors) {\n        this.selectors = visitor.visitArray(this.selectors);\n    }\n    if (this.rules && this.rules.length) {\n        this.rules = visitor.visitArray(this.rules);\n    }\n};\nRuleset.prototype.eval = function (context) {\n    var thisSelectors = this.selectors, selectors,\n        selCnt, selector, i, hasOnePassingSelector = false;\n\n    if (thisSelectors && (selCnt = thisSelectors.length)) {\n        selectors = [];\n        defaultFunc.error({\n            type: \"Syntax\",\n            message: \"it is currently only allowed in parametric mixin guards,\"\n        });\n        for (i = 0; i < selCnt; i++) {\n            selector = thisSelectors[i].eval(context);\n            selectors.push(selector);\n            if (selector.evaldCondition) {\n                hasOnePassingSelector = true;\n            }\n        }\n        defaultFunc.reset();\n    } else {\n        hasOnePassingSelector = true;\n    }\n\n    var rules = this.rules ? this.rules.slice(0) : null,\n        ruleset = new Ruleset(selectors, rules, this.strictImports),\n        rule, subRule;\n\n    ruleset.originalRuleset = this;\n    ruleset.root = this.root;\n    ruleset.firstRoot = this.firstRoot;\n    ruleset.allowImports = this.allowImports;\n\n    if (this.debugInfo) {\n        ruleset.debugInfo = this.debugInfo;\n    }\n\n    if (!hasOnePassingSelector) {\n        rules.length = 0;\n    }\n\n    // inherit a function registry from the frames stack when possible;\n    // otherwise from the global registry\n    ruleset.functionRegistry = (function (frames) {\n        var i = 0,\n            n = frames.length,\n            found;\n        for ( ; i !== n ; ++i ) {\n            found = frames[ i ].functionRegistry;\n            if ( found ) { return found; }\n        }\n        return globalFunctionRegistry;\n    }(context.frames)).inherit();\n\n    // push the current ruleset to the frames stack\n    var ctxFrames = context.frames;\n    ctxFrames.unshift(ruleset);\n\n    // currrent selectors\n    var ctxSelectors = context.selectors;\n    if (!ctxSelectors) {\n        context.selectors = ctxSelectors = [];\n    }\n    ctxSelectors.unshift(this.selectors);\n\n    // Evaluate imports\n    if (ruleset.root || ruleset.allowImports || !ruleset.strictImports) {\n        ruleset.evalImports(context);\n    }\n\n    // Store the frames around mixin definitions,\n    // so they can be evaluated like closures when the time comes.\n    var rsRules = ruleset.rules, rsRuleCnt = rsRules ? rsRules.length : 0;\n    for (i = 0; i < rsRuleCnt; i++) {\n        if (rsRules[i].evalFirst) {\n            rsRules[i] = rsRules[i].eval(context);\n        }\n    }\n\n    var mediaBlockCount = (context.mediaBlocks && context.mediaBlocks.length) || 0;\n\n    // Evaluate mixin calls.\n    for (i = 0; i < rsRuleCnt; i++) {\n        if (rsRules[i].type === \"MixinCall\") {\n            /*jshint loopfunc:true */\n            rules = rsRules[i].eval(context).filter(function(r) {\n                if ((r instanceof Rule) && r.variable) {\n                    // do not pollute the scope if the variable is\n                    // already there. consider returning false here\n                    // but we need a way to \"return\" variable from mixins\n                    return !(ruleset.variable(r.name));\n                }\n                return true;\n            });\n            rsRules.splice.apply(rsRules, [i, 1].concat(rules));\n            rsRuleCnt += rules.length - 1;\n            i += rules.length - 1;\n            ruleset.resetCache();\n        } else if (rsRules[i].type === \"RulesetCall\") {\n            /*jshint loopfunc:true */\n            rules = rsRules[i].eval(context).rules.filter(function(r) {\n                if ((r instanceof Rule) && r.variable) {\n                    // do not pollute the scope at all\n                    return false;\n                }\n                return true;\n            });\n            rsRules.splice.apply(rsRules, [i, 1].concat(rules));\n            rsRuleCnt += rules.length - 1;\n            i += rules.length - 1;\n            ruleset.resetCache();\n        }\n    }\n\n    // Evaluate everything else\n    for (i = 0; i < rsRules.length; i++) {\n        rule = rsRules[i];\n        if (!rule.evalFirst) {\n            rsRules[i] = rule = rule.eval ? rule.eval(context) : rule;\n        }\n    }\n\n    // Evaluate everything else\n    for (i = 0; i < rsRules.length; i++) {\n        rule = rsRules[i];\n        // for rulesets, check if it is a css guard and can be removed\n        if (rule instanceof Ruleset && rule.selectors && rule.selectors.length === 1) {\n            // check if it can be folded in (e.g. & where)\n            if (rule.selectors[0].isJustParentSelector()) {\n                rsRules.splice(i--, 1);\n\n                for (var j = 0; j < rule.rules.length; j++) {\n                    subRule = rule.rules[j];\n                    if (!(subRule instanceof Rule) || !subRule.variable) {\n                        rsRules.splice(++i, 0, subRule);\n                    }\n                }\n            }\n        }\n    }\n\n    // Pop the stack\n    ctxFrames.shift();\n    ctxSelectors.shift();\n\n    if (context.mediaBlocks) {\n        for (i = mediaBlockCount; i < context.mediaBlocks.length; i++) {\n            context.mediaBlocks[i].bubbleSelectors(selectors);\n        }\n    }\n\n    return ruleset;\n};\nRuleset.prototype.evalImports = function(context) {\n    var rules = this.rules, i, importRules;\n    if (!rules) { return; }\n\n    for (i = 0; i < rules.length; i++) {\n        if (rules[i].type === \"Import\") {\n            importRules = rules[i].eval(context);\n            if (importRules && importRules.length) {\n                rules.splice.apply(rules, [i, 1].concat(importRules));\n                i+= importRules.length - 1;\n            } else {\n                rules.splice(i, 1, importRules);\n            }\n            this.resetCache();\n        }\n    }\n};\nRuleset.prototype.makeImportant = function() {\n    var result = new Ruleset(this.selectors, this.rules.map(function (r) {\n        if (r.makeImportant) {\n            return r.makeImportant();\n        } else {\n            return r;\n        }\n    }), this.strictImports);\n\n    return result;\n};\nRuleset.prototype.matchArgs = function (args) {\n    return !args || args.length === 0;\n};\n// lets you call a css selector with a guard\nRuleset.prototype.matchCondition = function (args, context) {\n    var lastSelector = this.selectors[this.selectors.length - 1];\n    if (!lastSelector.evaldCondition) {\n        return false;\n    }\n    if (lastSelector.condition &&\n        !lastSelector.condition.eval(\n            new contexts.Eval(context,\n                context.frames))) {\n        return false;\n    }\n    return true;\n};\nRuleset.prototype.resetCache = function () {\n    this._rulesets = null;\n    this._variables = null;\n    this._lookups = {};\n};\nRuleset.prototype.variables = function () {\n    if (!this._variables) {\n        this._variables = !this.rules ? {} : this.rules.reduce(function (hash, r) {\n            if (r instanceof Rule && r.variable === true) {\n                hash[r.name] = r;\n            }\n            // when evaluating variables in an import statement, imports have not been eval'd\n            // so we need to go inside import statements.\n            // guard against root being a string (in the case of inlined less)\n            if (r.type === \"Import\" && r.root && r.root.variables) {\n                var vars = r.root.variables();\n                for (var name in vars) {\n                    if (vars.hasOwnProperty(name)) {\n                        hash[name] = vars[name];\n                    }\n                }\n            }\n            return hash;\n        }, {});\n    }\n    return this._variables;\n};\nRuleset.prototype.variable = function (name) {\n    return this.variables()[name];\n};\nRuleset.prototype.rulesets = function () {\n    if (!this.rules) { return []; }\n\n    var filtRules = [], rules = this.rules, cnt = rules.length,\n        i, rule;\n\n    for (i = 0; i < cnt; i++) {\n        rule = rules[i];\n        if (rule.isRuleset) {\n            filtRules.push(rule);\n        }\n    }\n\n    return filtRules;\n};\nRuleset.prototype.prependRule = function (rule) {\n    var rules = this.rules;\n    if (rules) {\n        rules.unshift(rule);\n    } else {\n        this.rules = [ rule ];\n    }\n};\nRuleset.prototype.find = function (selector, self, filter) {\n    self = self || this;\n    var rules = [], match, foundMixins,\n        key = selector.toCSS();\n\n    if (key in this._lookups) { return this._lookups[key]; }\n\n    this.rulesets().forEach(function (rule) {\n        if (rule !== self) {\n            for (var j = 0; j < rule.selectors.length; j++) {\n                match = selector.match(rule.selectors[j]);\n                if (match) {\n                    if (selector.elements.length > match) {\n                        if (!filter || filter(rule)) {\n                            foundMixins = rule.find(new Selector(selector.elements.slice(match)), self, filter);\n                            for (var i = 0; i < foundMixins.length; ++i) {\n                                foundMixins[i].path.push(rule);\n                            }\n                            Array.prototype.push.apply(rules, foundMixins);\n                        }\n                    } else {\n                        rules.push({ rule: rule, path: []});\n                    }\n                    break;\n                }\n            }\n        }\n    });\n    this._lookups[key] = rules;\n    return rules;\n};\nRuleset.prototype.genCSS = function (context, output) {\n    var i, j,\n        charsetRuleNodes = [],\n        ruleNodes = [],\n        debugInfo,     // Line number debugging\n        rule,\n        path;\n\n    context.tabLevel = (context.tabLevel || 0);\n\n    if (!this.root) {\n        context.tabLevel++;\n    }\n\n    var tabRuleStr = context.compress ? '' : Array(context.tabLevel + 1).join(\"  \"),\n        tabSetStr = context.compress ? '' : Array(context.tabLevel).join(\"  \"),\n        sep;\n\n    function isRulesetLikeNode(rule) {\n        // if it has nested rules, then it should be treated like a ruleset\n        // medias and comments do not have nested rules, but should be treated like rulesets anyway\n        // some directives and anonymous nodes are ruleset like, others are not\n        if (typeof rule.isRulesetLike === \"boolean\") {\n            return rule.isRulesetLike;\n        } else if (typeof rule.isRulesetLike === \"function\") {\n            return rule.isRulesetLike();\n        }\n\n        //anything else is assumed to be a rule\n        return false;\n    }\n\n    var charsetNodeIndex = 0;\n    var importNodeIndex = 0;\n    for (i = 0; i < this.rules.length; i++) {\n        rule = this.rules[i];\n        if (rule.type === \"Comment\") {\n            if (importNodeIndex === i) {\n                importNodeIndex++;\n            }\n            ruleNodes.push(rule);\n        } else if (rule.isCharset && rule.isCharset()) {\n            ruleNodes.splice(charsetNodeIndex, 0, rule);\n            charsetNodeIndex++;\n            importNodeIndex++;\n        } else if (rule.type === \"Import\") {\n            ruleNodes.splice(importNodeIndex, 0, rule);\n            importNodeIndex++;\n        } else {\n            ruleNodes.push(rule);\n        }\n    }\n    ruleNodes = charsetRuleNodes.concat(ruleNodes);\n\n    // If this is the root node, we don't render\n    // a selector, or {}.\n    if (!this.root) {\n        debugInfo = getDebugInfo(context, this, tabSetStr);\n\n        if (debugInfo) {\n            output.add(debugInfo);\n            output.add(tabSetStr);\n        }\n\n        var paths = this.paths, pathCnt = paths.length,\n            pathSubCnt;\n\n        sep = context.compress ? ',' : (',\\n' + tabSetStr);\n\n        for (i = 0; i < pathCnt; i++) {\n            path = paths[i];\n            if (!(pathSubCnt = path.length)) { continue; }\n            if (i > 0) { output.add(sep); }\n\n            context.firstSelector = true;\n            path[0].genCSS(context, output);\n\n            context.firstSelector = false;\n            for (j = 1; j < pathSubCnt; j++) {\n                path[j].genCSS(context, output);\n            }\n        }\n\n        output.add((context.compress ? '{' : ' {\\n') + tabRuleStr);\n    }\n\n    // Compile rules and rulesets\n    for (i = 0; i < ruleNodes.length; i++) {\n        rule = ruleNodes[i];\n\n        if (i + 1 === ruleNodes.length) {\n            context.lastRule = true;\n        }\n\n        var currentLastRule = context.lastRule;\n        if (isRulesetLikeNode(rule)) {\n            context.lastRule = false;\n        }\n\n        if (rule.genCSS) {\n            rule.genCSS(context, output);\n        } else if (rule.value) {\n            output.add(rule.value.toString());\n        }\n\n        context.lastRule = currentLastRule;\n\n        if (!context.lastRule) {\n            output.add(context.compress ? '' : ('\\n' + tabRuleStr));\n        } else {\n            context.lastRule = false;\n        }\n    }\n\n    if (!this.root) {\n        output.add((context.compress ? '}' : '\\n' + tabSetStr + '}'));\n        context.tabLevel--;\n    }\n\n    if (!output.isEmpty() && !context.compress && this.firstRoot) {\n        output.add('\\n');\n    }\n};\nRuleset.prototype.markReferenced = function () {\n    var s;\n    if (this.selectors) {\n        for (s = 0; s < this.selectors.length; s++) {\n            this.selectors[s].markReferenced();\n        }\n    }\n\n    if (this.rules) {\n        for (s = 0; s < this.rules.length; s++) {\n            if (this.rules[s].markReferenced) {\n                this.rules[s].markReferenced();\n            }\n        }\n    }\n};\nRuleset.prototype.getIsReferenced = function() {\n    var i, j, path, selector;\n\n    if (this.paths) {\n        for (i = 0; i < this.paths.length; i++) {\n            path = this.paths[i];\n            for (j = 0; j < path.length; j++) {\n                if (path[j].getIsReferenced && path[j].getIsReferenced()) {\n                    return true;\n                }\n            }\n        }\n    }\n\n    if (this.selectors) {\n        for (i = 0; i < this.selectors.length; i++) {\n            selector = this.selectors[i];\n            if (selector.getIsReferenced && selector.getIsReferenced()) {\n                return true;\n            }\n        }\n    }\n    return false;\n};\n\nRuleset.prototype.joinSelectors = function (paths, context, selectors) {\n    for (var s = 0; s < selectors.length; s++) {\n        this.joinSelector(paths, context, selectors[s]);\n    }\n};\n\nRuleset.prototype.joinSelector = function (paths, context, selector) {\n\n    function createParenthesis(elementsToPak, originalElement) {\n        var replacementParen, j;\n        if (elementsToPak.length === 0) {\n            replacementParen = new Paren(elementsToPak[0]);\n        } else {\n            var insideParent = [];\n            for (j = 0; j < elementsToPak.length; j++) {\n                insideParent.push(new Element(null, elementsToPak[j], originalElement.index, originalElement.currentFileInfo));\n            }\n            replacementParen = new Paren(new Selector(insideParent));\n        }\n        return replacementParen;\n    }\n\n    function createSelector(containedElement, originalElement) {\n        var element, selector;\n        element = new Element(null, containedElement, originalElement.index, originalElement.currentFileInfo);\n        selector = new Selector([element]);\n        return selector;\n    }\n\n    // replace all parent selectors inside `inSelector` by content of `context` array\n    // resulting selectors are returned inside `paths` array\n    // returns true if `inSelector` contained at least one parent selector\n    function replaceParentSelector(paths, context, inSelector) {\n        // The paths are [[Selector]]\n        // The first list is a list of comma separated selectors\n        // The inner list is a list of inheritance separated selectors\n        // e.g.\n        // .a, .b {\n        //   .c {\n        //   }\n        // }\n        // == [[.a] [.c]] [[.b] [.c]]\n        //\n        var i, j, k, currentElements, newSelectors, selectorsMultiplied, sel, el, hadParentSelector = false, length, lastSelector;\n        function findNestedSelector(element) {\n            var maybeSelector;\n            if (element.value.type !== 'Paren') {\n                return null;\n            }\n\n            maybeSelector = element.value.value;\n            if (maybeSelector.type !== 'Selector') {\n                return null;\n            }\n\n            return maybeSelector;\n        }\n\n        // the elements from the current selector so far\n        currentElements = [];\n        // the current list of new selectors to add to the path.\n        // We will build it up. We initiate it with one empty selector as we \"multiply\" the new selectors\n        // by the parents\n        newSelectors = [\n            []\n        ];\n\n        for (i = 0; i < inSelector.elements.length; i++) {\n            el = inSelector.elements[i];\n            // non parent reference elements just get added\n            if (el.value !== \"&\") {\n                var nestedSelector = findNestedSelector(el);\n                if (nestedSelector != null) {\n                    // merge the current list of non parent selector elements\n                    // on to the current list of selectors to add\n                    mergeElementsOnToSelectors(currentElements, newSelectors);\n\n                    var nestedPaths = [], replaced, replacedNewSelectors = [];\n                    replaced = replaceParentSelector(nestedPaths, context, nestedSelector);\n                    hadParentSelector = hadParentSelector || replaced;\n                    //the nestedPaths array should have only one member - replaceParentSelector does not multiply selectors\n                    for (k = 0; k < nestedPaths.length; k++) {\n                        var replacementSelector = createSelector(createParenthesis(nestedPaths[k], el), el);\n                        addAllReplacementsIntoPath(newSelectors, [replacementSelector], el, inSelector, replacedNewSelectors);\n                    }\n                    newSelectors = replacedNewSelectors;\n                    currentElements = [];\n\n                } else {\n                    currentElements.push(el);\n                }\n\n            } else {\n                hadParentSelector = true;\n                // the new list of selectors to add\n                selectorsMultiplied = [];\n\n                // merge the current list of non parent selector elements\n                // on to the current list of selectors to add\n                mergeElementsOnToSelectors(currentElements, newSelectors);\n\n                // loop through our current selectors\n                for (j = 0; j < newSelectors.length; j++) {\n                    sel = newSelectors[j];\n                    // if we don't have any parent paths, the & might be in a mixin so that it can be used\n                    // whether there are parents or not\n                    if (context.length === 0) {\n                        // the combinator used on el should now be applied to the next element instead so that\n                        // it is not lost\n                        if (sel.length > 0) {\n                            sel[0].elements.push(new Element(el.combinator, '', el.index, el.currentFileInfo));\n                        }\n                        selectorsMultiplied.push(sel);\n                    }\n                    else {\n                        // and the parent selectors\n                        for (k = 0; k < context.length; k++) {\n                            // We need to put the current selectors\n                            // then join the last selector's elements on to the parents selectors\n                            var newSelectorPath = addReplacementIntoPath(sel, context[k], el, inSelector);\n                            // add that to our new set of selectors\n                            selectorsMultiplied.push(newSelectorPath);\n                        }\n                    }\n                }\n\n                // our new selectors has been multiplied, so reset the state\n                newSelectors = selectorsMultiplied;\n                currentElements = [];\n            }\n        }\n\n        // if we have any elements left over (e.g. .a& .b == .b)\n        // add them on to all the current selectors\n        mergeElementsOnToSelectors(currentElements, newSelectors);\n\n        for (i = 0; i < newSelectors.length; i++) {\n            length = newSelectors[i].length;\n            if (length > 0) {\n                paths.push(newSelectors[i]);\n                lastSelector = newSelectors[i][length - 1];\n                newSelectors[i][length - 1] = lastSelector.createDerived(lastSelector.elements, inSelector.extendList);\n            }\n        }\n\n        return hadParentSelector;\n    }\n\n    // joins selector path from `beginningPath` with selector path in `addPath`\n    // `replacedElement` contains element that is being replaced by `addPath`\n    // returns concatenated path\n    function addReplacementIntoPath(beginningPath, addPath, replacedElement, originalSelector) {\n        var newSelectorPath, lastSelector, newJoinedSelector;\n        // our new selector path\n        newSelectorPath = [];\n\n        //construct the joined selector - if & is the first thing this will be empty,\n        // if not newJoinedSelector will be the last set of elements in the selector\n        if (beginningPath.length > 0) {\n            newSelectorPath = beginningPath.slice(0);\n            lastSelector = newSelectorPath.pop();\n            newJoinedSelector = originalSelector.createDerived(lastSelector.elements.slice(0));\n        }\n        else {\n            newJoinedSelector = originalSelector.createDerived([]);\n        }\n\n        if (addPath.length > 0) {\n            // /deep/ is a combinator that is valid without anything in front of it\n            // so if the & does not have a combinator that is \"\" or \" \" then\n            // and there is a combinator on the parent, then grab that.\n            // this also allows + a { & .b { .a & { ... though not sure why you would want to do that\n            var combinator = replacedElement.combinator, parentEl = addPath[0].elements[0];\n            if (combinator.emptyOrWhitespace && !parentEl.combinator.emptyOrWhitespace) {\n                combinator = parentEl.combinator;\n            }\n            // join the elements so far with the first part of the parent\n            newJoinedSelector.elements.push(new Element(combinator, parentEl.value, replacedElement.index, replacedElement.currentFileInfo));\n            newJoinedSelector.elements = newJoinedSelector.elements.concat(addPath[0].elements.slice(1));\n        }\n\n        // now add the joined selector - but only if it is not empty\n        if (newJoinedSelector.elements.length !== 0) {\n            newSelectorPath.push(newJoinedSelector);\n        }\n\n        //put together the parent selectors after the join (e.g. the rest of the parent)\n        if (addPath.length > 1) {\n            newSelectorPath = newSelectorPath.concat(addPath.slice(1));\n        }\n        return newSelectorPath;\n    }\n\n    // joins selector path from `beginningPath` with every selector path in `addPaths` array\n    // `replacedElement` contains element that is being replaced by `addPath`\n    // returns array with all concatenated paths\n    function addAllReplacementsIntoPath( beginningPath, addPaths, replacedElement, originalSelector, result) {\n        var j;\n        for (j = 0; j < beginningPath.length; j++) {\n            var newSelectorPath = addReplacementIntoPath(beginningPath[j], addPaths, replacedElement, originalSelector);\n            result.push(newSelectorPath);\n        }\n        return result;\n    }\n\n    function mergeElementsOnToSelectors(elements, selectors) {\n        var i, sel;\n\n        if (elements.length === 0) {\n            return ;\n        }\n        if (selectors.length === 0) {\n            selectors.push([ new Selector(elements) ]);\n            return;\n        }\n\n        for (i = 0; i < selectors.length; i++) {\n            sel = selectors[i];\n\n            // if the previous thing in sel is a parent this needs to join on to it\n            if (sel.length > 0) {\n                sel[sel.length - 1] = sel[sel.length - 1].createDerived(sel[sel.length - 1].elements.concat(elements));\n            }\n            else {\n                sel.push(new Selector(elements));\n            }\n        }\n    }\n\n    // joinSelector code follows\n    var i, newPaths, hadParentSelector;\n\n    newPaths = [];\n    hadParentSelector = replaceParentSelector(newPaths, context, selector);\n\n    if (!hadParentSelector) {\n        if (context.length > 0) {\n            newPaths = [];\n            for (i = 0; i < context.length; i++) {\n                newPaths.push(context[i].concat(selector));\n            }\n        }\n        else {\n            newPaths = [[selector]];\n        }\n    }\n\n    for (i = 0; i < newPaths.length; i++) {\n        paths.push(newPaths[i]);\n    }\n\n};\nmodule.exports = Ruleset;\n\n},{\"../contexts\":10,\"../functions/default\":19,\"../functions/function-registry\":21,\"./debug-info\":53,\"./element\":57,\"./node\":69,\"./paren\":71,\"./rule\":73,\"./selector\":76}],76:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    Element = require(\"./element\");\n\nvar Selector = function (elements, extendList, condition, index, currentFileInfo, isReferenced) {\n    this.elements = elements;\n    this.extendList = extendList;\n    this.condition = condition;\n    this.currentFileInfo = currentFileInfo || {};\n    this.isReferenced = isReferenced;\n    if (!condition) {\n        this.evaldCondition = true;\n    }\n};\nSelector.prototype = new Node();\nSelector.prototype.type = \"Selector\";\nSelector.prototype.accept = function (visitor) {\n    if (this.elements) {\n        this.elements = visitor.visitArray(this.elements);\n    }\n    if (this.extendList) {\n        this.extendList = visitor.visitArray(this.extendList);\n    }\n    if (this.condition) {\n        this.condition = visitor.visit(this.condition);\n    }\n};\nSelector.prototype.createDerived = function(elements, extendList, evaldCondition) {\n    evaldCondition = (evaldCondition != null) ? evaldCondition : this.evaldCondition;\n    var newSelector = new Selector(elements, extendList || this.extendList, null, this.index, this.currentFileInfo, this.isReferenced);\n    newSelector.evaldCondition = evaldCondition;\n    newSelector.mediaEmpty = this.mediaEmpty;\n    return newSelector;\n};\nSelector.prototype.createEmptySelectors = function() {\n    var el = new Element('', '&', this.index, this.currentFileInfo),\n        sels = [new Selector([el], null, null, this.index, this.currentFileInfo)];\n    sels[0].mediaEmpty = true;\n    return sels;\n};\nSelector.prototype.match = function (other) {\n    var elements = this.elements,\n        len = elements.length,\n        olen, i;\n\n    other.CacheElements();\n\n    olen = other._elements.length;\n    if (olen === 0 || len < olen) {\n        return 0;\n    } else {\n        for (i = 0; i < olen; i++) {\n            if (elements[i].value !== other._elements[i]) {\n                return 0;\n            }\n        }\n    }\n\n    return olen; // return number of matched elements\n};\nSelector.prototype.CacheElements = function() {\n    if (this._elements) {\n        return;\n    }\n\n    var elements = this.elements.map( function(v) {\n        return v.combinator.value + (v.value.value || v.value);\n    }).join(\"\").match(/[,&#\\*\\.\\w-]([\\w-]|(\\\\.))*/g);\n\n    if (elements) {\n        if (elements[0] === \"&\") {\n            elements.shift();\n        }\n    } else {\n        elements = [];\n    }\n\n    this._elements = elements;\n};\nSelector.prototype.isJustParentSelector = function() {\n    return !this.mediaEmpty &&\n        this.elements.length === 1 &&\n        this.elements[0].value === '&' &&\n        (this.elements[0].combinator.value === ' ' || this.elements[0].combinator.value === '');\n};\nSelector.prototype.eval = function (context) {\n    var evaldCondition = this.condition && this.condition.eval(context),\n        elements = this.elements, extendList = this.extendList;\n\n    elements = elements && elements.map(function (e) { return e.eval(context); });\n    extendList = extendList && extendList.map(function(extend) { return extend.eval(context); });\n\n    return this.createDerived(elements, extendList, evaldCondition);\n};\nSelector.prototype.genCSS = function (context, output) {\n    var i, element;\n    if ((!context || !context.firstSelector) && this.elements[0].combinator.value === \"\") {\n        output.add(' ', this.currentFileInfo, this.index);\n    }\n    if (!this._css) {\n        //TODO caching? speed comparison?\n        for (i = 0; i < this.elements.length; i++) {\n            element = this.elements[i];\n            element.genCSS(context, output);\n        }\n    }\n};\nSelector.prototype.markReferenced = function () {\n    this.isReferenced = true;\n};\nSelector.prototype.getIsReferenced = function() {\n    return !this.currentFileInfo.reference || this.isReferenced;\n};\nSelector.prototype.getIsOutput = function() {\n    return this.evaldCondition;\n};\nmodule.exports = Selector;\n\n},{\"./element\":57,\"./node\":69}],77:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar UnicodeDescriptor = function (value) {\n    this.value = value;\n};\nUnicodeDescriptor.prototype = new Node();\nUnicodeDescriptor.prototype.type = \"UnicodeDescriptor\";\n\nmodule.exports = UnicodeDescriptor;\n\n},{\"./node\":69}],78:[function(require,module,exports){\nvar Node = require(\"./node\"),\n    unitConversions = require(\"../data/unit-conversions\");\n\nvar Unit = function (numerator, denominator, backupUnit) {\n    this.numerator = numerator ? numerator.slice(0).sort() : [];\n    this.denominator = denominator ? denominator.slice(0).sort() : [];\n    if (backupUnit) {\n        this.backupUnit = backupUnit;\n    } else if (numerator && numerator.length) {\n        this.backupUnit = numerator[0];\n    }\n};\n\nUnit.prototype = new Node();\nUnit.prototype.type = \"Unit\";\nUnit.prototype.clone = function () {\n    return new Unit(this.numerator.slice(0), this.denominator.slice(0), this.backupUnit);\n};\nUnit.prototype.genCSS = function (context, output) {\n    // Dimension checks the unit is singular and throws an error if in strict math mode.\n    var strictUnits = context && context.strictUnits;\n    if (this.numerator.length === 1) {\n        output.add(this.numerator[0]); // the ideal situation\n    } else if (!strictUnits && this.backupUnit) {\n        output.add(this.backupUnit);\n    } else if (!strictUnits && this.denominator.length) {\n        output.add(this.denominator[0]);\n    }\n};\nUnit.prototype.toString = function () {\n    var i, returnStr = this.numerator.join(\"*\");\n    for (i = 0; i < this.denominator.length; i++) {\n        returnStr += \"/\" + this.denominator[i];\n    }\n    return returnStr;\n};\nUnit.prototype.compare = function (other) {\n    return this.is(other.toString()) ? 0 : undefined;\n};\nUnit.prototype.is = function (unitString) {\n    return this.toString().toUpperCase() === unitString.toUpperCase();\n};\nUnit.prototype.isLength = function () {\n    return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/));\n};\nUnit.prototype.isEmpty = function () {\n    return this.numerator.length === 0 && this.denominator.length === 0;\n};\nUnit.prototype.isSingular = function() {\n    return this.numerator.length <= 1 && this.denominator.length === 0;\n};\nUnit.prototype.map = function(callback) {\n    var i;\n\n    for (i = 0; i < this.numerator.length; i++) {\n        this.numerator[i] = callback(this.numerator[i], false);\n    }\n\n    for (i = 0; i < this.denominator.length; i++) {\n        this.denominator[i] = callback(this.denominator[i], true);\n    }\n};\nUnit.prototype.usedUnits = function() {\n    var group, result = {}, mapUnit;\n\n    mapUnit = function (atomicUnit) {\n        /*jshint loopfunc:true */\n        if (group.hasOwnProperty(atomicUnit) && !result[groupName]) {\n            result[groupName] = atomicUnit;\n        }\n\n        return atomicUnit;\n    };\n\n    for (var groupName in unitConversions) {\n        if (unitConversions.hasOwnProperty(groupName)) {\n            group = unitConversions[groupName];\n\n            this.map(mapUnit);\n        }\n    }\n\n    return result;\n};\nUnit.prototype.cancel = function () {\n    var counter = {}, atomicUnit, i;\n\n    for (i = 0; i < this.numerator.length; i++) {\n        atomicUnit = this.numerator[i];\n        counter[atomicUnit] = (counter[atomicUnit] || 0) + 1;\n    }\n\n    for (i = 0; i < this.denominator.length; i++) {\n        atomicUnit = this.denominator[i];\n        counter[atomicUnit] = (counter[atomicUnit] || 0) - 1;\n    }\n\n    this.numerator = [];\n    this.denominator = [];\n\n    for (atomicUnit in counter) {\n        if (counter.hasOwnProperty(atomicUnit)) {\n            var count = counter[atomicUnit];\n\n            if (count > 0) {\n                for (i = 0; i < count; i++) {\n                    this.numerator.push(atomicUnit);\n                }\n            } else if (count < 0) {\n                for (i = 0; i < -count; i++) {\n                    this.denominator.push(atomicUnit);\n                }\n            }\n        }\n    }\n\n    this.numerator.sort();\n    this.denominator.sort();\n};\nmodule.exports = Unit;\n\n},{\"../data/unit-conversions\":13,\"./node\":69}],79:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar URL = function (val, index, currentFileInfo, isEvald) {\n    this.value = val;\n    this.currentFileInfo = currentFileInfo;\n    this.index = index;\n    this.isEvald = isEvald;\n};\nURL.prototype = new Node();\nURL.prototype.type = \"Url\";\nURL.prototype.accept = function (visitor) {\n    this.value = visitor.visit(this.value);\n};\nURL.prototype.genCSS = function (context, output) {\n    output.add(\"url(\");\n    this.value.genCSS(context, output);\n    output.add(\")\");\n};\nURL.prototype.eval = function (context) {\n    var val = this.value.eval(context),\n        rootpath;\n\n    if (!this.isEvald) {\n        // Add the base path if the URL is relative\n        rootpath = this.currentFileInfo && this.currentFileInfo.rootpath;\n        if (rootpath &&\n            typeof val.value === \"string\" &&\n            context.isPathRelative(val.value)) {\n\n            if (!val.quote) {\n                rootpath = rootpath.replace(/[\\(\\)'\"\\s]/g, function(match) { return \"\\\\\" + match; });\n            }\n            val.value = rootpath + val.value;\n        }\n\n        val.value = context.normalizePath(val.value);\n\n        // Add url args if enabled\n        if (context.urlArgs) {\n            if (!val.value.match(/^\\s*data:/)) {\n                var delimiter = val.value.indexOf('?') === -1 ? '?' : '&';\n                var urlArgs = delimiter + context.urlArgs;\n                if (val.value.indexOf('#') !== -1) {\n                    val.value = val.value.replace('#', urlArgs + '#');\n                } else {\n                    val.value += urlArgs;\n                }\n            }\n        }\n    }\n\n    return new URL(val, this.index, this.currentFileInfo, true);\n};\nmodule.exports = URL;\n\n},{\"./node\":69}],80:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Value = function (value) {\n    this.value = value;\n    if (!value) {\n        throw new Error(\"Value requires an array argument\");\n    }\n};\nValue.prototype = new Node();\nValue.prototype.type = \"Value\";\nValue.prototype.accept = function (visitor) {\n    if (this.value) {\n        this.value = visitor.visitArray(this.value);\n    }\n};\nValue.prototype.eval = function (context) {\n    if (this.value.length === 1) {\n        return this.value[0].eval(context);\n    } else {\n        return new Value(this.value.map(function (v) {\n            return v.eval(context);\n        }));\n    }\n};\nValue.prototype.genCSS = function (context, output) {\n    var i;\n    for (i = 0; i < this.value.length; i++) {\n        this.value[i].genCSS(context, output);\n        if (i + 1 < this.value.length) {\n            output.add((context && context.compress) ? ',' : ', ');\n        }\n    }\n};\nmodule.exports = Value;\n\n},{\"./node\":69}],81:[function(require,module,exports){\nvar Node = require(\"./node\");\n\nvar Variable = function (name, index, currentFileInfo) {\n    this.name = name;\n    this.index = index;\n    this.currentFileInfo = currentFileInfo || {};\n};\nVariable.prototype = new Node();\nVariable.prototype.type = \"Variable\";\nVariable.prototype.eval = function (context) {\n    var variable, name = this.name;\n\n    if (name.indexOf('@@') === 0) {\n        name = '@' + new Variable(name.slice(1), this.index, this.currentFileInfo).eval(context).value;\n    }\n\n    if (this.evaluating) {\n        throw { type: 'Name',\n                message: \"Recursive variable definition for \" + name,\n                filename: this.currentFileInfo.filename,\n                index: this.index };\n    }\n\n    this.evaluating = true;\n\n    variable = this.find(context.frames, function (frame) {\n        var v = frame.variable(name);\n        if (v) {\n            if (v.important) {\n                var importantScope = context.importantScope[context.importantScope.length - 1];\n                importantScope.important = v.important;\n            }\n            return v.value.eval(context);\n        }\n    });\n    if (variable) {\n        this.evaluating = false;\n        return variable;\n    } else {\n        throw { type: 'Name',\n                message: \"variable \" + name + \" is undefined\",\n                filename: this.currentFileInfo.filename,\n                index: this.index };\n    }\n};\nVariable.prototype.find = function (obj, fun) {\n    for (var i = 0, r; i < obj.length; i++) {\n        r = fun.call(obj, obj[i]);\n        if (r) { return r; }\n    }\n    return null;\n};\nmodule.exports = Variable;\n\n},{\"./node\":69}],82:[function(require,module,exports){\nmodule.exports = {\n    getLocation: function(index, inputStream) {\n        var n = index + 1,\n            line = null,\n            column = -1;\n\n        while (--n >= 0 && inputStream.charAt(n) !== '\\n') {\n            column++;\n        }\n\n        if (typeof index === 'number') {\n            line = (inputStream.slice(0, index).match(/\\n/g) || \"\").length;\n        }\n\n        return {\n            line: line,\n            column: column\n        };\n    }\n};\n\n},{}],83:[function(require,module,exports){\nvar tree = require(\"../tree\"),\n    Visitor = require(\"./visitor\"),\n    logger = require(\"../logger\");\n\n/*jshint loopfunc:true */\n\nvar ExtendFinderVisitor = function() {\n    this._visitor = new Visitor(this);\n    this.contexts = [];\n    this.allExtendsStack = [[]];\n};\n\nExtendFinderVisitor.prototype = {\n    run: function (root) {\n        root = this._visitor.visit(root);\n        root.allExtends = this.allExtendsStack[0];\n        return root;\n    },\n    visitRule: function (ruleNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitRuleset: function (rulesetNode, visitArgs) {\n        if (rulesetNode.root) {\n            return;\n        }\n\n        var i, j, extend, allSelectorsExtendList = [], extendList;\n\n        // get &:extend(.a); rules which apply to all selectors in this ruleset\n        var rules = rulesetNode.rules, ruleCnt = rules ? rules.length : 0;\n        for (i = 0; i < ruleCnt; i++) {\n            if (rulesetNode.rules[i] instanceof tree.Extend) {\n                allSelectorsExtendList.push(rules[i]);\n                rulesetNode.extendOnEveryPath = true;\n            }\n        }\n\n        // now find every selector and apply the extends that apply to all extends\n        // and the ones which apply to an individual extend\n        var paths = rulesetNode.paths;\n        for (i = 0; i < paths.length; i++) {\n            var selectorPath = paths[i],\n                selector = selectorPath[selectorPath.length - 1],\n                selExtendList = selector.extendList;\n\n            extendList = selExtendList ? selExtendList.slice(0).concat(allSelectorsExtendList)\n                                       : allSelectorsExtendList;\n\n            if (extendList) {\n                extendList = extendList.map(function(allSelectorsExtend) {\n                    return allSelectorsExtend.clone();\n                });\n            }\n\n            for (j = 0; j < extendList.length; j++) {\n                this.foundExtends = true;\n                extend = extendList[j];\n                extend.findSelfSelectors(selectorPath);\n                extend.ruleset = rulesetNode;\n                if (j === 0) { extend.firstExtendOnThisSelectorPath = true; }\n                this.allExtendsStack[this.allExtendsStack.length - 1].push(extend);\n            }\n        }\n\n        this.contexts.push(rulesetNode.selectors);\n    },\n    visitRulesetOut: function (rulesetNode) {\n        if (!rulesetNode.root) {\n            this.contexts.length = this.contexts.length - 1;\n        }\n    },\n    visitMedia: function (mediaNode, visitArgs) {\n        mediaNode.allExtends = [];\n        this.allExtendsStack.push(mediaNode.allExtends);\n    },\n    visitMediaOut: function (mediaNode) {\n        this.allExtendsStack.length = this.allExtendsStack.length - 1;\n    },\n    visitDirective: function (directiveNode, visitArgs) {\n        directiveNode.allExtends = [];\n        this.allExtendsStack.push(directiveNode.allExtends);\n    },\n    visitDirectiveOut: function (directiveNode) {\n        this.allExtendsStack.length = this.allExtendsStack.length - 1;\n    }\n};\n\nvar ProcessExtendsVisitor = function() {\n    this._visitor = new Visitor(this);\n};\n\nProcessExtendsVisitor.prototype = {\n    run: function(root) {\n        var extendFinder = new ExtendFinderVisitor();\n        this.extendIndicies = {};\n        extendFinder.run(root);\n        if (!extendFinder.foundExtends) { return root; }\n        root.allExtends = root.allExtends.concat(this.doExtendChaining(root.allExtends, root.allExtends));\n        this.allExtendsStack = [root.allExtends];\n        var newRoot = this._visitor.visit(root);\n        this.checkExtendsForNonMatched(root.allExtends);\n        return newRoot;\n    },\n    checkExtendsForNonMatched: function(extendList) {\n        var indicies = this.extendIndicies;\n        extendList.filter(function(extend) {\n            return !extend.hasFoundMatches && extend.parent_ids.length == 1;\n        }).forEach(function(extend) {\n                var selector = \"_unknown_\";\n                try {\n                    selector = extend.selector.toCSS({});\n                }\n                catch(_) {}\n\n                if (!indicies[extend.index + ' ' + selector]) {\n                    indicies[extend.index + ' ' + selector] = true;\n                    logger.warn(\"extend '\" + selector + \"' has no matches\");\n                }\n            });\n    },\n    doExtendChaining: function (extendsList, extendsListTarget, iterationCount) {\n        //\n        // chaining is different from normal extension.. if we extend an extend then we are not just copying, altering\n        // and pasting the selector we would do normally, but we are also adding an extend with the same target selector\n        // this means this new extend can then go and alter other extends\n        //\n        // this method deals with all the chaining work - without it, extend is flat and doesn't work on other extend selectors\n        // this is also the most expensive.. and a match on one selector can cause an extension of a selector we had already\n        // processed if we look at each selector at a time, as is done in visitRuleset\n\n        var extendIndex, targetExtendIndex, matches, extendsToAdd = [], newSelector, extendVisitor = this, selectorPath,\n            extend, targetExtend, newExtend;\n\n        iterationCount = iterationCount || 0;\n\n        //loop through comparing every extend with every target extend.\n        // a target extend is the one on the ruleset we are looking at copy/edit/pasting in place\n        // e.g.  .a:extend(.b) {}  and .b:extend(.c) {} then the first extend extends the second one\n        // and the second is the target.\n        // the seperation into two lists allows us to process a subset of chains with a bigger set, as is the\n        // case when processing media queries\n        for (extendIndex = 0; extendIndex < extendsList.length; extendIndex++) {\n            for (targetExtendIndex = 0; targetExtendIndex < extendsListTarget.length; targetExtendIndex++) {\n\n                extend = extendsList[extendIndex];\n                targetExtend = extendsListTarget[targetExtendIndex];\n\n                // look for circular references\n                if ( extend.parent_ids.indexOf( targetExtend.object_id ) >= 0 ) { continue; }\n\n                // find a match in the target extends self selector (the bit before :extend)\n                selectorPath = [targetExtend.selfSelectors[0]];\n                matches = extendVisitor.findMatch(extend, selectorPath);\n\n                if (matches.length) {\n\n                    extend.hasFoundMatches = true;\n\n                    // we found a match, so for each self selector..\n                    extend.selfSelectors.forEach(function(selfSelector) {\n\n                        // process the extend as usual\n                        newSelector = extendVisitor.extendSelector(matches, selectorPath, selfSelector);\n\n                        // but now we create a new extend from it\n                        newExtend = new(tree.Extend)(targetExtend.selector, targetExtend.option, 0);\n                        newExtend.selfSelectors = newSelector;\n\n                        // add the extend onto the list of extends for that selector\n                        newSelector[newSelector.length - 1].extendList = [newExtend];\n\n                        // record that we need to add it.\n                        extendsToAdd.push(newExtend);\n                        newExtend.ruleset = targetExtend.ruleset;\n\n                        //remember its parents for circular references\n                        newExtend.parent_ids = newExtend.parent_ids.concat(targetExtend.parent_ids, extend.parent_ids);\n\n                        // only process the selector once.. if we have :extend(.a,.b) then multiple\n                        // extends will look at the same selector path, so when extending\n                        // we know that any others will be duplicates in terms of what is added to the css\n                        if (targetExtend.firstExtendOnThisSelectorPath) {\n                            newExtend.firstExtendOnThisSelectorPath = true;\n                            targetExtend.ruleset.paths.push(newSelector);\n                        }\n                    });\n                }\n            }\n        }\n\n        if (extendsToAdd.length) {\n            // try to detect circular references to stop a stack overflow.\n            // may no longer be needed.\n            this.extendChainCount++;\n            if (iterationCount > 100) {\n                var selectorOne = \"{unable to calculate}\";\n                var selectorTwo = \"{unable to calculate}\";\n                try {\n                    selectorOne = extendsToAdd[0].selfSelectors[0].toCSS();\n                    selectorTwo = extendsToAdd[0].selector.toCSS();\n                }\n                catch(e) {}\n                throw { message: \"extend circular reference detected. One of the circular extends is currently:\" +\n                    selectorOne + \":extend(\" + selectorTwo + \")\"};\n            }\n\n            // now process the new extends on the existing rules so that we can handle a extending b extending c extending\n            // d extending e...\n            return extendsToAdd.concat(extendVisitor.doExtendChaining(extendsToAdd, extendsListTarget, iterationCount + 1));\n        } else {\n            return extendsToAdd;\n        }\n    },\n    visitRule: function (ruleNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitSelector: function (selectorNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitRuleset: function (rulesetNode, visitArgs) {\n        if (rulesetNode.root) {\n            return;\n        }\n        var matches, pathIndex, extendIndex, allExtends = this.allExtendsStack[this.allExtendsStack.length - 1],\n            selectorsToAdd = [], extendVisitor = this, selectorPath;\n\n        // look at each selector path in the ruleset, find any extend matches and then copy, find and replace\n\n        for (extendIndex = 0; extendIndex < allExtends.length; extendIndex++) {\n            for (pathIndex = 0; pathIndex < rulesetNode.paths.length; pathIndex++) {\n                selectorPath = rulesetNode.paths[pathIndex];\n\n                // extending extends happens initially, before the main pass\n                if (rulesetNode.extendOnEveryPath) { continue; }\n                var extendList = selectorPath[selectorPath.length - 1].extendList;\n                if (extendList && extendList.length) { continue; }\n\n                matches = this.findMatch(allExtends[extendIndex], selectorPath);\n\n                if (matches.length) {\n                    allExtends[extendIndex].hasFoundMatches = true;\n\n                    allExtends[extendIndex].selfSelectors.forEach(function(selfSelector) {\n                        selectorsToAdd.push(extendVisitor.extendSelector(matches, selectorPath, selfSelector));\n                    });\n                }\n            }\n        }\n        rulesetNode.paths = rulesetNode.paths.concat(selectorsToAdd);\n    },\n    findMatch: function (extend, haystackSelectorPath) {\n        //\n        // look through the haystack selector path to try and find the needle - extend.selector\n        // returns an array of selector matches that can then be replaced\n        //\n        var haystackSelectorIndex, hackstackSelector, hackstackElementIndex, haystackElement,\n            targetCombinator, i,\n            extendVisitor = this,\n            needleElements = extend.selector.elements,\n            potentialMatches = [], potentialMatch, matches = [];\n\n        // loop through the haystack elements\n        for (haystackSelectorIndex = 0; haystackSelectorIndex < haystackSelectorPath.length; haystackSelectorIndex++) {\n            hackstackSelector = haystackSelectorPath[haystackSelectorIndex];\n\n            for (hackstackElementIndex = 0; hackstackElementIndex < hackstackSelector.elements.length; hackstackElementIndex++) {\n\n                haystackElement = hackstackSelector.elements[hackstackElementIndex];\n\n                // if we allow elements before our match we can add a potential match every time. otherwise only at the first element.\n                if (extend.allowBefore || (haystackSelectorIndex === 0 && hackstackElementIndex === 0)) {\n                    potentialMatches.push({pathIndex: haystackSelectorIndex, index: hackstackElementIndex, matched: 0,\n                        initialCombinator: haystackElement.combinator});\n                }\n\n                for (i = 0; i < potentialMatches.length; i++) {\n                    potentialMatch = potentialMatches[i];\n\n                    // selectors add \" \" onto the first element. When we use & it joins the selectors together, but if we don't\n                    // then each selector in haystackSelectorPath has a space before it added in the toCSS phase. so we need to\n                    // work out what the resulting combinator will be\n                    targetCombinator = haystackElement.combinator.value;\n                    if (targetCombinator === '' && hackstackElementIndex === 0) {\n                        targetCombinator = ' ';\n                    }\n\n                    // if we don't match, null our match to indicate failure\n                    if (!extendVisitor.isElementValuesEqual(needleElements[potentialMatch.matched].value, haystackElement.value) ||\n                        (potentialMatch.matched > 0 && needleElements[potentialMatch.matched].combinator.value !== targetCombinator)) {\n                        potentialMatch = null;\n                    } else {\n                        potentialMatch.matched++;\n                    }\n\n                    // if we are still valid and have finished, test whether we have elements after and whether these are allowed\n                    if (potentialMatch) {\n                        potentialMatch.finished = potentialMatch.matched === needleElements.length;\n                        if (potentialMatch.finished &&\n                            (!extend.allowAfter &&\n                                (hackstackElementIndex + 1 < hackstackSelector.elements.length || haystackSelectorIndex + 1 < haystackSelectorPath.length))) {\n                            potentialMatch = null;\n                        }\n                    }\n                    // if null we remove, if not, we are still valid, so either push as a valid match or continue\n                    if (potentialMatch) {\n                        if (potentialMatch.finished) {\n                            potentialMatch.length = needleElements.length;\n                            potentialMatch.endPathIndex = haystackSelectorIndex;\n                            potentialMatch.endPathElementIndex = hackstackElementIndex + 1; // index after end of match\n                            potentialMatches.length = 0; // we don't allow matches to overlap, so start matching again\n                            matches.push(potentialMatch);\n                        }\n                    } else {\n                        potentialMatches.splice(i, 1);\n                        i--;\n                    }\n                }\n            }\n        }\n        return matches;\n    },\n    isElementValuesEqual: function(elementValue1, elementValue2) {\n        if (typeof elementValue1 === \"string\" || typeof elementValue2 === \"string\") {\n            return elementValue1 === elementValue2;\n        }\n        if (elementValue1 instanceof tree.Attribute) {\n            if (elementValue1.op !== elementValue2.op || elementValue1.key !== elementValue2.key) {\n                return false;\n            }\n            if (!elementValue1.value || !elementValue2.value) {\n                if (elementValue1.value || elementValue2.value) {\n                    return false;\n                }\n                return true;\n            }\n            elementValue1 = elementValue1.value.value || elementValue1.value;\n            elementValue2 = elementValue2.value.value || elementValue2.value;\n            return elementValue1 === elementValue2;\n        }\n        elementValue1 = elementValue1.value;\n        elementValue2 = elementValue2.value;\n        if (elementValue1 instanceof tree.Selector) {\n            if (!(elementValue2 instanceof tree.Selector) || elementValue1.elements.length !== elementValue2.elements.length) {\n                return false;\n            }\n            for (var i = 0; i  < elementValue1.elements.length; i++) {\n                if (elementValue1.elements[i].combinator.value !== elementValue2.elements[i].combinator.value) {\n                    if (i !== 0 || (elementValue1.elements[i].combinator.value || ' ') !== (elementValue2.elements[i].combinator.value || ' ')) {\n                        return false;\n                    }\n                }\n                if (!this.isElementValuesEqual(elementValue1.elements[i].value, elementValue2.elements[i].value)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    },\n    extendSelector:function (matches, selectorPath, replacementSelector) {\n\n        //for a set of matches, replace each match with the replacement selector\n\n        var currentSelectorPathIndex = 0,\n            currentSelectorPathElementIndex = 0,\n            path = [],\n            matchIndex,\n            selector,\n            firstElement,\n            match,\n            newElements;\n\n        for (matchIndex = 0; matchIndex < matches.length; matchIndex++) {\n            match = matches[matchIndex];\n            selector = selectorPath[match.pathIndex];\n            firstElement = new tree.Element(\n                match.initialCombinator,\n                replacementSelector.elements[0].value,\n                replacementSelector.elements[0].index,\n                replacementSelector.elements[0].currentFileInfo\n            );\n\n            if (match.pathIndex > currentSelectorPathIndex && currentSelectorPathElementIndex > 0) {\n                path[path.length - 1].elements = path[path.length - 1]\n                    .elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));\n                currentSelectorPathElementIndex = 0;\n                currentSelectorPathIndex++;\n            }\n\n            newElements = selector.elements\n                .slice(currentSelectorPathElementIndex, match.index)\n                .concat([firstElement])\n                .concat(replacementSelector.elements.slice(1));\n\n            if (currentSelectorPathIndex === match.pathIndex && matchIndex > 0) {\n                path[path.length - 1].elements =\n                    path[path.length - 1].elements.concat(newElements);\n            } else {\n                path = path.concat(selectorPath.slice(currentSelectorPathIndex, match.pathIndex));\n\n                path.push(new tree.Selector(\n                    newElements\n                ));\n            }\n            currentSelectorPathIndex = match.endPathIndex;\n            currentSelectorPathElementIndex = match.endPathElementIndex;\n            if (currentSelectorPathElementIndex >= selectorPath[currentSelectorPathIndex].elements.length) {\n                currentSelectorPathElementIndex = 0;\n                currentSelectorPathIndex++;\n            }\n        }\n\n        if (currentSelectorPathIndex < selectorPath.length && currentSelectorPathElementIndex > 0) {\n            path[path.length - 1].elements = path[path.length - 1]\n                .elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex));\n            currentSelectorPathIndex++;\n        }\n\n        path = path.concat(selectorPath.slice(currentSelectorPathIndex, selectorPath.length));\n\n        return path;\n    },\n    visitRulesetOut: function (rulesetNode) {\n    },\n    visitMedia: function (mediaNode, visitArgs) {\n        var newAllExtends = mediaNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length - 1]);\n        newAllExtends = newAllExtends.concat(this.doExtendChaining(newAllExtends, mediaNode.allExtends));\n        this.allExtendsStack.push(newAllExtends);\n    },\n    visitMediaOut: function (mediaNode) {\n        var lastIndex = this.allExtendsStack.length - 1;\n        this.allExtendsStack.length = lastIndex;\n    },\n    visitDirective: function (directiveNode, visitArgs) {\n        var newAllExtends = directiveNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length - 1]);\n        newAllExtends = newAllExtends.concat(this.doExtendChaining(newAllExtends, directiveNode.allExtends));\n        this.allExtendsStack.push(newAllExtends);\n    },\n    visitDirectiveOut: function (directiveNode) {\n        var lastIndex = this.allExtendsStack.length - 1;\n        this.allExtendsStack.length = lastIndex;\n    }\n};\n\nmodule.exports = ProcessExtendsVisitor;\n\n},{\"../logger\":32,\"../tree\":61,\"./visitor\":89}],84:[function(require,module,exports){\nfunction ImportSequencer(onSequencerEmpty) {\n    this.imports = [];\n    this.variableImports = [];\n    this._onSequencerEmpty = onSequencerEmpty;\n    this._currentDepth = 0;\n}\n\nImportSequencer.prototype.addImport = function(callback) {\n    var importSequencer = this,\n        importItem = {\n            callback: callback,\n            args: null,\n            isReady: false\n        };\n    this.imports.push(importItem);\n    return function() {\n        importItem.args = Array.prototype.slice.call(arguments, 0);\n        importItem.isReady = true;\n        importSequencer.tryRun();\n    };\n};\n\nImportSequencer.prototype.addVariableImport = function(callback) {\n    this.variableImports.push(callback);\n};\n\nImportSequencer.prototype.tryRun = function() {\n    this._currentDepth++;\n    try {\n        while (true) {\n            while (this.imports.length > 0) {\n                var importItem = this.imports[0];\n                if (!importItem.isReady) {\n                    return;\n                }\n                this.imports = this.imports.slice(1);\n                importItem.callback.apply(null, importItem.args);\n            }\n            if (this.variableImports.length === 0) {\n                break;\n            }\n            var variableImport = this.variableImports[0];\n            this.variableImports = this.variableImports.slice(1);\n            variableImport();\n        }\n    } finally {\n        this._currentDepth--;\n    }\n    if (this._currentDepth === 0 && this._onSequencerEmpty) {\n        this._onSequencerEmpty();\n    }\n};\n\nmodule.exports = ImportSequencer;\n\n},{}],85:[function(require,module,exports){\nvar contexts = require(\"../contexts\"),\n    Visitor = require(\"./visitor\"),\n    ImportSequencer = require(\"./import-sequencer\");\n\nvar ImportVisitor = function(importer, finish) {\n\n    this._visitor = new Visitor(this);\n    this._importer = importer;\n    this._finish = finish;\n    this.context = new contexts.Eval();\n    this.importCount = 0;\n    this.onceFileDetectionMap = {};\n    this.recursionDetector = {};\n    this._sequencer = new ImportSequencer(this._onSequencerEmpty.bind(this));\n};\n\nImportVisitor.prototype = {\n    isReplacing: false,\n    run: function (root) {\n        try {\n            // process the contents\n            this._visitor.visit(root);\n        }\n        catch(e) {\n            this.error = e;\n        }\n\n        this.isFinished = true;\n        this._sequencer.tryRun();\n    },\n    _onSequencerEmpty: function() {\n        if (!this.isFinished) {\n            return;\n        }\n        this._finish(this.error);\n    },\n    visitImport: function (importNode, visitArgs) {\n        var inlineCSS = importNode.options.inline;\n\n        if (!importNode.css || inlineCSS) {\n\n            var context = new contexts.Eval(this.context, this.context.frames.slice(0));\n            var importParent = context.frames[0];\n\n            this.importCount++;\n            if (importNode.isVariableImport()) {\n                this._sequencer.addVariableImport(this.processImportNode.bind(this, importNode, context, importParent));\n            } else {\n                this.processImportNode(importNode, context, importParent);\n            }\n        }\n        visitArgs.visitDeeper = false;\n    },\n    processImportNode: function(importNode, context, importParent) {\n        var evaldImportNode,\n            inlineCSS = importNode.options.inline;\n\n        try {\n            evaldImportNode = importNode.evalForImport(context);\n        } catch(e) {\n            if (!e.filename) { e.index = importNode.index; e.filename = importNode.currentFileInfo.filename; }\n            // attempt to eval properly and treat as css\n            importNode.css = true;\n            // if that fails, this error will be thrown\n            importNode.error = e;\n        }\n\n        if (evaldImportNode && (!evaldImportNode.css || inlineCSS)) {\n\n            if (evaldImportNode.options.multiple) {\n                context.importMultiple = true;\n            }\n\n            // try appending if we haven't determined if it is css or not\n            var tryAppendLessExtension = evaldImportNode.css === undefined;\n\n            for (var i = 0; i < importParent.rules.length; i++) {\n                if (importParent.rules[i] === importNode) {\n                    importParent.rules[i] = evaldImportNode;\n                    break;\n                }\n            }\n\n            var onImported = this.onImported.bind(this, evaldImportNode, context),\n                sequencedOnImported = this._sequencer.addImport(onImported);\n\n            this._importer.push(evaldImportNode.getPath(), tryAppendLessExtension, evaldImportNode.currentFileInfo,\n                evaldImportNode.options, sequencedOnImported);\n        } else {\n            this.importCount--;\n            if (this.isFinished) {\n                this._sequencer.tryRun();\n            }\n        }\n    },\n    onImported: function (importNode, context, e, root, importedAtRoot, fullPath) {\n        if (e) {\n            if (!e.filename) {\n                e.index = importNode.index; e.filename = importNode.currentFileInfo.filename;\n            }\n            this.error = e;\n        }\n\n        var importVisitor = this,\n            inlineCSS = importNode.options.inline,\n            isPlugin = importNode.options.plugin,\n            isOptional = importNode.options.optional,\n            duplicateImport = importedAtRoot || fullPath in importVisitor.recursionDetector;\n\n        if (!context.importMultiple) {\n            if (duplicateImport) {\n                importNode.skip = true;\n            } else {\n                importNode.skip = function() {\n                    if (fullPath in importVisitor.onceFileDetectionMap) {\n                        return true;\n                    }\n                    importVisitor.onceFileDetectionMap[fullPath] = true;\n                    return false;\n                };\n            }\n        }\n\n        if (!fullPath && isOptional) {\n            importNode.skip = true;\n        }\n\n        if (root) {\n            importNode.root = root;\n            importNode.importedFilename = fullPath;\n\n            if (!inlineCSS && !isPlugin && (context.importMultiple || !duplicateImport)) {\n                importVisitor.recursionDetector[fullPath] = true;\n\n                var oldContext = this.context;\n                this.context = context;\n                try {\n                    this._visitor.visit(root);\n                } catch (e) {\n                    this.error = e;\n                }\n                this.context = oldContext;\n            }\n        }\n\n        importVisitor.importCount--;\n\n        if (importVisitor.isFinished) {\n            importVisitor._sequencer.tryRun();\n        }\n    },\n    visitRule: function (ruleNode, visitArgs) {\n        if (ruleNode.value.type === \"DetachedRuleset\") {\n            this.context.frames.unshift(ruleNode);\n        } else {\n            visitArgs.visitDeeper = false;\n        }\n    },\n    visitRuleOut : function(ruleNode) {\n        if (ruleNode.value.type === \"DetachedRuleset\") {\n            this.context.frames.shift();\n        }\n    },\n    visitDirective: function (directiveNode, visitArgs) {\n        this.context.frames.unshift(directiveNode);\n    },\n    visitDirectiveOut: function (directiveNode) {\n        this.context.frames.shift();\n    },\n    visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\n        this.context.frames.unshift(mixinDefinitionNode);\n    },\n    visitMixinDefinitionOut: function (mixinDefinitionNode) {\n        this.context.frames.shift();\n    },\n    visitRuleset: function (rulesetNode, visitArgs) {\n        this.context.frames.unshift(rulesetNode);\n    },\n    visitRulesetOut: function (rulesetNode) {\n        this.context.frames.shift();\n    },\n    visitMedia: function (mediaNode, visitArgs) {\n        this.context.frames.unshift(mediaNode.rules[0]);\n    },\n    visitMediaOut: function (mediaNode) {\n        this.context.frames.shift();\n    }\n};\nmodule.exports = ImportVisitor;\n\n},{\"../contexts\":10,\"./import-sequencer\":84,\"./visitor\":89}],86:[function(require,module,exports){\nvar visitors = {\n    Visitor: require(\"./visitor\"),\n    ImportVisitor: require('./import-visitor'),\n    ExtendVisitor: require('./extend-visitor'),\n    JoinSelectorVisitor: require('./join-selector-visitor'),\n    ToCSSVisitor: require('./to-css-visitor')\n};\n\nmodule.exports = visitors;\n\n},{\"./extend-visitor\":83,\"./import-visitor\":85,\"./join-selector-visitor\":87,\"./to-css-visitor\":88,\"./visitor\":89}],87:[function(require,module,exports){\nvar Visitor = require(\"./visitor\");\n\nvar JoinSelectorVisitor = function() {\n    this.contexts = [[]];\n    this._visitor = new Visitor(this);\n};\n\nJoinSelectorVisitor.prototype = {\n    run: function (root) {\n        return this._visitor.visit(root);\n    },\n    visitRule: function (ruleNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n    visitMixinDefinition: function (mixinDefinitionNode, visitArgs) {\n        visitArgs.visitDeeper = false;\n    },\n\n    visitRuleset: function (rulesetNode, visitArgs) {\n        var context = this.contexts[this.contexts.length - 1],\n            paths = [], selectors;\n\n        this.contexts.push(paths);\n\n        if (! rulesetNode.root) {\n            selectors = rulesetNode.selectors;\n            if (selectors) {\n                selectors = selectors.filter(function(selector) { return selector.getIsOutput(); });\n                rulesetNode.selectors = selectors.length ? selectors : (selectors = null);\n                if (selectors) { rulesetNode.joinSelectors(paths, context, selectors); }\n            }\n            if (!selectors) { rulesetNode.rules = null; }\n            rulesetNode.paths = paths;\n        }\n    },\n    visitRulesetOut: function (rulesetNode) {\n        this.contexts.length = this.contexts.length - 1;\n    },\n    visitMedia: function (mediaNode, visitArgs) {\n        var context = this.contexts[this.contexts.length - 1];\n        mediaNode.rules[0].root = (context.length === 0 || context[0].multiMedia);\n    },\n    visitDirective: function (directiveNode, visitArgs) {\n        var context = this.contexts[this.contexts.length - 1];\n        if (directiveNode.rules && directiveNode.rules.length) {\n            directiveNode.rules[0].root = (directiveNode.isRooted || context.length === 0 || null);\n        }\n    }\n};\n\nmodule.exports = JoinSelectorVisitor;\n\n},{\"./visitor\":89}],88:[function(require,module,exports){\nvar tree = require(\"../tree\"),\n    Visitor = require(\"./visitor\");\n\nvar ToCSSVisitor = function(context) {\n    this._visitor = new Visitor(this);\n    this._context = context;\n};\n\nToCSSVisitor.prototype = {\n    isReplacing: true,\n    run: function (root) {\n        return this._visitor.visit(root);\n    },\n\n    visitRule: function (ruleNode, visitArgs) {\n        if (ruleNode.variable) {\n            return;\n        }\n        return ruleNode;\n    },\n\n    visitMixinDefinition: function (mixinNode, visitArgs) {\n        // mixin definitions do not get eval'd - this means they keep state\n        // so we have to clear that state here so it isn't used if toCSS is called twice\n        mixinNode.frames = [];\n    },\n\n    visitExtend: function (extendNode, visitArgs) {\n    },\n\n    visitComment: function (commentNode, visitArgs) {\n        if (commentNode.isSilent(this._context)) {\n            return;\n        }\n        return commentNode;\n    },\n\n    visitMedia: function(mediaNode, visitArgs) {\n        mediaNode.accept(this._visitor);\n        visitArgs.visitDeeper = false;\n\n        if (!mediaNode.rules.length) {\n            return;\n        }\n        return mediaNode;\n    },\n\n    visitImport: function (importNode, visitArgs) {\n        if (importNode.path.currentFileInfo.reference !== undefined && importNode.css) {\n            return;\n        }\n        return importNode;\n    },\n\n    visitDirective: function(directiveNode, visitArgs) {\n        if (directiveNode.name === \"@charset\") {\n            if (!directiveNode.getIsReferenced()) {\n                return;\n            }\n            // Only output the debug info together with subsequent @charset definitions\n            // a comment (or @media statement) before the actual @charset directive would\n            // be considered illegal css as it has to be on the first line\n            if (this.charset) {\n                if (directiveNode.debugInfo) {\n                    var comment = new tree.Comment(\"/* \" + directiveNode.toCSS(this._context).replace(/\\n/g, \"\") + \" */\\n\");\n                    comment.debugInfo = directiveNode.debugInfo;\n                    return this._visitor.visit(comment);\n                }\n                return;\n            }\n            this.charset = true;\n        }\n        function hasVisibleChild(directiveNode) {\n            //prepare list of childs\n            var rule, bodyRules = directiveNode.rules;\n            //if there is only one nested ruleset and that one has no path, then it is\n            //just fake ruleset that got not replaced and we need to look inside it to\n            //get real childs\n            if (bodyRules.length === 1 && (!bodyRules[0].paths || bodyRules[0].paths.length === 0)) {\n                bodyRules = bodyRules[0].rules;\n            }\n            for (var r = 0; r < bodyRules.length; r++) {\n                rule = bodyRules[r];\n                if (rule.getIsReferenced && rule.getIsReferenced()) {\n                    //the directive contains something that was referenced (likely by extend)\n                    //therefore it needs to be shown in output too\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        if (directiveNode.rules && directiveNode.rules.length) {\n            //it is still true that it is only one ruleset in array\n            //this is last such moment\n            this._mergeRules(directiveNode.rules[0].rules);\n            //process childs\n            directiveNode.accept(this._visitor);\n            visitArgs.visitDeeper = false;\n\n            // the directive was directly referenced and therefore needs to be shown in the output\n            if (directiveNode.getIsReferenced()) {\n                return directiveNode;\n            }\n\n            if (!directiveNode.rules || !directiveNode.rules.length) {\n                return ;\n            }\n\n            //the directive was not directly referenced - we need to check whether some of its childs\n            //was referenced\n            if (hasVisibleChild(directiveNode)) {\n                //marking as referenced in case the directive is stored inside another directive\n                directiveNode.markReferenced();\n                return directiveNode;\n            }\n\n            //The directive was not directly referenced and does not contain anything that\n            //was referenced. Therefore it must not be shown in output.\n            return ;\n        } else {\n            if (!directiveNode.getIsReferenced()) {\n                return;\n            }\n        }\n        return directiveNode;\n    },\n\n    checkPropertiesInRoot: function(rules) {\n        var ruleNode;\n        for (var i = 0; i < rules.length; i++) {\n            ruleNode = rules[i];\n            if (ruleNode instanceof tree.Rule && !ruleNode.variable) {\n                throw { message: \"properties must be inside selector blocks, they cannot be in the root.\",\n                    index: ruleNode.index, filename: ruleNode.currentFileInfo ? ruleNode.currentFileInfo.filename : null};\n            }\n        }\n    },\n\n    visitRuleset: function (rulesetNode, visitArgs) {\n        var rule, rulesets = [];\n        if (rulesetNode.firstRoot) {\n            this.checkPropertiesInRoot(rulesetNode.rules);\n        }\n        if (! rulesetNode.root) {\n            if (rulesetNode.paths) {\n                rulesetNode.paths = rulesetNode.paths\n                    .filter(function(p) {\n                        var i;\n                        if (p[0].elements[0].combinator.value === ' ') {\n                            p[0].elements[0].combinator = new(tree.Combinator)('');\n                        }\n                        for (i = 0; i < p.length; i++) {\n                            if (p[i].getIsReferenced() && p[i].getIsOutput()) {\n                                return true;\n                            }\n                        }\n                        return false;\n                    });\n            }\n\n            // Compile rules and rulesets\n            var nodeRules = rulesetNode.rules, nodeRuleCnt = nodeRules ? nodeRules.length : 0;\n            for (var i = 0; i < nodeRuleCnt; ) {\n                rule = nodeRules[i];\n                if (rule && rule.rules) {\n                    // visit because we are moving them out from being a child\n                    rulesets.push(this._visitor.visit(rule));\n                    nodeRules.splice(i, 1);\n                    nodeRuleCnt--;\n                    continue;\n                }\n                i++;\n            }\n            // accept the visitor to remove rules and refactor itself\n            // then we can decide now whether we want it or not\n            if (nodeRuleCnt > 0) {\n                rulesetNode.accept(this._visitor);\n            } else {\n                rulesetNode.rules = null;\n            }\n            visitArgs.visitDeeper = false;\n\n            nodeRules = rulesetNode.rules;\n            if (nodeRules) {\n                this._mergeRules(nodeRules);\n                nodeRules = rulesetNode.rules;\n            }\n            if (nodeRules) {\n                this._removeDuplicateRules(nodeRules);\n                nodeRules = rulesetNode.rules;\n            }\n\n            // now decide whether we keep the ruleset\n            if (nodeRules && nodeRules.length > 0 && rulesetNode.paths.length > 0) {\n                rulesets.splice(0, 0, rulesetNode);\n            }\n        } else {\n            rulesetNode.accept(this._visitor);\n            visitArgs.visitDeeper = false;\n            if (rulesetNode.firstRoot || (rulesetNode.rules && rulesetNode.rules.length > 0)) {\n                rulesets.splice(0, 0, rulesetNode);\n            }\n        }\n        if (rulesets.length === 1) {\n            return rulesets[0];\n        }\n        return rulesets;\n    },\n\n    _removeDuplicateRules: function(rules) {\n        if (!rules) { return; }\n\n        // remove duplicates\n        var ruleCache = {},\n            ruleList, rule, i;\n\n        for (i = rules.length - 1; i >= 0 ; i--) {\n            rule = rules[i];\n            if (rule instanceof tree.Rule) {\n                if (!ruleCache[rule.name]) {\n                    ruleCache[rule.name] = rule;\n                } else {\n                    ruleList = ruleCache[rule.name];\n                    if (ruleList instanceof tree.Rule) {\n                        ruleList = ruleCache[rule.name] = [ruleCache[rule.name].toCSS(this._context)];\n                    }\n                    var ruleCSS = rule.toCSS(this._context);\n                    if (ruleList.indexOf(ruleCSS) !== -1) {\n                        rules.splice(i, 1);\n                    } else {\n                        ruleList.push(ruleCSS);\n                    }\n                }\n            }\n        }\n    },\n\n    _mergeRules: function (rules) {\n        if (!rules) { return; }\n\n        var groups = {},\n            parts,\n            rule,\n            key;\n\n        for (var i = 0; i < rules.length; i++) {\n            rule = rules[i];\n\n            if ((rule instanceof tree.Rule) && rule.merge) {\n                key = [rule.name,\n                    rule.important ? \"!\" : \"\"].join(\",\");\n\n                if (!groups[key]) {\n                    groups[key] = [];\n                } else {\n                    rules.splice(i--, 1);\n                }\n\n                groups[key].push(rule);\n            }\n        }\n\n        Object.keys(groups).map(function (k) {\n\n            function toExpression(values) {\n                return new (tree.Expression)(values.map(function (p) {\n                    return p.value;\n                }));\n            }\n\n            function toValue(values) {\n                return new (tree.Value)(values.map(function (p) {\n                    return p;\n                }));\n            }\n\n            parts = groups[k];\n\n            if (parts.length > 1) {\n                rule = parts[0];\n                var spacedGroups = [];\n                var lastSpacedGroup = [];\n                parts.map(function (p) {\n                    if (p.merge === \"+\") {\n                        if (lastSpacedGroup.length > 0) {\n                            spacedGroups.push(toExpression(lastSpacedGroup));\n                        }\n                        lastSpacedGroup = [];\n                    }\n                    lastSpacedGroup.push(p);\n                });\n                spacedGroups.push(toExpression(lastSpacedGroup));\n                rule.value = toValue(spacedGroups);\n            }\n        });\n    },\n\n    visitAnonymous: function(anonymousNode, visitArgs) {\n        if (!anonymousNode.getIsReferenced()) {\n            return ;\n        }\n\n        anonymousNode.accept(this._visitor);\n        return anonymousNode;\n    }\n};\n\nmodule.exports = ToCSSVisitor;\n\n},{\"../tree\":61,\"./visitor\":89}],89:[function(require,module,exports){\nvar tree = require(\"../tree\");\n\nvar _visitArgs = { visitDeeper: true },\n    _hasIndexed = false;\n\nfunction _noop(node) {\n    return node;\n}\n\nfunction indexNodeTypes(parent, ticker) {\n    // add .typeIndex to tree node types for lookup table\n    var key, child;\n    for (key in parent) {\n        if (parent.hasOwnProperty(key)) {\n            child = parent[key];\n            switch (typeof child) {\n                case \"function\":\n                    // ignore bound functions directly on tree which do not have a prototype\n                    // or aren't nodes\n                    if (child.prototype && child.prototype.type) {\n                        child.prototype.typeIndex = ticker++;\n                    }\n                    break;\n                case \"object\":\n                    ticker = indexNodeTypes(child, ticker);\n                    break;\n            }\n        }\n    }\n    return ticker;\n}\n\nvar Visitor = function(implementation) {\n    this._implementation = implementation;\n    this._visitFnCache = [];\n\n    if (!_hasIndexed) {\n        indexNodeTypes(tree, 1);\n        _hasIndexed = true;\n    }\n};\n\nVisitor.prototype = {\n    visit: function(node) {\n        if (!node) {\n            return node;\n        }\n\n        var nodeTypeIndex = node.typeIndex;\n        if (!nodeTypeIndex) {\n            return node;\n        }\n\n        var visitFnCache = this._visitFnCache,\n            impl = this._implementation,\n            aryIndx = nodeTypeIndex << 1,\n            outAryIndex = aryIndx | 1,\n            func = visitFnCache[aryIndx],\n            funcOut = visitFnCache[outAryIndex],\n            visitArgs = _visitArgs,\n            fnName;\n\n        visitArgs.visitDeeper = true;\n\n        if (!func) {\n            fnName = \"visit\" + node.type;\n            func = impl[fnName] || _noop;\n            funcOut = impl[fnName + \"Out\"] || _noop;\n            visitFnCache[aryIndx] = func;\n            visitFnCache[outAryIndex] = funcOut;\n        }\n\n        if (func !== _noop) {\n            var newNode = func.call(impl, node, visitArgs);\n            if (impl.isReplacing) {\n                node = newNode;\n            }\n        }\n\n        if (visitArgs.visitDeeper && node && node.accept) {\n            node.accept(this);\n        }\n\n        if (funcOut != _noop) {\n            funcOut.call(impl, node);\n        }\n\n        return node;\n    },\n    visitArray: function(nodes, nonReplacing) {\n        if (!nodes) {\n            return nodes;\n        }\n\n        var cnt = nodes.length, i;\n\n        // Non-replacing\n        if (nonReplacing || !this._implementation.isReplacing) {\n            for (i = 0; i < cnt; i++) {\n                this.visit(nodes[i]);\n            }\n            return nodes;\n        }\n\n        // Replacing\n        var out = [];\n        for (i = 0; i < cnt; i++) {\n            var evald = this.visit(nodes[i]);\n            if (evald === undefined) { continue; }\n            if (!evald.splice) {\n                out.push(evald);\n            } else if (evald.length) {\n                this.flatten(evald, out);\n            }\n        }\n        return out;\n    },\n    flatten: function(arr, out) {\n        if (!out) {\n            out = [];\n        }\n\n        var cnt, i, item,\n            nestedCnt, j, nestedItem;\n\n        for (i = 0, cnt = arr.length; i < cnt; i++) {\n            item = arr[i];\n            if (item === undefined) {\n                continue;\n            }\n            if (!item.splice) {\n                out.push(item);\n                continue;\n            }\n\n            for (j = 0, nestedCnt = item.length; j < nestedCnt; j++) {\n                nestedItem = item[j];\n                if (nestedItem === undefined) {\n                    continue;\n                }\n                if (!nestedItem.splice) {\n                    out.push(nestedItem);\n                } else if (nestedItem.length) {\n                    this.flatten(nestedItem, out);\n                }\n            }\n        }\n\n        return out;\n    }\n};\nmodule.exports = Visitor;\n\n},{\"../tree\":61}],90:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],91:[function(require,module,exports){\n'use strict';\n\nvar asap = require('asap')\n\nmodule.exports = Promise;\nfunction Promise(fn) {\n  if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new')\n  if (typeof fn !== 'function') throw new TypeError('not a function')\n  var state = null\n  var value = null\n  var deferreds = []\n  var self = this\n\n  this.then = function(onFulfilled, onRejected) {\n    return new self.constructor(function(resolve, reject) {\n      handle(new Handler(onFulfilled, onRejected, resolve, reject))\n    })\n  }\n\n  function handle(deferred) {\n    if (state === null) {\n      deferreds.push(deferred)\n      return\n    }\n    asap(function() {\n      var cb = state ? deferred.onFulfilled : deferred.onRejected\n      if (cb === null) {\n        (state ? deferred.resolve : deferred.reject)(value)\n        return\n      }\n      var ret\n      try {\n        ret = cb(value)\n      }\n      catch (e) {\n        deferred.reject(e)\n        return\n      }\n      deferred.resolve(ret)\n    })\n  }\n\n  function resolve(newValue) {\n    try { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.')\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then\n        if (typeof then === 'function') {\n          doResolve(then.bind(newValue), resolve, reject)\n          return\n        }\n      }\n      state = true\n      value = newValue\n      finale()\n    } catch (e) { reject(e) }\n  }\n\n  function reject(newValue) {\n    state = false\n    value = newValue\n    finale()\n  }\n\n  function finale() {\n    for (var i = 0, len = deferreds.length; i < len; i++)\n      handle(deferreds[i])\n    deferreds = null\n  }\n\n  doResolve(fn, resolve, reject)\n}\n\n\nfunction Handler(onFulfilled, onRejected, resolve, reject){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null\n  this.resolve = resolve\n  this.reject = reject\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, onFulfilled, onRejected) {\n  var done = false;\n  try {\n    fn(function (value) {\n      if (done) return\n      done = true\n      onFulfilled(value)\n    }, function (reason) {\n      if (done) return\n      done = true\n      onRejected(reason)\n    })\n  } catch (ex) {\n    if (done) return\n    done = true\n    onRejected(ex)\n  }\n}\n\n},{\"asap\":93}],92:[function(require,module,exports){\n'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js')\nvar asap = require('asap')\n\nmodule.exports = Promise\n\n/* Static Functions */\n\nfunction ValuePromise(value) {\n  this.then = function (onFulfilled) {\n    if (typeof onFulfilled !== 'function') return this\n    return new Promise(function (resolve, reject) {\n      asap(function () {\n        try {\n          resolve(onFulfilled(value))\n        } catch (ex) {\n          reject(ex);\n        }\n      })\n    })\n  }\n}\nValuePromise.prototype = Promise.prototype\n\nvar TRUE = new ValuePromise(true)\nvar FALSE = new ValuePromise(false)\nvar NULL = new ValuePromise(null)\nvar UNDEFINED = new ValuePromise(undefined)\nvar ZERO = new ValuePromise(0)\nvar EMPTYSTRING = new ValuePromise('')\n\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value\n\n  if (value === null) return NULL\n  if (value === undefined) return UNDEFINED\n  if (value === true) return TRUE\n  if (value === false) return FALSE\n  if (value === 0) return ZERO\n  if (value === '') return EMPTYSTRING\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value))\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex)\n      })\n    }\n  }\n\n  return new ValuePromise(value)\n}\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr)\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([])\n    var remaining = args.length\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then\n          if (typeof then === 'function') {\n            then.call(val, function (val) { res(i, val) }, reject)\n            return\n          }\n        }\n        args[i] = val\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex)\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i])\n    }\n  })\n}\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) { \n    reject(value);\n  });\n}\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) { \n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    })\n  });\n}\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n}\n\n},{\"./core.js\":91,\"asap\":93}],93:[function(require,module,exports){\n(function (process){\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\n\n// linked list of tasks (single, with head node)\nvar head = {task: void 0, next: null};\nvar tail = head;\nvar flushing = false;\nvar requestFlush = void 0;\nvar isNodeJS = false;\n\nfunction flush() {\n    /* jshint loopfunc: true */\n\n    while (head.next) {\n        head = head.next;\n        var task = head.task;\n        head.task = void 0;\n        var domain = head.domain;\n\n        if (domain) {\n            head.domain = void 0;\n            domain.enter();\n        }\n\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function() {\n                   throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    flushing = false;\n}\n\nif (typeof process !== \"undefined\" && process.nextTick) {\n    // Node.js before 0.9. Note that some fake-Node environments, like the\n    // Mocha test runner, introduce a `process` global without a `nextTick`.\n    isNodeJS = true;\n\n    requestFlush = function () {\n        process.nextTick(flush);\n    };\n\n} else if (typeof setImmediate === \"function\") {\n    // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n    if (typeof window !== \"undefined\") {\n        requestFlush = setImmediate.bind(window, flush);\n    } else {\n        requestFlush = function () {\n            setImmediate(flush);\n        };\n    }\n\n} else if (typeof MessageChannel !== \"undefined\") {\n    // modern browsers\n    // http://www.nonblocking.io/2011/06/windownexttick.html\n    var channel = new MessageChannel();\n    channel.port1.onmessage = flush;\n    requestFlush = function () {\n        channel.port2.postMessage(0);\n    };\n\n} else {\n    // old browsers\n    requestFlush = function () {\n        setTimeout(flush, 0);\n    };\n}\n\nfunction asap(task) {\n    tail = tail.next = {\n        task: task,\n        domain: isNodeJS && process.domain,\n        next: null\n    };\n\n    if (!flushing) {\n        flushing = true;\n        requestFlush();\n    }\n};\n\nmodule.exports = asap;\n\n\n}).call(this,require('_process'))\n},{\"_process\":90}],94:[function(require,module,exports){\n// should work in any browser without browserify\n\nif (typeof Promise.prototype.done !== 'function') {\n  Promise.prototype.done = function (onFulfilled, onRejected) {\n    var self = arguments.length ? this.then.apply(this, arguments) : this\n    self.then(null, function (err) {\n      setTimeout(function () {\n        throw err\n      }, 0)\n    })\n  }\n}\n},{}],95:[function(require,module,exports){\n// not \"use strict\" so we can declare global \"Promise\"\n\nvar asap = require('asap');\n\nif (typeof Promise === 'undefined') {\n  Promise = require('./lib/core.js')\n  require('./lib/es6-extensions.js')\n}\n\nrequire('./polyfill-done.js');\n\n},{\"./lib/core.js\":91,\"./lib/es6-extensions.js\":92,\"./polyfill-done.js\":94,\"asap\":93}]},{},[2])(2)\n});"],"sourceRoot":"/source/"}